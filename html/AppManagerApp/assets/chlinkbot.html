<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Untitled</title><style type="text/css"><!--
  .s1 { font-family: serif; font-weight: normal; font-size: 24.5pt; }
 .s2 { font-family: serif; font-weight: normal; font-size: 14pt; }
 .s3 { font-family: serif; font-weight: normal; font-size: 12pt; }
 .s4 { color: #00F; font-family: serif; font-weight: normal; font-size: 11pt; }
 .p, p { font-family: serif; font-weight: normal; font-size: 11pt; }
 .s5 { font-family: sans-serif; font-weight: normal; font-size: 11pt; }
 .s6 { font-family: serif; font-weight: normal; font-size: 29.5pt; }
 .s7 { font-family: serif; font-weight: normal; font-size: 11pt; }
 .s8 { color: #F00; font-family: serif; font-weight: normal; font-size: 11pt; }
 .s10 { font-family: sans-serif; font-weight: normal; font-size: 11pt; }
 .s11 { color: #FF1CCE; font-family: serif; font-weight: normal; font-size: 11pt; }
 .s13 { font-family: serif; font-weight: normal; text-decoration: underline; font-size: 24.5pt; }
 .s15 { font-family: serif; font-weight: normal; font-size: 8pt; }
 .s16 { color: #FF1CCE; font-family: monospace; font-weight: normal; font-size: 9pt; }
 .s17 { font-family: monospace; font-weight: normal; font-size: 9pt; }
 .s19 { background-color: #C0C0C0; font-family: monospace; font-weight: normal; font-size: 9pt; }
 .s20 { color: #0F0; font-family: sans-serif; font-weight: normal; font-size: 11pt; }
 a { font-family: serif; font-weight: normal; font-size: 11pt; }
 .s21 { font-family: serif; font-weight: normal; font-size: 20.5pt; }
 .s22 { font-family: serif; font-weight: normal; font-size: 9pt; }
 .s23 { font-family: monospace; font-weight: normal; font-size: 11pt; }
 .s25 { color: #009800; font-family: monospace; font-weight: normal; font-size: 9pt; }
 .s26 { color: #0F0; font-family: monospace; font-weight: normal; font-size: 11pt; }
 .s27 { color: #998342; font-family: monospace; font-weight: normal; font-size: 9pt; }
 .s28 { color: #998342; font-family: serif; font-weight: normal; font-size: 11pt; }
 .s29 { color: #998342; font-family: monospace; font-weight: normal; font-size: 11pt; }
 .s30 { font-family: monospace; font-weight: normal; font-size: 11pt; }
 .s32 { color: #7F007F; font-family: serif; font-weight: normal; font-size: 14pt; }
 .s33 { color: #F00; font-family: monospace; font-weight: normal; font-size: 9pt; }
 .s34 { color: #FF1CCE; font-family: serif; font-weight: normal; font-size: 20.5pt; }
 .s36 { font-family: sans-serif; font-weight: normal; font-size: 20.5pt; }
 .s37 { color: #998342; font-family: sans-serif; font-weight: normal; font-size: 11pt; }
 .s38 { font-family: serif; font-weight: normal; font-size: 9pt; }
 .s40 { font-family: sans-serif; font-weight: normal; font-size: 12pt; }
 .s41 { color: #F00; font-family: serif; font-weight: normal; font-size: 20.5pt; }
 .s43 { color: #009800; font-family: monospace; font-weight: normal; font-size: 9pt; }
 .s44 { font-family: sans-serif; font-weight: normal; font-size: 7pt; }
 .s45 { font-family: sans-serif; font-weight: normal; font-size: 8pt; }
 .s46 { font-family: sans-serif; font-weight: normal; font-size: 10pt; }
 .s47 { font-family: sans-serif; font-weight: normal; font-size: 8.5pt; }
 .s48 { font-family: sans-serif; font-weight: normal; font-size: 5pt; }
 .s49 { font-family: monospace; font-weight: normal; font-size: 9pt; }
 .s50 { color: #7F007F; font-family: monospace; font-weight: normal; font-size: 9pt; }
 .s51 { font-family: monospace; font-weight: normal; font-size: 10pt; }
 .s52 { font-family: serif; font-weight: normal; font-size: 10pt; }
  -->
</style></head><body><p class="s1">Learning Robot Programming</p><p class="s1">with Linkbot for the Absolute Beginner</p><p class="s2">Harry H. Cheng</p><p class="s3">UC Davis Center for Integrated Computing  and STEM Education  (C-STEM) University of California-Davis</p><p><a href="http://c-stem.ucdavis.edu/" class="s4">http://c-stem.ucdavis.edu</a><br/><span><IMG width="285" height="190" src="chlinkbot/Image_001.jpg"/></span></p><p class="s2">July 29, 2014</p><p>Any income generated from this book will go to the C-STEM fund directly to support the C-STEM program.<br/>Copyright <span class="s5">O</span>c<br/>2014 by Harry H. Cheng, All rights reserved. Permission is granted for users to make copies<br/>for their own personal use or educational use.  Further reproduction, or any copying of machine-readable files (including this one) to any server computer, is strictly prohibited, unless a prior approval is obtained from the author.<br/><span><IMG width="624" height="3" src="chlinkbot/Image_002.png"/></span></p><p class="s6">Table of Contents</p><p>Preface . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .    xi<br/>1   Introduction                                                                                                                                  1<br/>1.1    Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .     1<br/>1.2<br/>1.3<br/>1.4<br/>1.5<br/>2   Controlling  a Linkbot Using the Motion Control Panel                                                                    10<br/>2.1    The Zero Positions of the Linkbot   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   10<br/>ii<br/>2.2<br/>2.3<br/>2.4<br/>3   Getting Started  With Programming Linkbots                                                                                    27<br/>3.1    Get Started with Ch for Computer Programming . . . . . . . . . . . . . . . . . . . . . . . .   27</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">3.1.1</p></td><td><p class="s7">Getting Started with ChIDE   .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">27</p></td></tr><tr><td><p class="s7">3.1.2</p></td><td><p class="s7">The First Ch Program   . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">28</p></td></tr><tr><td><p class="s7">3.1.3</p></td><td><p class="s7">Editing Programs . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">29</p></td></tr><tr><td><p class="s7">3.1.4</p></td><td><p class="s7">Running Programs and Stopping Their Execution .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">29</p></td></tr><tr><td><p class="s7">3.1.5</p></td><td><p class="s7">Output from Execution of Programs  . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">29</p></td></tr><tr><td><p class="s7">3.1.6</p></td><td><p class="s7">Newline Character  . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">30</p></td></tr><tr><td><p class="s7">3.1.7</p></td><td><p class="s7">Copying Contents in a Program to Another Program in ChIDE</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">30</p></td></tr><tr><td><p class="s7">3.1.8</p></td><td><p class="s7">Correcting Errors in Programs  . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">31</p></td></tr><tr><td><p class="s7">3.1.9</p></td><td><p class="s7">Browsing Files  . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">32</p></td></tr><tr><td><p class="s7">3.1.10</p></td><td><p class="s7">Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">32</p></td></tr><tr><td><p class="s7">3.1.11</p></td><td><p class="s7">Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">34</p></td></tr><tr><td><p class="s7">3.1.12</p></td><td><p class="s7">Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">34</p></td></tr><tr><td><p class="s7">3.2    Move</p></td><td><p class="s7">Joints Relative to their Current Positions</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">35</p></td></tr><tr><td><p class="s7">3.2.1</p></td><td><p class="s7">Summary  . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">36</p></td></tr><tr><td><p class="s7">3.2.2</p></td><td><p class="s7">Terminology   . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">37</p></td></tr></table><p>iii</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td/><td><p class="s7">3.2.3    Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">37</p></td></tr><tr><td><p class="s7">3.3</p></td><td><p class="s7">Drive Forward and Drive Backward Relative to its Current Joint Position .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">38</p></td></tr></table><p>3.3.1    Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   39<br/>3.3.2    Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   39<br/>3.3.3    Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   39<br/>3.4    Monitor Joint Angles Using the Motion Control Panel . . . . . . . . . . . . . . . . . . . . .   39<br/>3.4.1    Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   41<br/>3.4.2    Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   41<br/>3.4.3    Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   41<br/>3.5    Set the LED Color   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   41<br/>3.5.1    Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   42<br/>3.5.2    Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   42<br/>3.5.3    Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   43<br/>3.6   <span><IMG width="18" height="18" src="chlinkbot/Image_003.gif"/></span> Control the Linkbot-L . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   43<br/>3.6.1    Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   44<br/>3.6.2    Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   44<br/>3.6.3    <span><IMG width="18" height="18" src="chlinkbot/Image_004.gif"/></span> Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   44<br/>3.7     Control a Linkbot Wirelessly Without Connecting with a USB Cable   . . . . . . . . . . . .   45<br/>3.7.1    Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   46<br/>3.7.2    Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   46<br/>3.7.3    Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   46<br/>4   Robot Simulation with RoboSim                                                                                                         47</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">4.1</p></td><td><p class="s7">RoboSim GUI . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">47</p></td></tr><tr><td><p class="s7">4.1.1</p></td><td><p class="s7">Platform</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">48</p></td></tr><tr><td><p class="s7">4.1.2</p></td><td><p class="s7">Units   . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">48</p></td></tr><tr><td><p class="s7">4.1.3</p></td><td><p class="s7">Tracing  .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">49</p></td></tr><tr><td><p class="s7">4.1.4</p></td><td><p class="s7">Grid Configuration . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">49</p></td></tr><tr><td><p class="s7">4.1.5</p></td><td><p class="s7">Individual Robot Configuration</p></td><td/><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">50</p></td></tr><tr><td><p class="s7">4.1.6    Preconfigured Linkbot Configurations . . . . . . . . . . . . . . . . . . . . . . . . .   51</p></td></tr><tr><td><p class="s7">4.1.7</p></td><td><p class="s7">Summary  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">52</p></td></tr><tr><td><p class="s7">4.1.8</p></td><td><p class="s7">Terminology</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">52</p></td></tr><tr><td><p class="s7">4.1.9</p></td><td><p class="s7">Exercises  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">52</p></td></tr><tr><td><p class="s7">4.2    Run a Ch Program with RoboSim   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   53</p></td></tr><tr><td><p class="s7">4.2.1</p></td><td><p class="s7">Summary  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">55</p></td></tr><tr><td><p class="s7">4.2.2</p></td><td><p class="s7">Terminology</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">55</p></td></tr><tr><td><p class="s7">4.2.3</p></td><td><p class="s7">Exercises  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">55</p></td></tr><tr><td><p class="s7">4.3    Interact with a RoboSim Scene . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   55</p></td></tr><tr><td><p class="s7">4.3.1</p></td><td><p class="s7">Keyboard Input</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">55</p></td></tr><tr><td><p class="s7">4.3.2</p></td><td><p class="s7">Mouse Input   .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">57</p></td></tr><tr><td><p class="s7">4.3.3</p></td><td><p class="s7">Summary  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">58</p></td></tr><tr><td><p class="s7">4.3.4</p></td><td><p class="s7">Terminology</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">58</p></td></tr><tr><td><p class="s7">4.3.5</p></td><td><p class="s7">Exercises  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">59</p></td></tr></table><p>iv<br/>5   Interacting with a Linkbot at Runtime through  Variables and Input/Output Functions               60</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">5.1</p></td><td><p class="s7">Use Variables  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">60</p></td></tr><tr><td/><td><p class="s7">5.1.1    Declaration of Variables and Data Type <span style=" color: #F00;">double </span>for Decimals .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">61</p></td></tr><tr><td/><td><p class="s7">5.1.2    Initialization   . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">61</p></td></tr><tr><td/><td><p class="s7">5.1.3    Data Type <span style=" color: #F00;">int </span>for Integers   . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">62</p></td></tr><tr><td/><td><p class="s7">5.1.4    Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">64</p></td></tr><tr><td/><td><p class="s7">5.1.5    Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">65</p></td></tr><tr><td/><td><p class="s7">5.1.6    Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">65</p></td></tr><tr><td><p class="s7">5.2</p></td><td><p class="s7">The Output Function <span style=" color: #FF1CCE;">printf</span>()  . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">65</p></td></tr><tr><td/><td><p class="s7">5.2.1    Precision of Decimal Numbers . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">66</p></td></tr><tr><td/><td><p class="s7">5.2.2    Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">67</p></td></tr><tr><td/><td><p class="s7">5.2.3    Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">68</p></td></tr><tr><td/><td><p class="s7">5.2.4    Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">68</p></td></tr><tr><td><p class="s7">5.3</p></td><td><p class="s7">Input into Programs Using Function <span style=" color: #FF1CCE;">scanf</span>()  . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">68</p></td></tr><tr><td/><td><p class="s7">5.3.1    Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">70</p></td></tr><tr><td/><td><p class="s7">5.3.2    Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">71</p></td></tr><tr><td/><td><p class="s7">5.3.3    Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">71</p></td></tr><tr><td><p class="s7">5.4</p></td><td><p class="s7">Move a Distance for a Two-Wheel Robot   . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">71</p></td></tr><tr><td/><td><p class="s7">5.4.1    Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">72</p></td></tr><tr><td/><td><p class="s7">5.4.2    Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">72</p></td></tr><tr><td/><td><p class="s7">5.4.3    Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">72</p></td></tr><tr><td><p class="s7">5.5</p></td><td><p class="s7">Turn Left and Turn Right  . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">73</p></td></tr><tr><td/><td><p class="s7">5.5.1    Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">74</p></td></tr><tr><td/><td><p class="s7">5.5.2    Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">74</p></td></tr><tr><td/><td><p class="s7">5.5.3    Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">75</p></td></tr></table><p>6   Writing Programs to Control a Group of Linkbots to Perform  Identical Tasks                             76<br/>6.1    Control a Group of Linkbots with Identical Movements . . . . . . . . . . . . . . . . . . . .   76<br/>6.2<br/>7   Writing Programs to Control a Single Linkbot                                                                                  84<br/>7.1    Multiple Motion Statements in a Program  . . . . . . . . . . . . . . . . . . . . . . . . . . .   84</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">7.1.1</p></td><td><p class="s7">Summary  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">85</p></td></tr><tr><td><p class="s7">7.1.2</p></td><td><p class="s7">Terminology</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">85</p></td></tr><tr><td><p class="s7">7.1.3</p></td><td><p class="s7">Exercises  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">85</p></td></tr><tr><td><p class="s7">7.2    Move Joints to their Absolute Positions   . . . . . . . . . . . . . . . . . . . . . . . . . . . .   85</p></td></tr><tr><td><p class="s7">7.2.1</p></td><td><p class="s7">Summary  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">86</p></td></tr><tr><td><p class="s7">7.2.2</p></td><td><p class="s7">Terminology</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">87</p></td></tr><tr><td><p class="s7">7.2.3</p></td><td><p class="s7">Exercises  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">87</p></td></tr><tr><td><p class="s7">7.3</p></td><td><p class="s7">Get Joint Angles   . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">87</p></td></tr></table><p>v</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">7.3.1</p></td><td><p class="s7">Get a Joint Angle . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">87</p></td></tr><tr><td><p class="s7">7.3.2</p></td><td><p class="s7">Get Multiple Joint Angles</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">88</p></td></tr><tr><td/><td><p class="s7">7.3.3</p></td><td><p class="s7">Summary  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">89</p></td></tr><tr><td/><td><p class="s7">7.3.4</p></td><td><p class="s7">Terminology</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">89</p></td></tr><tr><td/><td><p class="s7">7.3.5</p></td><td><p class="s7">Exercises  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">90</p></td></tr><tr><td><p class="s7">7.4</p></td><td><p class="s7">Move</p></td><td><p class="s7">a Single Joint .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">90</p></td></tr><tr><td><p class="s7">7.4.1</p></td><td><p class="s7">Move a Single Joint to the Absolute Position   . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">90</p></td></tr><tr><td><p class="s7">7.4.2</p></td><td><p class="s7">Move a Single Joint Relative to the Current Position</p></td><td/><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">91</p></td></tr><tr><td><p class="s7">7.4.3    Delay the Motion of a Linkbot Using the Member Function delaySeconds() . . . . .   91</p></td></tr><tr><td><p class="s7">7.4.4</p></td><td><p class="s7">Summary  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">93</p></td></tr><tr><td><p class="s7">7.4.5</p></td><td><p class="s7">Terminology</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">93</p></td></tr><tr><td><p class="s7">7.4.6</p></td><td><p class="s7">Exercises  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">93</p></td></tr><tr><td><p class="s7">7.5    Get and Set Joint Speeds  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   93</p></td></tr><tr><td><p class="s7">7.5.1</p></td><td><p class="s7">Get and Set a Joint Speed . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">94</p></td></tr><tr><td><p class="s7">7.5.2</p></td><td><p class="s7">Get and Set Joint Speeds  . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">95</p></td></tr><tr><td><p class="s7">7.5.3</p></td><td><p class="s7">Get and Set a Joint Speed Ratio</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">96</p></td></tr><tr><td><p class="s7">7.5.4</p></td><td><p class="s7">Get and Set Joint Speed Ratios .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">97</p></td></tr><tr><td><p class="s7">7.5.5</p></td><td><p class="s7">Summary  . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">98</p></td></tr><tr><td><p class="s7">7.5.6</p></td><td><p class="s7">Terminology   . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">99</p></td></tr><tr><td><p class="s7">7.5.7</p></td><td><p class="s7">Exercises  . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">99</p></td></tr><tr><td><p class="s7">7.6</p></td><td><p class="s10">‡ <span class="s7">Convert Units of Angles between Degrees and Radians</span></p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 100</p></td></tr><tr><td/><td><p class="s7">7.6.1    Summary  . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 102</p></td></tr><tr><td/><td><p class="s7">7.6.2    Terminology   . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 102</p></td></tr><tr><td/><td><p class="s7">7.6.3    Exercises  . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 102</p></td></tr></table><p>8   Writing Advanced Programs to Control a Single Linkbot                                                              103<br/>8.1    Plot a Curve Using the Plotting Member Function data2DCurve()  . . . . . . . . . . . . . . 103<br/>8.2<br/>8.3<br/>8.4<br/>8.5<br/>vi<br/>9   Controlling  a Linkbot-I  as a Two-Wheel Robot                                                                               118<br/>9.1    Move a Two-Wheel Robot with the Specified Distance   . . . . . . . . . . . . . . . . . . . . 119<br/>9.1.1    Move a Two-Wheel Robot with the Specified Speed, Joint Angles, and Distance   . . 119<br/>9.1.2    Control a Linkbot-I with the Speed and Distance Input from the User Using the<br/>Function <span style=" color: #FF1CCE;">scanf</span>()   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 120<br/>9.1.3    Estimate the Error in Distance and Use the Function getDistance() . . . . . . . . . . 121<br/>9.1.4    <span class="s5">‡ </span>Use the Functions <span style=" color: #FF1CCE;">distance2angle</span>() and <span style=" color: #FF1CCE;">angle2distance</span>()   . . . . . . . . . . . . . 123<br/>9.1.5    Get the Time for a Two-Wheel Robot to Complete its Movement with the Specified<br/>Speed and Distance . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 125<br/>9.1.6    Plot Distances versus Time for a Two-Wheel Linkbot-I with the Specified Speed and<br/>Distance . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 126<br/>9.1.7    Plot Distances versus Time with an Offset for the Distance  . . . . . . . . . . . . . . 129<br/>9.1.8    Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 132<br/>9.1.9    Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 133<br/>9.1.10  Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 133<br/>9.2    Move a Two-Wheel Robot with the Specified Time  . . . . . . . . . . . . . . . . . . . . . . 135<br/>9.2.1    Control a Linkbot-I with the Speed and Time Input from the User Using the Function</p><p class="s11">scanf<span style=" color: #000;">()   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 135</span></p><p>9.2.2    Get the Moved Distance Based on the Specified Speed and Time . . . . . . . . . . . 136<br/>9.2.3    Plot Distances versus Time for a Two-Wheel Linkbot-I with the Specified Speed and<br/>Time   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 137<br/>9.2.4    Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 140<br/>9.2.5    Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 140<br/>9.2.6    Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 140<br/>9.3    Use Different Units for Speed, Radius, and Distance . . . . . . . . . . . . . . . . . . . . . . 141</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">9.3.1</p></td><td><p class="s7">Summary  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 142</p></td></tr><tr><td><p class="s7">9.3.2</p></td><td><p class="s7">Terminology</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 143</p></td></tr><tr><td><p class="s7">9.3.3</p></td><td><p class="s7">Exercises  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 143</p></td></tr></table><p>10 Sensory Information for a Linkbot                                                                                                    145<br/><span><IMG width="5" height="1" src="chlinkbot/Image_005.png"/></span><br/>10.1  Set and Get the LED Color by Name Using the Data Type <span style=" color: #F00;">string  t  </span>. . . . . . . . . . . . . . 145<br/>10.1.1  Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 147<br/>10.1.2  Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 147<br/>10.1.3  Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 147<br/>10.2  Set and Get the LED Color by RGB Values   . . . . . . . . . . . . . . . . . . . . . . . . . . 147<br/>10.2.1  Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 150<br/>10.2.2  Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 150<br/>10.2.3  Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 150<br/>10.3  Set the Buzzer Frequency of a Linkbot . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 151<br/>10.3.1  Set the Buzzer to a Specified Frequency . . . . . . . . . . . . . . . . . . . . . . . . 151<br/>10.3.2  Set the Buzzer Multiple Times Using a <span style=" color: #F00;">while </span>Loop with a User Specified Frequency  152<br/>10.3.3  Change the Buzzer Frequency a Predetermined Number of Times   . . . . . . . . . . 153<br/>10.3.4  Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 154<br/>10.3.5  Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 154<br/>10.3.6  Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 155</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">10.4</p></td><td><p class="s7">Get the Accelerometer Data .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 155</p></td></tr><tr><td/><td><p class="s7">10.4.1  Summary  . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 157</p></td></tr></table><p>vii</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">10.4.2  Terminology   .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 157</p></td></tr><tr><td><p class="s7">10.4.3  Exercises  . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 157</p></td></tr><tr><td><p class="s7">10.5  Get the Battery Voltage</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 157</p></td></tr><tr><td><p class="s7">10.5.1  Summary  . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 160</p></td></tr><tr><td><p class="s7">10.5.2  Terminology   .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 160</p></td></tr><tr><td><p class="s7">10.5.3  Exercises  . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 160</p></td></tr></table><p>11 Writing Programs to Control Multiple Individual  Linkbots                                                           161<br/>11.1  Control Multiple Linkbots Using the Motion Control Panel  . . . . . . . . . . . . . . . . . . 161<br/>11.1.1  Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 161<br/>11.1.2  Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 161<br/>11.1.3  Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 161<br/>11.2  Control Multiple Linkbots Using a Program  . . . . . . . . . . . . . . . . . . . . . . . . . . 162<br/>11.2.1  Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 163<br/>11.2.2  Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 163<br/>11.2.3  Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 163<br/>11.3  Blocking versus Non-Blocking Functions   . . . . . . . . . . . . . . . . . . . . . . . . . . . 163<br/>11.3.1  Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 167<br/>11.3.2  Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 167<br/>11.3.3  Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 167<br/>11.4  Synchronize the Motion of Multiple Linkbots  . . . . . . . . . . . . . . . . . . . . . . . . . 168<br/>11.4.1  Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 171<br/>11.4.2  Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 172<br/>11.4.3  Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 172<br/>11.5  Move Multiple Linkbots with Specified Distances or Joint Angles   . . . . . . . . . . . . . . 172<br/>11.5.1  Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 175<br/>11.5.2  Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 175<br/>11.5.3  Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 175<br/>11.6  Plot Recorded Distances and Time for Multiple Linkbots  . . . . . . . . . . . . . . . . . . . 176<br/>11.6.1  Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 179<br/>11.6.2  Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 180<br/>11.6.3  Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 180<br/>11.7  Move Multiple Linkbots with Specified Time   . . . . . . . . . . . . . . . . . . . . . . . . . 181<br/>11.7.1  Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 185<br/>11.7.2  Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 186<br/>11.7.3  Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 186<br/>11.8  Move Multiple Linkbots Forever  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 187<br/>11.8.1  A Baton Passing Robot Relay Race   . . . . . . . . . . . . . . . . . . . . . . . . . . 191</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">11.8.2</p></td><td><p class="s7">Summary  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 193</p></td></tr><tr><td><p class="s7">11.8.3</p></td><td><p class="s7">Terminology</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 194</p></td></tr><tr><td><p class="s7">11.8.4</p></td><td><p class="s7">Exercises  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 194</p></td></tr><tr><td><p class="s7">11.9  Plot Recorded Distances and Time for Multiple Linkbots with an Offset for the Distance   . . 195</p></td></tr><tr><td><p class="s7">11.9.1</p></td><td><p class="s7">Summary  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 201</p></td></tr><tr><td><p class="s7">11.9.2</p></td><td><p class="s7">Terminology</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 201</p></td></tr><tr><td><p class="s7">11.9.3</p></td><td><p class="s7">Exercises  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 201</p></td></tr><tr><td><p class="s7">11.10<span class="s10">‡ </span>Copy Motions of a Controller Linkbot to a Controlled Linkbot</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 204</p></td></tr><tr><td><p class="s7">11.10.1 Repeat Actions Using a <span style=" color: #F00;">while </span>Loop  . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 204</p></td></tr></table><p>viii</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">11.10.2 Summary  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 208</p></td></tr><tr><td><p class="s7">11.10.3 Terminology</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 208</p></td></tr><tr><td><p class="s7">11.10.4 Exercises  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 208</p></td></tr></table><p>12 Writing Programs to Control One or Multiple Groups of Linkbots                                               210<br/>12.1  Copy Motions from One Linkbot to Multiple Linkbots with Identical Movements  . . . . . . 210<br/>12.2<br/>13 Controlling  Multiple Connected Linkbots                                                                                        218<br/>13.1  Control Multiple Connected Linkbots   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 218<br/>13.1.1  Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 226<br/>13.1.2  Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 226<br/>13.1.3  Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 226<br/>13.2  Program Linkbots with Pose Teaching  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 227<br/>13.2.1  Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 231<br/>13.2.2  Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 231<br/>13.2.3  Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 231<br/>13.3 <span><IMG width="18" height="18" src="chlinkbot/Image_006.gif"/></span> Control Multiple Connected Linkbot-Ls  . . . . . . . . . . . . . . . . . . . . . . . . . . 232<br/>13.3.1  Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 245<br/>13.3.2  Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 246<br/>13.3.3  <span><IMG width="18" height="18" src="chlinkbot/Image_007.gif"/></span> Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 246<br/>13.4 <span><IMG width="18" height="18" src="chlinkbot/Image_008.gif"/></span> Control a Group of Connected Linkbots with Identical Movements . . . . . . . . . . . . 250<br/>13.4.1  Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 256<br/>13.4.2  Terminology   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 257<br/>13.4.3  <span><IMG width="18" height="18" src="chlinkbot/Image_009.gif"/></span> Exercises  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 257<br/>Appendix                                                                                                                                                    258<br/>A   Using Advanced Programming Features                                                                                           259<br/>A.1   Make a Decision Using an <span style=" color: #F00;">if </span>and <span style=" color: #F00;">else if </span>Statements . . . . . . . . . . . . . . . . . . . . . . 259</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">A.2</p></td><td><p class="s7">Use a <span style=" color: #F00;">while</span>-Loop for Repeating Motions</p></td><td/><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 262</p></td></tr><tr><td><p class="s7">A.3</p></td><td><p class="s7">Use a <span style=" color: #F00;">for</span>-Loop for Repeating Motions .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 263</p></td></tr><tr><td><p class="s7">A.4</p></td><td><p class="s7">Use a Function with an Argument of</p></td><td/><td/><td/><td/><td/><td/><td/><td/><td/><td/><td/><td/><td/><td/><td/><td/><td/><td/><td/><td/><td/><td/><td/><td/><td/><td/><td/><td/></tr><tr><td/><td><p class="s7">the <span style=" color: #FF1CCE;">CLinkbotI </span>Class  . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 264</p></td></tr><tr><td/><td><p class="s7">A.4.1   Exercises  . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 265</p></td></tr></table><p>B   Moving Robots in a Coordinate System in RoboSim                                                                       266<br/>B.1   Move a Linkbot-I in a Coordinate System  . . . . . . . . . . . . . . . . . . . . . . . . . . . 266<br/>B.1.1    Summary  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 275<br/>ix</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td/><td><p class="s7">B.1.2    Terminology   . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 276</p></td></tr><tr><td/><td><p class="s7">B.1.3    Exercises  . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 276</p></td></tr><tr><td><p class="s7">B.2</p></td><td><p class="s7">Move a Linkbot-I Along a Trajectory .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 279</p></td></tr><tr><td/><td><p class="s7">B.2.1    Summary  . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 284</p></td></tr><tr><td/><td><p class="s7">B.2.2    Terminology   . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 284</p></td></tr><tr><td/><td><p class="s7">B.2.3    Exercises  . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 284</p></td></tr><tr><td><p class="s7">B.3</p></td><td><p class="s7">Trace the Positions of a Linkbot-I   . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 285</p></td></tr><tr><td/><td><p class="s7">B.3.1    Summary  . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 287</p></td></tr><tr><td/><td><p class="s7">B.3.2    Terminology   . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 287</p></td></tr><tr><td/><td><p class="s7">B.3.3    Exercises  . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 287</p></td></tr><tr><td><p class="s7">B.4</p></td><td><p class="s7">Record the Positions of a Linkbot-I . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 287</p></td></tr><tr><td/><td><p class="s7">B.4.1    Summary  . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 290</p></td></tr><tr><td/><td><p class="s7">B.4.2    Terminology   . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 291</p></td></tr><tr><td/><td><p class="s7">B.4.3    Exercises  . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 291</p></td></tr><tr><td><p class="s7">B.5   Create an Obstacle Course with Points, Lines, and Text on a RoboSim Scene . . . . . . . . . 291</p></td></tr><tr><td><p class="s7">B.5.1</p></td><td><p class="s7">Summary  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 296</p></td></tr><tr><td><p class="s7">B.5.2</p></td><td><p class="s7">Terminology</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 296</p></td></tr><tr><td><p class="s7">B.5.3</p></td><td><p class="s7">Exercises  . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 297</p></td></tr><tr><td><p class="s7">B.6   Move Multiple Linkbot-Is in a Coordinate System . . . . . . . . . . . . . . . . . . . . . . . 298</p></td></tr><tr><td/><td><p class="s7">B.6.1    Summary  . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 300</p></td></tr><tr><td/><td><p class="s7">B.6.2    Terminology   . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 300</p></td></tr><tr><td/><td><p class="s7">B.6.3    Exercises  . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 300</p></td></tr><tr><td><p class="s7">B.7</p></td><td><p class="s7">Trace and Record the Positions of Multiple Linkbot-Is</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 302</p></td></tr><tr><td/><td><p class="s7">B.7.1    Exercises  . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 306</p></td></tr><tr><td><p class="s7">B.8</p></td><td><p class="s7">Move Multiple Linkbot-Is Along Different Trajectories</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 307</p></td></tr><tr><td/><td><p class="s7">B.8.1    Summary  . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 312</p></td></tr><tr><td/><td><p class="s7">B.8.2    Terminology   . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 312</p></td></tr><tr><td/><td><p class="s7">B.8.3    Exercises  . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 312</p></td></tr></table><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">C   Colors Available for Use with the Member Functions setLEDColor() and getLEDColor()</p></td><td/><td/><td><p class="s7">314</p></td></tr><tr><td><p class="s7">D   Quick References to Ch</p></td><td/><td/><td><p class="s7">318</p></td></tr><tr><td><p class="s7">D.1   Reserved Keywords and Names   . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 318</p></td></tr><tr><td><p class="s7">D.2   Punctuators  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 318</p></td></tr><tr><td><p class="s7">D.3   Comments . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 318</p></td></tr><tr><td><p class="s7">D.4   Header Files . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 318</p></td></tr><tr><td><p class="s7">D.5   Declaration of Variables for Integers and Decimals   . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 319</p></td></tr><tr><td><p class="s7">D.6   Declaration of Functions  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 319</p></td></tr><tr><td><p class="s7">D.7   The <span style=" color: #F00;">if</span>-<span style=" color: #F00;">else </span>Statement  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 319</p></td></tr><tr><td><p class="s7">D.8   The <span style=" color: #F00;">while </span>Loop . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 319</p></td></tr><tr><td><p class="s7">D.9   Input Function <span style=" color: #FF1CCE;">scanf</span>() and Output Function <span style=" color: #FF1CCE;">printf</span>()    . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 319</p></td></tr><tr><td><p class="s7">D.10 Math Operators  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 320</p></td></tr><tr><td><p class="s7">D.11 Relational Operators   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 320</p></td></tr><tr><td><p class="s7">D.12 Math Functions <span style=" color: #FF1CCE;">sqrt</span>(), <span style=" color: #FF1CCE;">pow</span>(), and <span style=" color: #FF1CCE;">abs</span>()  . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 320</p></td></tr><tr><td><p class="s7">D.13 Member Functions of the Plotting Class <span style=" color: #FF1CCE;">CPlot </span>. . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 320</p></td></tr></table><p>x<br/>E   Quick Reference to Linkbot Member Functions                                                                              324</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">E.1</p></td><td><p class="s7">Data Types   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 324</p></td></tr><tr><td><p class="s7">E.2</p></td><td><p class="s7">Member Functions Available in both Classes <span style=" color: #FF1CCE;">CLinkbotI </span>and <span style=" color: #FF1CCE;">CLinkbotL</span></p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 325</p></td></tr><tr><td><p class="s7">E.3</p></td><td><p class="s7">Member Functions Available only in the Class <span style=" color: #FF1CCE;">CLinkbotI   </span>. . . . . . . .</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">.</p></td><td><p class="s7">. 332</p></td></tr></table><p>E.4   Member Functions Available in Both Classes <span style=" color: #FF1CCE;">CLinkbotIGroup </span>and <span style=" color: #FF1CCE;">CLinkbotLGroup   </span>. . 333<br/>E.5   Member Functions Available only in RoboSim   . . . . . . . . . . . . . . . . . . . . . . . . 336<br/>E.6   Member Functions Not Presented in This Book  . . . . . . . . . . . . . . . . . . . . . . . . 337<br/>F   Common Mistakes in Writing Ch Programs                                                                             338<br/>G   Porting Code to the Latest Version                                                                                                    340<br/>G.1   Port Code to BaroboLink v1.6.9, RoboSim v1.8, Robotics Curriculum v1.8   . . . . . . . . . 340<br/>G.2   Port Code to BaroboLink v1.6.8, RoboSim v1.7, Robotics Curriculum v1.7, Math Curricu-<br/>lum v1.2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 340<br/>G.3   Port Code to BaroboLink v1.6.7, RoboSim v1.6, Robotics Curriculum v1.6, Math Curricu-<br/>lum v1.1 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 342<br/>Index                                                                                                                                                           345<br/>xi</p><p class="s13">PREFACE                                                           </p><p>Robotics can easily get students engaged and excited about learning science, technology, engineering, and math (STEM) concepts while having fun. However, most robotic systems are not suitable for formal math and science education because of their complexity. Working with the UC Davis Center for Integrated Com- puting      and      STEM      Education      (C-STEM)     <span style=" color: #00F;">(http://c-stem.ucdavis.edu)</span>,       Barobo,       Inc. <span style=" color: #00F;">(http://www.barobo.com)</span>, a UC Davis spin-off educational robotics company, has developed innovative modular robots called Mobot and Linkbot.  The modular robots Mobot and Linkbot can be programmed by a user-friendly C/C++ interpreter Ch in Professional Edition, Student Edition, or Standard Edition. Ch is available from SoftIntegration, Inc. <span style=" color: #00F;">(http://www.softintegration.com)</span>. RoboSim is a robot simulation environment, developed by the UC Davis C-STEM Center, for programming Barobo Mobots and Linkbots. RoboSim can be freely downloaded from the C-STEM web site at <span style=" color: #00F;">(http://c-stem.ucdavis.edu)</span>. Ch, Mobot, Linkbot, and RoboSim are specially designed for integrating computing, robotics, and engineering into K-14 math and science education in both formal and informal programs. They are especially suited for increasing student motivation and success in learning math and science with hands-on real-world problem solving and sparking their interest in STEM subjects leading to STEM related careers and post-secondary study.<br/>This book is a gentle introduction to robot programming with Linkbot. It teaches the absolute beginners the underlying working principles of robotics and robot programming, with an emphasis on learning math, science, technology, and engineering (STEM) using robots.  The book is a step-by-step guide on how to use Linkbot to solve applied problems.  The programming technique for controlling Linkbot is the same as for controlling Mobot. The contents can be readily integrated into teaching various STEM subjects for personalized and collaborative learning in classroom, afterschool and out-of-school programs. The concepts and ideas are presented in such a manner that they can be adapted by instructors to meet the unique needs of their students.</p><p class="s2">Prerequisites</p><p>The mathematical prerequisite for the book is basic math taught in elementary school. No prior computer programming and robotics experience is required.</p><p class="s2">Organization of the Book</p><p>The topics in the manuscript are carefully selected and organized for the best information flow for beginners to learn how to use and program the Linkbot for solving practical and realistic problems while having fun. I believe that students who have mastered the topics and working principles presented in the book shall be able to embark on applying the robotics concepts to various STEM subjects and applications. The manuscript is organized as follows:<br/>Chapter 1 is an introduction to robotics, RoboPlay Competition <span style=" color: #00F;">(http://www.roboplay.org)</span>, and start- ing to use the Linkbot.<br/>Chapter 2 uses a user friendly graphical user interface called BaroboLink to control the Linkbot.<br/>Chapter 3 introduces the robot programming using a C/C++ interpreter Ch.<br/>Chapter 4 describes how to use RoboSim for robot simulation.<br/>Chapter 5 presents basic programming features about variables and input/output functions, and their applications in robot programming..<br/>Chapter 6 describes how to write programs to control a group of Linkbots to perform identical tasks such as dancing.<br/>xii<br/>Chapter 7 describes how to write programs to control a single Linkbot with different motion character- istics.<br/>Chapter 8 describes how to write advanced programs to control a single Linkbot.<br/>Chapter 9 describes how to control a Linkbot configured as a two-wheel robot. The two-wheel robot is particularly suitable for learning math and science concepts.<br/>Chapter 10 describes how to write programs to process the sensory information for Linkbots.<br/>Chapter 11 describes how to write programs to control multiple individual Linkbots. Chapter 12 describes how to write programs to control one or multiple group of Linkbots. Chapter 13 describes how to control multiple connected Linkbots.<br/>Appendix A presents a few sample programs using programming features not covered in this book.<br/>Appendix B describes features available only in RoboSim and their applications. Section B.1 can be introduced right after Chapter 5. Section B.6 can be introduced after Chapter 11.<br/>Appendix C lists the color names and corresponding RGB values available for the Linkbot.<br/>Appendix D contains quick references to Ch features used in the book.<br/>Appendix E contains quick references to member functions of the Linkbot classes.<br/>Appendix F lists common mistakes in writing Ch programs.<br/>Appendix  G lists deprecated features and new features in the new edition. It also gives examples on how to port existing code using the new features.<br/>The subsection Summary  at the end of each section summarizes what you should have learned in the section. The subsection Terminology summarizes all terminologies and topics presented in the section.</p><p class="s2">Symbols and Notations  Used in the Book</p><p>This book was typeset by the author using L<span class="s15">A</span>TEX. Programs in the book are displayed with the light blue background and syntax highlighting as shown in the following line of the code.<br/><span><IMG width="624" height="15" src="chlinkbot/Image_010.png"/></span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Hello,   world!\n&quot;</span>);</p><p>The output from programs are displayed with the grey background as shown in the following output.</p><p class="s19">          Hello, world!                                                                                                                                                                                                                          </p><p>The interactive execution of programs is displayed with the dark blue background as shown in the following interactive execution.<br/><span><IMG width="624" height="44" src="chlinkbot/Image_011.png"/></span></p><p class="s17">Enter the weight in  ounces.</p><p class="s17">4.5</p><p class="s17">The ice  cream costs  $2.11</p><p><span><IMG width="473" height="21" src="chlinkbot/Image_012.png"/></span><br/>Special notes and important points are highlighted with the yellow background. Keywords such as <span style=" color: #F00;">int </span>and <span style=" color: #F00;">double </span>in C are in red color. Reserved words such as <span style=" color: #FF1CCE;">sqrt </span>and <span style=" color: #FF1CCE;">printf  </span>are in pink color. The <span class="s20">definition </span>for a word is in green color.<br/>Sections marked with the double dagger symbol ‘<span class="s5">‡</span>’ use concepts beyond Algebra I or advanved robotics<br/>concepts. They can be skipped as they do not include prerequisite skills necessary for later chapters.<br/>The exercise symbol <span><IMG width="23" height="16" src="chlinkbot/Image_013.jpg"/></span>  indicates the location to pause for students to solve problems in the exercise section.<br/>The symbol <span><IMG width="18" height="18" src="chlinkbot/Image_014.gif"/></span> indicates the Linkbot-L is used in the section or exercise.<br/>xiii</p><p class="s2">Using this Book as a Textbook  or Supplementary Textbook</p><p>This is a comprehensive book on robot programming for solving applied problems in engineering, math, and science. Below are some possible ways to use the book. The book can be used as a textbook for courses on Robotics, Engineering,  Computer Programming, Computer Technology, etc. It can also be used as a supplementary textbook for Math 7, Math 8, Pre-Algebra, Algebra I, Integrated Math I, and Physical Science.  In addition, the book can be used for afterschool programs as well as computing and robotics camps.<br/>For teaching students in elementary schools or a few hour introductory robotics activities, only materials in Chapter 1, Chapter 2, and section 13.2 in Chapter 11 without programming may be covered.</p><p class="s2">Available Teaching Resources</p><p>To use this manuscript for teaching, instructors can contact the author to obtain related teaching materials, including the source code for all programs presented in this manuscript, PowerPoint slides for classroom presentation, and solutions for exercises.</p><p class="s2">Copyright and Permission to Use</p><p>Permission is granted for users to make copies for their own personal use or educational use.  Further reproduction, or any copying of machine-readable files (including this one) to any server computer, is strictly prohibited, unless a prior approval is obtained from the author.<br/>The latest version of this documentation is available from <span style=" color: #00F;">(http://c-stem.ucdavis.edu)</span>.</p><p class="s2">Acknowledgment</p><p>This material was supported in part by the National Science Foundation under Grant No. CNS-1132709, IIS-1208690, and IIS-1256780.  Any opinions, findings, and conclusions or recommendations expressed in this material are those of the author and do not necessarily reflect the views of the National Science Foundation.</p><p class="s2">Contacting the Author</p><p>I appreciate any criticisms, comments, identification of errors in the text or programs, and suggestions for improvement of this manuscript from both instructors and students. I can be reached over the Internet at<br/>info@c-stem.ucdavis.edu<br/>Harry H. Cheng<br/><span><IMG width="627" height="8" src="chlinkbot/Image_015.png"/></span><br/><span><IMG width="624" height="3" src="chlinkbot/Image_016.png"/></span></p><p class="s1">CHAPTER 1</p><p><span><IMG width="624" height="3" src="chlinkbot/Image_017.png"/></span></p><p class="s6">Introduction</p><p class="s21">1.1    Introduction</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_018.png"/></span><br/>A <span class="s20">robot </span>is a re-programmable machine that is able to move, sense, and react to its environment. <span class="s20">Robotics </span>is a branch of technology that deals with the design, construction, operation and application of robots and the related computing systems for the control, sensing, and information processing. Robotics can be used to help learn science, technology, engineering, and math (STEM) concepts while having fun.  The Mobot, as shown in Figure 1.1, is designed as a building block.   However, a single Mobot module is a fully functional four-degrees-of-freedom modular robot.  It has four motors inside a Mobot.  This full mobil- ity allows a Mobot to perform a multitude of novel robot locomotion, including inch-worming, rolling, arched rolling, turning, tumbling, and standing up.  Multiple Mobot modules can be interconnected into various geometries for different applications, such as a space explorer, snake, gorilla, dog, humanoid, etc.<br/>The <span class="s20">Linkbot </span>is a new version of low-cost mod- ular robot. It can more conveniently interface with other devices and sensors. In comparison with the Mobot, the Linkbot has only two, instead of four, degrees-of-freedom.  Namely, there are only two motors inside a Linkbot.  There are two versions of  Linkbot, called Linkbot-I and Linkbot-L. The shapes for both Linkbot-I and Linkbot-L are the same as shown in Figure 1.2. There are three loca- tions for joints. For Linkbot-I, two joints are in the opposite of the housing in the I-shape. For Linkbot- L, two joints are adjacent in the L-shape. Other than the difference in the location of joints, the interface and programming for both Linkbot-I and Linkbot-L<br/><span><IMG width="300" height="200" src="chlinkbot/Image_019.jpg"/></span><br/>Figure 1.1: A Mobot.<br/>are the same. The term Linkbot in this manuscript refers to both Linkbot-I and Linkbot-L. Like Mobots,<br/>1.1.  Introduction<br/>Chapter 1.  Introduction<br/><span><IMG width="241" height="161" src="chlinkbot/Image_020.jpg"/></span><br/><span><IMG width="241" height="161" src="chlinkbot/Image_021.jpg"/></span></p><p class="s22">(a) Left view of Linkbot-I and Linkbot-L                       (b) Right view of Linkbot-I and Linkbot-L</p><p>Figure 1.2: Linkbot-I and Linkbot-L.<br/>multiple Linkbot modules can be interconnected into various geometries for different applications, such as a space explorer, snake, four-wheel drive, omnidrive, etc.  as shown in Figure 1.3.  Linkbots can also be connected with Mobots.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_022.jpg"/></span><br/>A robot can only perform tasks it has been programmed to do. When a robot does something smart, it is because a smart person has written a smart program to control the device. This introductory book teaches the absolute beginners without any prior computer programming and robotics experience the underlying working principles of robotics and robot programming.  You will learn how to write your own programs so that a robot will do what you want it to do. You will also be able to write programs to control multiple Linkbots and Mobots.<br/>Do Exercises 1, 2, 3, 4, and 5 on page 3.</p><p class="s3">1.1.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_023.png"/></span><br/>This section summarizes what you should have learned in this session.<br/>1. A robot is a re-programmable machine that is moves, senses, and reacts to its environment. (a) Robots can only perform tasks they have been programmed to accomplish<br/>(b) Robotics is a branch of technology that deals with design, construction, operation and appli- cation of robots and the related computing systems for the control, sensing, and information processing for robots.<br/>2. A Mobot is a modular robot with 4 degrees of freedom.<br/>3. A Linkbot is the new version of modular robot that interfaces with other devices and sensors. It has 2 degrees of freedom.<br/>(a) Linkbot-I: two joints are in the opposite of the housing in the I-shape. (b) Linkbot-L: two joints are adjacent in the L-shape.<br/>(c) Programming the Linkbot-I and Linkbot-L is the same.</p><p class="s3">1.1.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_024.png"/></span><br/>Linkbot, Linkbot-I, Linkbot-L, Mobot, degrees of freedom, robot, robotics.<br/>2<br/>1.2.  RoboPlay Competition<br/>Chapter 1.  Introduction<br/><span><IMG width="576" height="127" src="chlinkbot/Image_025.png"/></span></p><p class="s22">(a) Snake position 1                               (b) Snake position 2                               (c) Snake position 3</p><p><span><IMG width="576" height="128" src="chlinkbot/Image_026.png"/></span></p><p class="s22">(d) four-wheel drive                                      (e) Explorer                                           (f) Omnidrive</p><p>Figure 1.3: Robotic systems built with multiple Linkbots.</p><p class="s3">1.1.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_027.png"/></span><br/>1. What is a robot?<br/>2. Where have you seen a robot?<br/>3. What is robotics?<br/>4. Explain what the differences are between the Linkbot-I, Linkbot-L, and Mobot?<br/>5. List at least 3 combinations that the Linkbots can be put into for various applications.</p><p class="s21">1.2    RoboPlay Competition</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_028.png"/></span><br/><a href="http://www.roboplay.org/">After learning the topics in this book, students shall be able to participate in RoboPlay Competition with more detailed information available at </a><a href="http://www.roboplay.org/" class="s4">http://www.roboplay.org</a>. RoboPlay Competition consists of open- ended design challenges that integrate math and computer programming with music, choreography, and design for practical real-world problem solving. The goal of RoboPlay is to broaden student participation in computing, science, technology, engineering, and math (C-STEM) education with positive development for all students.  The RoboPlay teamwork is intended to engage all students including those who might otherwise be inclined to pursue careers in the arts or humanities.<br/>3<br/>1.2.  RoboPlay Competition<br/>Chapter 1.  Introduction<br/><span><IMG width="240" height="131" src="chlinkbot/Image_029.jpg"/></span><br/><span><IMG width="240" height="180" src="chlinkbot/Image_030.jpg"/></span></p><p class="s22">(a) RoboPlay Video Competition                                 (b) RoboPlay Challenge Competition</p><p>Figure 1.4: RoboPlay Competition.<br/>There are two categories for RoboPlay Competition: RoboPlay Video Competition and RoboPlay Chal- lenge Competition. Entries for the RoboPlay Video Competition are submitted as on-line videos. RoboPlay Video Competition is designed for students to play with robots while exploring their creativity in writing, art, music, choreography, design, video editing, and film production and at the same time seamlessly learn and apply computing and STEM concepts for solving practical problems. The handling of robot coordina- tion between multiple modules and music requires not only teamwork in designing a well-organized visual performance, but also the math and programming skills to produce the desired actions for robots. The com- petitions will enable students working in different interest groups to explore the basic concepts of C-STEM in conjunction with their artistic and music talents.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_031.jpg"/></span><br/>The RoboPlay Challenge Competition is held on the C-STEM Day each spring near the end of the school year.  The Challenge Competition is designed for students to showcase their real-world problem solving skills in a competitive environment. This competition simulates an unexpected problem occurring at a remote location such as a space station or planetary habitat, where a robotic solution must be quickly developed and deployed, using only existing resources.<br/>Do Exercises 1 and 2 on page 4.</p><p class="s3">1.2.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_032.png"/></span><br/>1. The RoboPlay Competition includes two categories:  RoboPlay Video Competition and RoboPlay<br/>Challenge Competition.<br/>2. C-STEM Day.</p><p class="s3">1.2.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_033.png"/></span><br/>RoboPlay Competition, C-STEM Day.</p><p class="s3">1.2.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_034.png"/></span><br/>1. What are RoboPlay Competitions? How many competitions do they consist of?<br/>2. When is the RoboPlay Competition?  When would you need to start preparing to compete in the<br/>RoboPlay Competition?<br/>4<br/>1.3.  Major Features of Linkbot<br/>Chapter 1.  Introduction</p><p class="s21">1.3    Major  Features of Linkbot</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_035.png"/></span><br/>A wide range of technologies have been integrated into the Linkbot. A CAD (computer-aided design) model along with its features for Linkbot is shown in Figure 1.5.<br/><span><IMG width="525" height="334" src="chlinkbot/Image_036.jpg"/></span><br/>Figure 1.5: A CAD model of Linkbot.<br/>The CPU (central processing unit) inside the Linkbot is the ATmega128RFA1 microcontroller by Atmel, running at 16 MHz. It integrates a ZigBee radio transceiver for wireless communication.<br/>The Linkbot is powered by an internal, rechargeable lithium-ion battery that can drive motors for over 3 hours with typical use. Charging is done through the USB port with a cable and takes about 4 hours when connected to a computer. But, if it is plugged into a cell phone charger, the charging time drops to less than<br/>2 hours. The user can use the Linkbot while it is plugged in for continual operation.<br/>A multi-color LED can be used to personalize a Linkbot by selecting from a wide spectrum of colors. The Linkbot has a buzzer built-in to play a tune.  The Linkbot also has a 3-axis accelerometer to detect free-falls, bumps, and tilted angles. Each Linkbot has three buttons for user interface.<br/>The Linkbot weighs 10 oz. It has 100 oz-in (7.2 Kg-cm) of torque for each joint. Each hub has absolute encoding for precise control and measurement of speeds and angles accurate to <span class="s5">±0.5 </span>degree. By default, the maximum joint speed is 240 degrees per second for constant velocity control.<br/>The Linkbot is expandable with SnapConnectors, which allow modules to be snapped together without needing tools. This allows the user to quickly try out new robot creations. The Linkbot also has standard<br/><span><IMG width="23" height="16" src="chlinkbot/Image_037.jpg"/></span><br/>#6-32 threaded holes available in its faceplate for custom-made accessories.  The robot is made out of durable poly-carbonate plastic.  A wide variety of accessories in CAD files are available for the Linkbot. The user can make accessories on their own using a 3D printer. Users can also customize these CAD files to their unique application and print using a 3D printer, laser cut, or even CNC (computer numerical control) machine depending on the part design.<br/>Do Exercises 1 and 2 on page 6.<br/>5<br/>1.4.  Run the On-Board Demo Program on the Linkbot<br/>Chapter 1.  Introduction</p><p class="s3">1.3.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_038.png"/></span><br/>1. Linkbot is powered by a lithium-ion battery that lasts approximately 3 hours. It is charged through<br/>USB with a cable and takes approximately 4 hours.<br/>2. The Linkbot has multi-color LED for personalization.<br/>3. It has a 3-axis accelerometer to detect free-falls, bumps, and tilted angles.<br/>4. The maximum joint speed is 240 degrees per second for velocity control.<br/>5. SnapConnectors allow modules to attach to the Linkbot  no tools needed. Customizable CAD files are available for customers to make accessories using a 3D printer or laser cutter.</p><p class="s3">1.3.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_039.png"/></span><br/>3-axis accelerometer, 3D printer CAD, CAD files, CNC machine, CPU, Laser cut, SnapConnectors, Torque, ZigBee.</p><p class="s3">1.3.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_040.png"/></span><br/>1. What does the Linkbot use for wireless communication?<br/>2. How long does the battery last in a Linkbot?  How long does it take to charge the Linkbot from a computer? How long using a cell phone charger?<br/><span><IMG width="624" height="53" src="chlinkbot/Image_041.png"/></span></p><p class="s21">1.4    Run the On-Board Demo Program on the Linkbot</p><p>The Linkbot comes with a demo program in the on-board embedded computer allowing it to work out-of-the box. The program is designed to show the motion and make sure everything is working properly. The demo program will move the Linkbot continuously until the Linkbot is shut off or the batteries die.<br/>To run the demo program, turn on the Linkbot by pressing the power button on the Linkbot as shown in Figure 1.6. Then simply hold the button ’A’ for three seconds. After three seconds have passed, the blue LED should blink three times quickly, and the demo motion will begin. You may want to run the demos for a Linkbot-I with two wheels attached, as shown in Figure 1.6b. You can turn off the demo program by pressing and holding the ’A’ button for three seconds while the robot is moving.<br/>For an old version of Linkbot, manufactured before March 2014, the demo program also serve as a secondary calibration.  If a Linkbot joint gets sticky, running the demo program till you hear a beep will calibrate the robot properly.<br/>6<br/>1.5.  Play with Multiple Linkbots<br/>Chapter 1.  Introduction<br/><span><IMG width="480" height="160" src="chlinkbot/Image_042.png"/></span></p><p class="s22">(a) Buttons on the Linkbot                          (b) Running the on-board demo program</p><p>Figure 1.6: Running the on-board demo program on the Linkbot.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_043.jpg"/></span><br/>Do Exercises 1 and 2 on page 7.</p><p class="s3">1.4.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_044.png"/></span><br/>1. The Linkbot comes with a demo program in the on-board embedded computer.<br/>(a) The Demo Program shows the motion to make sure everything works properly.<br/>(b) The Demo Program will continuously move Linkbot until it is shut off or batteries die.<br/>2. To run demo program: turn on the Linkbot by pressing the power button. Then, hold the A button for three seconds. After three seconds, blue LED blinks three times and demo motion begins.</p><p class="s3">1.4.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_045.png"/></span><br/>On-board embedded computer, demo program.</p><p class="s3">1.4.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_046.png"/></span><br/>1. Run the demo program inside a Linkbot by pressing the power button on the Linkbot and hold the button ’A’ for three seconds.  You can stop the demo program by holding the button ’A’ for three seconds.<br/>2. What is the purpose of the Linkbot demo program?</p><p class="s21">1.5    Play with Multiple Linkbots</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_047.png"/></span><br/>A Linkbot can be used to control one or multiple other Linkbots. Multiple Linkbots can also be controlled using PoseTeaching. In such applications, the multiple Linkbot modules must be paired together using a process called BumpConnect. The process can also be used to add additional follower robots to an existing group. All BumpConnected groups of Linkbots contain a single leader robot which can control one or more follower robots.<br/>BumpConnect  two unpaired Linkbots:<br/>1. Press and hold the ’B’ button on the Linkbot you want to be the leader.<br/>7<br/>1.5.  Play with Multiple Linkbots<br/>Chapter 1.  Introduction<br/>2. Press and hold the ’B’ button on a second Linkbot.<br/>3. Gently bump the two modules together.<br/>4. Release the ’B’ buttons.<br/>5. After a second or so, the LED colors on both robots should change.  The leader robot will blink, cycling between Blue and a randomly chosen group color. The follower should display the randomly chosen group color.<br/>6. If nothing happens after 5 seconds, try again starting from step 1.<br/>BumpConnect  a paired Linkbot with an unpaired Linkbot:<br/>1. Press and hold the ’B’ button on the leader robot and the unpaired robot.<br/>2. While holding the ’B’ buttons, gently bump the two robots together.<br/>3. The unpaired robot should take on the color of the paired robot. If this does not happen after 5 seconds, try the process again starting from step 1.<br/>4. At this point, the robots are in PoseTeaching mode, you may press the ’B’ button on the leader robot to switch into TiltDrive mode. The PoseTeaching and TiltDrive modes are described in next sections.</p><p class="s3">1.5.1   PoseTeaching Mode</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_048.png"/></span><br/>After robots have been paired with each other to form a group, they enter the default “PoseTeaching” mode. Initially, there are zero recorded poses. In this mode, the buttons have the following functions:</p><p class="s5">•  <span class="p">The Power or ’X’ button: If the robots are not playing poses, this button deletes all recorded poses.</span></p><p class="s5">•  <span class="p">The ’A’ button: If the robots are not playing poses, this button records a new pose.</span></p><p class="s5">•  <span class="p">The ’B’ button: If there are no recorded poses, the ’B’ button makes the robot switch into “TiltDrive” mode. If there are recorded poses, the ’B’ button begins playing the poses. If the robot is currently playing poses, the ’B’ button stops playing poses.</span></p><p class="s3">1.5.2   TiltDrive Mode</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_049.png"/></span><br/>While the group is in TiltDrive mode, the leader robot will flash its LED colors between green and the group color. In TiltDrive mode, the leader module can be tilted forward, backward, and side-to-side to drive the follower modules. In this mode, the buttons have the following functions:</p><p class="s5">•  <span class="p">The ’B’ button: Changes the current mode from “TiltDrive” mode to “CopyCat” mode.</span></p><p class="s3">1.5.3   CopyCat Mode</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_050.png"/></span><br/>While the group is in CopyCat mode, the leader robot will flash its LED colors between light-blue and the group color. In CopyCat mode, all of the follower modules will move their joints to match the position of the joints on the leader module. If there are intermixed -I and -L Linkbot modules, joint 2 will match the angle on the leader’s joint 3, and vice versa. In this mode, the buttons have the following functions:</p><p class="s5">•  <span class="p">The ’B’ button: Changes the current mode from “CopyCat” mode to “PoseTeaching” mode.</span></p><p>8<br/>1.5.  Play with Multiple Linkbots<br/>Chapter 1.  Introduction</p><p class="s3">1.5.4   Unpair the Connected  Linkbots</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_051.png"/></span><br/><span><IMG width="23" height="16" src="chlinkbot/Image_052.jpg"/></span><br/>You can either press and hold the ’A’ button on the leader module to unpair all modules at once, or press and hold the ’A’ button on a follower module to just unpair that one follower.<br/>Do Exercises 1 and 2 on page 9.</p><p class="s3">1.5.5   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_053.png"/></span><br/>1. Use BumpConnect to pair Linkbots by pushing the B buttons on both Linkbots and bumping them together.<br/>2. You can control paired robots using PoseTeaching by pushing the A button and recording new poses that can then be saved as a ch program.<br/>3. You can control paired robots using TiltDrive by pushing the B button directly after pairing them.<br/>The TiltDrive allows the user to control the follower module by tilting the leader module to drive the follower module.<br/>4. CopyCat.mode allows the user to manipulate the leader module and have the follower module match that motion.  You can control paired robots using CopyCat mode by pushing the B button while in TiltDrive.</p><p class="s3">1.5.6   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_054.png"/></span><br/>BumpConnect, CopyCat, PoseTeaching, and TiltDrive.</p><p class="s3">1.5.7   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_055.png"/></span><br/>1. BumpConnect two Linkbots into a group. Play with two Linkbots with PoseTeaching, TiltDrive, and<br/>CopyCat modes.<br/>2. BumpConnect three Linkbots into a group. Play with three Linkbots with PoseTeaching, TiltDrive, and CopyCat modes.<br/>9<br/><span><IMG width="627" height="8" src="chlinkbot/Image_056.png"/></span><br/><span><IMG width="624" height="3" src="chlinkbot/Image_057.png"/></span></p><p class="s1">CHAPTER 2</p><p><span><IMG width="624" height="3" src="chlinkbot/Image_058.png"/></span></p><p class="s6">Controlling a Linkbot Using the</p><p class="s6">Motion Control Panel</p><p><span><IMG width="624" height="80" src="chlinkbot/Image_059.png"/></span><br/>A Linkbot can be conveniently controlled without writing a computer program.  This chapter presents detailed steps to control a Linkbot through a user friendly graphical user interface called BaroboLink. BaroboLink can be used to control both Linkbots and Mobots.</p><p class="s21">2.1    The Zero Positions of the Linkbot</p><p class="s3">2.1.1   The Schematic Diagram of the Linkbot</p><p><span><IMG width="193" height="201" src="chlinkbot/Image_060.png"/></span><br/>Figure 2.1:  A schematic diagram of a Linkbot module.<br/>2.1.  The Zero Positions of the Linkbot<br/>Chapter 2.  Controlling a Linkbot Using the Motion Control Panel<br/>Figure 2.1 shows a schematic diagram of the Linkbot displaying the locations and positive directions of three joints of a Linkbot. For Linkbot-I, only joints 1 and 3 are fully rotational. The joint 2 for Linkbot-I cannot move. For Linkbot-L, only joints 1 and 2 are fully rotational. The joint 3 for Linkbot-L cannot move.<br/>The direction of motion for each joint follows the right hand rule shown in Figure 2.2. Figure 2.1 also shows the forward direction for a Linkbot-I.<br/><span><IMG width="114" height="114" src="chlinkbot/Image_061.png"/></span><br/>Figure 2.2:  The right hand rule for the direction of motion for a joint of Linkbot.</p><p class="s3">2.1.2   The Zero Position for a Joint of the Linkbot</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_062.png"/></span><br/>There are tiny notches on the top of the housing and disk for each joint. When these two notches for a joint are aligned as shown in Figure 2.3, the joint is in its zero position. For an illustrative purpose, these two notches for a joint are displayed with different colors as zero position marks in Figure 2.3.<br/><span><IMG width="285" height="190" src="chlinkbot/Image_063.jpg"/></span><br/>Figure 2.3: The zero position of the Linkbot.</p><p class="s3">2.1.3   Testing the Zero Positions and Relaxing Motors of a Linkbot</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_064.png"/></span><br/><span><IMG width="23" height="20" src="chlinkbot/Image_065.png"/></span><br/>This feature is typically used to check the robot’s zero position to make sure it is properly calibrated. The button may also be used to relax a robot that is currently holding any of its joints at a position.<br/>The feature can also be used to reset the robot to the zero position before a program controlling it is run. We will learn how to write a robot program in the next chapter.<br/>11<br/>2.2.  Connect Linkbots from a Computer<br/>Chapter 2.  Controlling a Linkbot Using the Motion Control Panel</p><p class="s3">2.1.4   Recalibrating the Zero Positions of the Linkbot</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_066.png"/></span><br/>When the Linkbot is used for a long period of time, its zero positions for joints may be off.  A user may recalibrate the robot’s zero positions if necessary. To recalibrate the robot, perform the following steps:</p><p class="s5">•  <span class="p">Position each joint of the Linkbot into its zero position. If the robot is currently actuating any of its joints, or if any joints feel “stiff”, you may power the robot off and on again, or you may press both the ’A’ and ’B’ buttons to relax the joints.</span></p><p class="s5">•  <span class="p">While the robot is powered on, press and hold both the ’A’ and ’B’ buttons simultaneously.  After three seconds, the LED should flash quickly three times. At this point, the robot has been recalibrated and you may release the buttons.</span></p><p><span><IMG width="23" height="16" src="chlinkbot/Image_067.jpg"/></span></p><p class="s5">•  <span class="p">Test the zero position as described in section 2.1.3. Do Exercises 1 and 2 on page 12.</span></p><p class="s3">2.1.5   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_068.png"/></span><br/>This section summarizes what you should have learned in this session.<br/>1. Reset the two joint angles of a Linkbot to the zero position by pressing the A and B buttons simulta- neously.<br/>2. The direction of a joint motion follows the right hand rule.<br/>3. For Linkbot-I, only joints 1 and 3 are fully rotational joint 2 cannot move.<br/>4. For Linkbot-L, only joints 1 and 2 are fully rotational joint 3 cannot move.<br/>5. Recalibrate the Linkbot if used for a long period of time because the joints zero positions may be off.<br/>Put the joints in the zero position, and then push the A and B buttons simultaneously for three seconds until the LED flashes quickly three times.</p><p class="s3">2.1.6   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_069.png"/></span><br/>Right hand rule, zero position.</p><p class="s3">2.1.7   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_070.png"/></span><br/>1. Recalibrate the zero positions of a Linkbot and test the zero postions.<br/>2. Explain how the right hand rule works and what it tells you about the direction of motion for a joint of the Linkbot.</p><p class="s21">2.2    Connect Linkbots  from a Computer</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_071.png"/></span><br/>Linkbot modules should be configured the first time they are used with a new computer.  The process informs the computer to which Linkbots are allowed to connect. The configuration is performed through the BaroboLink program. This section contains step-by-step instructions on how to configure Linkbots.<br/>12<br/>2.2.  Connect Linkbots from a Computer<br/>Chapter 2.  Controlling a Linkbot Using the Motion Control Panel</p><p class="s3">2.2.1    Installing the Linkbot  Device Driver</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_072.png"/></span><br/>The BaroboLink in a computer can control one or multiple Linkbots. One Linkbot needs to be connected to the computer through the USB cable.  For controlling multiple Linkbots, the Linkbot connected to the computer through the USB cable will serve as a dongle for the BaroboLink to connect and control other Linkbots through the ZigBee wireless communication, as shown in Figure 2.4. The other Linkbots in the network can be located as far as 100 meters.<br/><span><IMG width="290" height="192" src="chlinkbot/Image_073.jpg"/></span><br/>Figure 2.4:  The configuration for the BaroboLink to control multiple Linkbots, with one Linkbot connected to a computer through a USB cable.<br/>For the BaroboLink to control a Linkbot, a device driver for the Linkbot needs to be installed.  A <span class="s20">device driver </span>is a computer program that operates or controls a particular type of device that is attached to a computer. The BaroboLink invokes a Linkbot device driver which communicates with the Linkbot through the USB cable.<br/>If you use the BaroboLink in a computer lab, it is very likely that your instructor or system administrator has already installed the Linkbot device driver in your computer.  In case you are using the Linkbot in a computer for the first time, you can use one of the two methods described below to install the Linkbot device driver.<br/>Installing the Linkbot Device Driver<br/>After the BaroboLink is installed, you can then install the Linkbot device driver. You can connect one end of the USB cable to a Linkbot and the other end to a USB connector in the computer.  Then, launch the BaroboLink as described in section 2.2.2.  Click the command <span class="s23">File-&gt;Install Linkbot Driver</span>. Follow the displayed instruction to complete the installation of the Linkbot device driver.</p><p class="s3">2.2.2    Adding ZigBee Serial Numbers  of Linkbots in BaroboLink</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_074.png"/></span><br/>First, start the BaroboLink application program. In Windows, start the BaroboLink by clicking on the icon labeled “BaroboLink” on your desktop, as shown in Figure 2.5. On Mac OS X systems, the BaroboLink application is located inside the “Applications” folder in Finder. The control dialog as shown in Figure 2.6 should pop up.<br/>13<br/>2.2.  Connect Linkbots from a Computer<br/>Chapter 2.  Controlling a Linkbot Using the Motion Control Panel<br/><span><IMG width="96" height="96" src="chlinkbot/Image_075.jpg"/></span><br/>Figure 2.5:  The icon for the BaroboLink.<br/><span><IMG width="432" height="372" src="chlinkbot/Image_076.jpg"/></span><br/>Figure 2.6:  The opening screen for the BaroboLink.<br/>The BaroboLink application, as seen in Figure 2.6, is organized into several different panels, each de- noted by a tab.  Upon startup the default tab is the “Connect” tab.  This Connection Panel allows you to manage, connect to, and disconnect from Linkbots.<br/>First, add your Linkbot serial number into the BaroboLink by typing in the serial number in the box marked <span class="s23">&quot;&lt;New Robot Address&gt;&quot; </span>and clicking on the “Add Robot” button. The dialog should appear as shown in Figure 2.7. Alternatively, you can click the “Scan for nearby Linkbots” button to display the<br/>serial numbers of all Linkbots within the range for ZigBee communication. Figure 2.8 shows serial numbers of two Linkbots. You can then click “Add Robot(s)” to add Linkbots to the BaroboLink.<br/>14<br/>2.2.  Connect Linkbots from a Computer<br/>Chapter 2.  Controlling a Linkbot Using the Motion Control Panel<br/><span><IMG width="432" height="177" src="chlinkbot/Image_077.jpg"/></span><br/>Figure 2.7:  Configuring the robot ZigBee connection.<br/><span><IMG width="192" height="382" src="chlinkbot/Image_078.jpg"/></span><br/>Figure 2.8:  Displaying the serial number of Linkbots.<br/>Only one Linkbot needs to be connected to the computer using the USB cable. Additional Linkbots can be connected to the computer through the ZigBee wireless communication, as shown in Figure 2.4. Each additional Linkbot added occupies its own row in the dialog. After the addition of another robot, the dialog appears as shown in Figure 2.9.<br/>15<br/>2.2.  Connect Linkbots from a Computer<br/>Chapter 2.  Controlling a Linkbot Using the Motion Control Panel<br/><span><IMG width="432" height="177" src="chlinkbot/Image_079.jpg"/></span><br/>Figure 2.9:  The Connection Panel with two Linkbot entries.<br/>Once new serial numbers are added, the BaroboLink will remember the serial numbers in the future.</p><p class="s3">2.2.3   Making a Connection of Linkbots from a Computer</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_080.png"/></span><br/>The dot next to the added serial number on the Connection Panel indicates the current connection status of the robot. A red dot indicates that the Linkbot is not currently connected, and a green dot indicates that the Linkbot is properly connected. To connect to a robot, make sure the robot is on by pressing the power button on the Linkbot, and click on the button labeled “Connect” inside the BaroboLink.<br/><span><IMG width="432" height="372" src="chlinkbot/Image_081.jpg"/></span><br/>Figure 2.10:  The Connection Panel showing a connected Linkbot.<br/>16<br/>2.2.  Connect Linkbots from a Computer<br/>Chapter 2.  Controlling a Linkbot Using the Motion Control Panel<br/>If the connection succeeds, the red dot should turn green to indicate that a connection has been es- tablished, as shown in Figure 2.10.  Note that in Figure 2.10, the second Linkbot had been added to the list of known Linkbots to illustrate how the Connection Panel displays as more Linkbots are added. Each additional Linkbot appears in its own row on the panel.<br/>Trouble Shooting the Connection of the Linkbot from a Computer<br/>Should the connection from a computer to the Linkbot fail, you may check the following options to fix the connection problem and try again.<br/>1. The ZigBee serial number has been entered correctly.<br/>2. The Linkbot is turned on.<br/>3. The device driver for the Linkbot has been installed as described in section 2.2.1.<br/>4. Turn the Linkbot off and on again.<br/>5. Restart the BaroboLink.<br/>6. Plug the USB cable firmly.<br/>7. Try a different USB cable.<br/>Once the connection succeeds, the “Connect” button for that Linkbot turns into a “Disconnect” button. Clicking on the “Disconnect” button disconnects the Linkbot.  For a connected Linkbot, you can click “Remove” button to remove a Linkbot from the BaroboLink.<br/>You can click the “Beep!” button to hear a beep from the Linkbot.<br/>Please note that there is no limit on the number of Linkbot that can be connected to the BaroboLink.<br/>Connecting Your Linkbot<br/><span><IMG width="23" height="16" src="chlinkbot/Image_082.jpg"/></span><br/>Once a Linkbot is connected to the BaroboLink in a computer, a BaroboLink in other computers will not be able to find it by clicking the “Scan for nearby Linkbots” button. In case the BaroboLink in other student’s computer is connected to your Linkbot, you will not be able to make a connection to it from your computer. In this case, you can turn off the power of the Linkbot to disconnect it from the other computer first. Then, turn it on and connect it from the BaroboLink in your computer.<br/>Do Exercises 1, 2, and 3 on page 18.</p><p class="s3">2.2.4   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_083.png"/></span><br/>1. Connect to a Linkbot from a computer using the BaroboLink.<br/>2. BaroboLink can control one or multiple Linkbots.<br/>3. To add your Linkbot, type the Linkbot serial number into the BaroboLink box marked <span class="s5">&lt;</span>New Robot<br/>Address<span class="s5">&gt; </span>and click “Add Robot”.<br/>4. If robot is added correctly: green = connected; red = not connected.<br/>5. Once a Linkbot is connected to BaroboLink, other computers will not be able to detect the Linkbot or try to connect to it.</p><p class="s3">2.2.5   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_084.png"/></span><br/>BaroboLink, device driver, Zigbee communication.<br/>17<br/>2.3.  The Sensors Panel<br/>Chapter 2.  Controlling a Linkbot Using the Motion Control Panel</p><p class="s3">2.2.6   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_085.png"/></span><br/>1. Connect the computer to your Linkbot by typing in the address and adding the robot and then clicking connect. Click “Beep” to make your Linkbot beep.<br/>2. Remove the address for your Linkbot and then click “scan for nearby Linkbots.” Search for your<br/>Linkbot and connect it. Click “Beep” to make your Linkbot beep.<br/>3. What can you do if your Linkbot is connected to another student’s computer and you want to connect it to your computer?</p><p class="s21">2.3    The Sensors Panel</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_086.png"/></span><br/>By default, when a Linkbot is turned on, its LED displays the blue color. Once it is connected, the color will be changed to the green. You can click the color button for a connected Linkbot on the Connection Panel, or the “Sensors” tab, the Sensors Panel will appear as shown in Figure 2.11. The LED color, its RGB (Red, Green, Blue) values and HSV (Hue, Saturation, and Value) values, and color name will be displayed. The RGB and HSV are color models.  The color of the LED can be changed through the color dial, RGB, or HSV values. The Sensors Panel also displays the X, Y, and Z components as well as the magnitude of the accelerometer data.<br/><span><IMG width="432" height="372" src="chlinkbot/Image_087.jpg"/></span><br/><span><IMG width="23" height="16" src="chlinkbot/Image_088.jpg"/></span><br/>Figure 2.11:  The Sensors Panel showing the color of the LED and accelerometer data. Do Exercises 1 and 2 on page 19.<br/>18<br/>2.3.  The Sensors Panel<br/>Chapter 2.  Controlling a Linkbot Using the Motion Control Panel</p><p class="s3">2.3.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_089.png"/></span><br/>1. The default LED color is blue to show that the robot is turned on.<br/>2. The LED color turns green when the robot is connected.<br/>3. Click on the “Sensors” tab.  The color of the LED can be changed through the color dial, RGB, or<br/>HSV values.<br/>4. The Sensors Panel also displays the X, Y, and Z components and the magnitude of the accelerometer data.</p><p class="s3">2.3.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_090.png"/></span><br/>LED color, Sensors Panel.</p><p class="s3">2.3.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_091.png"/></span><br/>1. Click on the “Sensors” tab and click on the LED Color wheel to choose the color you like.<br/>2. While your linkbot is connected, rotate and move the robot around and observe how the sliders under “Accelerometer Data” move. Can you cause only two sliders to move while the third remains roughly still?<br/>19<br/>Chapter 2.  Controlling a Linkbot Using the Motion Control Panel<br/>2.4.  Control a Linkbot Using the Motion Control Panel<br/><span><IMG width="624" height="53" src="chlinkbot/Image_092.png"/></span></p><p class="s21">2.4    Control  a Linkbot  Using the  Motion  Control</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_093.png"/></span></p><p class="s21">Panel</p><p class="s3">2.4.1   The Motion Control Panel</p><p><span><IMG width="530" height="473" src="chlinkbot/Image_094.jpg"/></span><br/>Figure 2.12:  The Motion Control Panel of the BaroboLink with a Linkbot-I connected.<br/>20<br/>Chapter 2.  Controlling a Linkbot Using the Motion Control Panel<br/>2.4.  Control a Linkbot Using the Motion Control Panel<br/><span><IMG width="530" height="473" src="chlinkbot/Image_095.jpg"/></span><br/>Figure 2.13:  The Motion Control Panel of the BaroboLink with a Linkbot-L connected.<br/>Once a robot is connected to the BaroboLink, the joint angles and speeds of the robot are displayed on the Motion Control Panel as shown in Figure 2.12 for a Linkbot-I. Figure 2.13 shows the Motion Control Panel for a Linkbot-L. This panel is located under the second tab of the BaroboLink, labeled “Motion Control”. The Motion Control Panel can be used to display information about the Linkbot’s joint positions, and also control the speeds and positions of the Linkbot’s joints. The panel is divided into five sections; three on the top half of the panel, and two on the bottom half. The functions of these five sections will be discussed in the next section.</p><p class="s3">2.4.2   The “Reset To Zero” Button</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_096.png"/></span><br/>The first section of the GUI located on the top left of the panel displays a schematic diagram of the Linkbot as shown in Figure 2.14. Underneath the schematic diagram, there is a button with the text “Reset To Zero”. When clicked, this button will command the connected Linkbot to rotate each joint to the zero angle position.<br/>21<br/>Chapter 2.  Controlling a Linkbot Using the Motion Control Panel<br/>2.4.  Control a Linkbot Using the Motion Control Panel<br/><span><IMG width="241" height="191" src="chlinkbot/Image_097.jpg"/></span><br/>Figure 2.14: The button to reset to zero.<br/>You can also move all joints of a Linkbot into zero positions by pressing both A and B buttons of the<br/>Linkbot.</p><p class="s3">2.4.3   Individual Joint Control</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_098.png"/></span><br/>The second section, located at the top-middle section of the panel, is the “Individual Joint Control” section, as shown in Figure 2.15.  These buttons command the Linkbot to move individual joints.  When the up or down arrows are clicked, the Linkbot begins to move the corresponding joint in either the positive, or negative direction. The joint will continue to move until the stop button, located between the up and down arrows, is clicked.<br/>Figure 2.15a shows the “Individual Joint Control” section for Linkbot-I. Since joint 2 is not movable for Linkbot-I, joint 2 is not clickable with the fainted background.  Figure 2.15b shows the “Individual Joint Control” section for Linkbot-L. Since joint 3 is not movable, joint 3 is not clickable with the fainted background.<br/><span><IMG width="239" height="182" src="chlinkbot/Image_099.jpg"/></span><br/><span><IMG width="262" height="187" src="chlinkbot/Image_100.jpg"/></span></p><p class="s22">(a) The control panel for Linkbot-I                                      (b) The control panel for Linkbot-L</p><p>Figure 2.15: The individual joint control.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_101.jpg"/></span><br/>If the joint encounters any obstacle that prevents it from moving, the joint will automatically disengage power to the joint. This may happen, for example, if it collides with the other object.<br/>Do Exercise 1 on page 26.<br/>22<br/>Chapter 2.  Controlling a Linkbot Using the Motion Control Panel<br/>2.4.  Control a Linkbot Using the Motion Control Panel</p><p class="s3">2.4.4   Rolling Control for Linkbot-I</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_102.png"/></span><br/><span><IMG width="221" height="202" src="chlinkbot/Image_103.jpg"/></span><br/>The Rolling Control section contains buttons for controlling a Linkbot-I as a two-wheel robot as shown in Figure 2.16.  The up and down buttons cause the Linkbot to roll forward or backward, as shown in Figure 2.16. The left and right buttons cause the Linkbot to turn to the left, or to the right. The stop button in the middle causes the Linkbot to stop where it is.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_104.jpg"/></span><br/>Figure 2.16: The rolling control for a Linkbot-I. Do Exercise 2 on page 26.</p><p class="s3">2.4.5   Joint Speed Control</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_105.png"/></span><br/>The Joint Speed Control section is located at the bottom left of the panel, as shown in Figure 2.17. It displays and controls the current joint speeds of the Linkbot. The joint speeds are in units of degrees per second. To set a specific desired joint speed for a particular joint, you can move the slider to change the joint speed. The joint speed may also be typed directly into the edit boxes below the sliders, and the “Set Speeds” button should be clicked.<br/>Like individual joint control, Figure 2.17a shows the “Joint Speed Control” section for Linkbot-I. Since joint 2 is not movable for Linkbot-I, joint 2 is not clickable with the fainted background. Figure 2.17b shows the “Joint Speed Control” section for Linkbot-L. Since joint 3 is not movable, joint 3 is not clickable with the fainted background.<br/>23<br/>Chapter 2.  Controlling a Linkbot Using the Motion Control Panel<br/>2.4.  Control a Linkbot Using the Motion Control Panel<br/><span><IMG width="288" height="238" src="chlinkbot/Image_106.jpg"/></span><br/><span><IMG width="288" height="242" src="chlinkbot/Image_107.jpg"/></span></p><p class="s22">(a) The control panel for Linkbot-I                                                   (b) The control panel for Linkbot-L</p><p>Figure 2.17: The joint speed control.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_108.jpg"/></span><br/>Do Exercise 3 on page 26.</p><p class="s3">2.4.6   Joint Position Control</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_109.png"/></span><br/>The Joint Position Control section is located in the bottom-middle of the panel, as shown in Figure 2.18. It is used to display and control the positions of each of the two joints of a Linkbot. The joint positions are displayed in the numerical text located above each vertical slider. The displayed joint positions are in units of degrees.<br/>Like individual joint control and joint speed control, Figure 2.18a shows the “Joint Position Control” section for Linkbot-I. Since joint 2 is not movable for Linkbot-I, joint 2 is not clickable with the fainted background.  Figure 2.18b shows the “Joint Position Control” section for Linkbot-L. Since joint 3 is not movable, joint 3 is not clickable with the fainted background.<br/>24<br/>Chapter 2.  Controlling a Linkbot Using the Motion Control Panel<br/>2.4.  Control a Linkbot Using the Motion Control Panel<br/><span><IMG width="289" height="247" src="chlinkbot/Image_110.jpg"/></span><br/><span><IMG width="288" height="250" src="chlinkbot/Image_111.jpg"/></span></p><p class="s22">(a) The control panel for Linkbot-I                                                   (b) The control panel for Linkbot-L</p><p>Figure 2.18: The joint position control.<br/>Controlling the joints can be done by using the vertical sliders. Each vertical slider’s position represents a joint’s angle.  When the position of the slider is moved, the Linkbot will move its joints to match the sliders.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_112.jpg"/></span><br/>An alternative method for moving the joints is by entering the exact angles for the joints. Underneath the sliders, there are two valid text entry boxes. The text boxes accept specific angles for each joint into which the user may type. If the “Move” button is clicked, each joint will move the amount in degrees specified in the text entry with respect to its current position. If any text entry is left blank, the corresponding joint will not move.<br/>Do Exercise 4 on page 26.</p><p class="s3">2.4.7   Control Multiple Linkbots</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_113.png"/></span><br/><span><IMG width="23" height="16" src="chlinkbot/Image_114.jpg"/></span><br/>A computer can connect to multiple Linkbots as described in section 2.2. The Motion Control Panel can be used to control multiple Linkbots, one at a time.  If a computer is connected to multiple Linkbots, an individual Linkbot can be selected to be controlled by picking the ZigBee serial number of the Linkbot from the drop down menu labeled as “Select a robot to control” underneath the tabs as shown in Figure 2.12.<br/>Do Exercise 5 on page 26.</p><p class="s3">2.4.8   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_115.png"/></span><br/>This section summarizes what you should have learned in this session.<br/>1. Control the motion of joints of a Linkbot individually through the “Motion Control Panel”.<br/>2. Control the motion of a Linkbot as a two-wheel vehicle.<br/>3. Set the joint speeds of a Linkbot. Joint speeds are specified in degrees per second.<br/>4. Set the joint angle that a Linkbot will be moved to. Joint angles are specified in degrees.<br/>5. The motion for the Linkbot’s joints has no limit.<br/>25<br/>Chapter 2.  Controlling a Linkbot Using the Motion Control Panel<br/>2.4.  Control a Linkbot Using the Motion Control Panel<br/>6. Connect to multiple Linkbots from a computer though the BaroboLink and control one at a  time through the Motion Control Panel.</p><p class="s3">2.4.9   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_116.png"/></span><br/>Joint angle, joint speed, individual joint control, joint speed control, and joint position control.</p><p class="s3">2.4.10   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_117.png"/></span><br/>1. Connect your computer to a Linkbot-I through BaroboLink. Click “Reset To Zero” to reset two joint angles of the Linkbot to the zero position on the Motion Control Panel. Move joint 1 in the positive direction through the Individual Joint Control. Move joint 3 in the positive direction. Stop the motion of joints 1 and 3. Move joints 1 and 3 in the negative direction. then stop both joints.<br/>2. Click “Reset To Zero” to reset two joint angles of a Linkbot-I to the zero position on the Motion Control Panel. First, roll the joints 1 and 3 forward through the Rolling Control. Then, turn the robot left. Next, roll the Linkbot forward. Turn the robot right. Roll the Linkbot backward.  Finally, stop the Linkbot.<br/>3. Click “Reset To Zero” to reset two joint angles to the zero position on the Motion Control Panel. First, roll the joints 1 and 3 forward through the Rolling Control. Change the speed of joints 1 and 3 to 30 degrees per second through the Joint Speed Control while the robot is moving.<br/>4. A Linkbot, as a two-wheel robot, turns its two wheels at 45 degrees per second. (a) How long will it take for the robot to rotate its wheels two full rotations (720 degrees)? You may set the joint speeds first, then move the joints 1 and 3 to the specified position while timing the motion using a stop watch. (b) If the radius of the wheel is 1.75 inches, what is the distance that the robot has moved forward?<br/>5. Work with your partner to connect a computer to two Linkbots. Control the connected two Linkbots using a Motion Control Panel of BaroboLink on the computer.<br/>26<br/><span><IMG width="627" height="8" src="chlinkbot/Image_118.png"/></span><br/><span><IMG width="624" height="3" src="chlinkbot/Image_119.png"/></span></p><p class="s1">CHAPTER 3</p><p><span><IMG width="624" height="3" src="chlinkbot/Image_120.png"/></span></p><p class="s6">Getting Started With Programming</p><p class="s6">Linkbots</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_121.png"/></span></p><p class="s21">3.1    Get  Started with  Ch  for  Computer Program-</p><p class="s21">ming</p><p>In Chapter 2, we learned how to control a Linkbot using the Motion Control Panel. However, in order for a Linkbot to solve complicated problems, we need to write a computer program to control the Linkbot. Unlike using the Motion Control Panel, a computer program can be saved in a file for later use. It can also conveniently be copied to a new file and modified to solve similar problems.<br/><a href="http://www.softintegration.com/">The Linkbot can be controlled using a C/C++ program through Ch, a C/C++ interpreter.  Ch Profes- sional Edition or Ch Student Edition is required to run the programs for controlling Linkbot.  Ch Stu- dent Edition is free to install in a computer owned by a student.  Ch is user-friendly and specially de- signed for beginners to learn computer programming.  For example, when an error occurs, Ch will give an insightful error message, instead of confusing messages or crashing.  Ch is available from SoftInte- gration, Inc. at </a><a href="http://www.softintegration.com/" class="s4">http://www.softintegration.com</a>.  Ch programs presented in this book are available in the <span class="s23">C:/C-STEM/LearnLinkbot </span>folder in Windows, <span class="s23">/opt/C-STEM/LearnLinkbot </span>in Mac OS X, and</p><p class="s23">/usr/local/C-STEM/LearnLinkbot <span class="p">in Linux.</span></p><p>In this chapter, we will learn how to write computer programs in Ch to solve applied problems and<br/>control a Linkbot.</p><p class="s3">3.1.1   Getting Started with ChIDE</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_122.png"/></span><br/>An Integrated Development Environment (IDE) can be used to develop computer programs. ChIDE in Ch is an IDE to edit, debug, and run C/Ch/C++ programs.  ChIDE can be conveniently launched by double<br/>Chapter 3.  Getting Started With Programming Linkbots<br/>3.1.  Get Started with Ch for Computer Programming<br/><span><IMG width="580" height="300" src="chlinkbot/Image_123.jpg"/></span><br/>Figure 3.1: A layout and related terminologies in ChIDE.<br/>clicking its icon <span><IMG width="32" height="32" src="chlinkbot/Image_124.jpg"/></span> on the desktop.  A layout of ChIDE is displayed in Figure 3.1, which also shows various terms used to describe ChIDE in this book.</p><p class="s3">3.1.2   The First Ch Program</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_125.png"/></span><br/>Let’s get started with programming in Ch!  We will write a simple program shown in Program 3.1.  The program will display the following output on the screen when it is executed:</p><p class="s19">          Hello, world                                                                                                                                                                                                                             </p><p>To run the code in Program 3.1, the source code needs to be written first. <span class="s20">Source code </span>is plain text, which contains instructions of a program. If the text in Program 3.1 is typed in the editing pane in ChIDE, the program will appear colored due to syntax highlighting and with line numbers, as shown in Figure 3.1.<br/><span><IMG width="624" height="59" src="chlinkbot/Image_126.png"/></span></p><p class="s25">/* File: hello.ch</p><p class="s25">Print ’Hello,   world’   on the  screen.   */</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Hello,   world\n&quot;</span>);</p><p>Program 3.1: The first Ch program <span class="s23">hello.ch</span>.<br/>We will explain each line in Program 3.1 in detail. Contents that begin with <span class="s26">/* </span>and end with <span class="s26">*/ </span>are comments. <span class="s20">Comments </span>are used to document a program to make the code more readable. When comments<br/>are processed by Ch, they are ignored and no action is taken relating to the comments. The first two lines, listed below, in Program 3.1 are comments.<br/><span><IMG width="624" height="29" src="chlinkbot/Image_127.png"/></span></p><p class="s25">/* File: hello.ch</p><p class="s25">Print ’Hello,   world’   on the  screen  */</p><p>28<br/>Chapter 3.  Getting Started With Programming Linkbots<br/>3.1.  Get Started with Ch for Computer Programming<br/>They document that the file name of the program is <span class="s26">hello.ch </span>and the purpose of the program is to display the message <span class="s23">Hello, world </span>on the screen.<br/><span><IMG width="237" height="21" src="chlinkbot/Image_128.png"/></span><br/>A Ch program typically ends with “.ch”, which is called the <span class="s20">file extension</span>. A file name generally does not contain a space.<br/>A <span class="s20">function </span>is the basic executable module in a program. Asking a function to perform its assigned tasks<br/>is known as <span class="s20">calling </span>the function.<br/><span><IMG width="628" height="19" src="chlinkbot/Image_129.png"/></span><br/>In the statement</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Hello,   world\n&quot;</span>);</p><p><span><IMG width="335" height="20" src="chlinkbot/Image_130.png"/></span><br/>The function <span style=" color: #FF1CCE;">printf</span>()  is used to display <span class="s23">Hello, world </span>on the screen. The symbol <span class="s23">\n </span>will be explained in section 3.1.6. Each statement in a program must end with a semicolon.<br/>All programs presented in this book are available in the distribution of the source code for this book. Once they are installed, they are typically located in the folder <span class="s23">C:\C-STEM\LearnLinkbot </span>in Windows and <span class="s23">/opt/C-STEM/LearnLinkbot </span>in Mac OS X.</p><p class="s3">Opening Programs in ChIDE from Windows Explorer</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_131.png"/></span><br/>In Windows, a program listed in the Windows explorer can be opened in the editing pane of ChIDE by clicking on the program. The program can also be opened in the editing pane by dragging and dropping it on to the ChIDE icon on the desktop.</p><p class="s3">3.1.3   Editing Programs</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_132.png"/></span><br/>Text editing in ChIDE works similarly to most Windows or Mac text editors, such as Microsoft Word. As an example, open a new document by clicking the command <span class="s23">File-&gt;New </span>on the menu bar, or the first icon on the toolbar that looks like a little piece of paper with a folded corner, as shown in Figure 3.1.<br/>You can save the document as a file named <span class="s23">hello.ch </span>by the command <span class="s23">File-&gt;Save As</span>.  Follow the instruction and type the file name <span class="s23">hello.ch </span>to save as a new program. You can also right click the file name on the tab bar, located below the debug bar, and then select the command <span class="s23">Save  As </span>to save the program.</p><p class="s3">3.1.4   Running Programs and Stopping Their Execution</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_133.png"/></span><br/>Click <span class="s23">Run </span>on the toolbar, as shown in Figure 3.2, to execute the program <span class="s23">hello.ch</span>.  This will cause the interpreter to read the code and provide an output on the bottom of the ChIDE window as shown in Figure<br/>3.2. Pressing the function key <span class="s23">F2 </span>will also execute the program. If you are editing a program, pressing F2 will save the edited program first and then run the saved program.<br/>If  the  command  execution  has  failed  or  execution  is  taking  too  long  to  complete,  then  the</p><p class="s23">Stop <span class="p">command on the toolbar can be used to stop the program.</span></p><p class="s3">3.1.5   Output from Execution of Programs</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_134.png"/></span><br/>The <span class="s20">editing pane </span>on the top is for writing and editing a program source file or any text file. The <span class="s20">input/output pane </span>is located below the editing pane, and is initially hidden. It can be made larger by dragging the divider between it and the editing pane. The output from the program is directed into the input/output pane when it is executed using the command <span class="s23">Run</span>, as shown in Figure 3.2. When the program <span class="s23">hello.ch </span>is executed,<br/>29<br/>Chapter 3.  Getting Started With Programming Linkbots<br/>3.1.  Get Started with Ch for Computer Programming<br/><span><IMG width="481" height="220" src="chlinkbot/Image_135.jpg"/></span><br/>Figure 3.2: Running the program inside the editing pane in ChIDE and its output.<br/>.<br/>the input/output pane will be made visible if it is not already visible and will display the following three lines, as shown in Figure 3.2.<br/><span><IMG width="624" height="44" src="chlinkbot/Image_136.png"/></span></p><p class="s17">&gt;ch  -u &quot;hello.ch&quot;   //  use the command ch  for Ch to  execute  hello.ch</p><p class="s17">Hello, world                      // the  output from executing  the  program hello.ch</p><p class="s17">&gt;Exit  code: 0          // display the exit code for  the program</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_137.jpg"/></span><br/>An exit code of 0 indicates that the program has terminated successfully. If a failure had occurred during the execution of the program, the exit code would be -1.<br/>Do Exercises 1, 2, and 3 on page 34.</p><p class="s3">3.1.6   Newline Character</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_138.png"/></span><br/>The symbol <span class="s23">\n </span>used in the function <span style=" color: #FF1CCE;">printf</span>()  in Program 3.1 means a <span class="s20">newline character</span>. It instructs the computer to start writing on a new line, like the <span class="s23">Enter </span>key, which can be illustrated by changing the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_139.png"/></span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Hello,   world\n&quot;</span>);</p><p>to<br/><span><IMG width="624" height="15" src="chlinkbot/Image_140.png"/></span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Hello,   world\nWelcome to  Ch!\n&quot;</span>);</p><p>The output of the new program will become<br/><span><IMG width="624" height="29" src="chlinkbot/Image_141.png"/></span></p><p class="s17">Hello, world</p><p class="s17">Welcome  to Ch!</p><p>After the newline character, the string <span class="s23">Welcome to  Ch! </span>is displayed at the beginning of the next line on the screen.</p><p class="s3">3.1.7   Copying Contents in a Program to Another  Program in ChIDE</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_142.png"/></span><br/>Unlike a calculator, an existing Ch program can be copied to a new file. This process of creating a new program can save a lot of typing.  Below are the step-by-step instructions on how to create a program <span class="s23">hello2.ch </span>to produce the output described in section 3.1.6. It copies the file <span class="s23">hello.ch </span>in Program 3.1 to a new program <span class="s23">hello2.ch </span>in ChIDE to solve the above problem.<br/>30<br/>Chapter 3.  Getting Started With Programming Linkbots<br/>3.1.  Get Started with Ch for Computer Programming<br/>1. Open the file <span class="s23">hello.ch </span>in Program 3.1 in the folder <span class="s23">C:\C-STEM </span>for Windows, <span class="s23">/opt/C-STEM</span><br/>for Mac OS X, <span class="s23">/usr/local/C-STEM </span>for Linux in the file browser pane as shown in Figure 3.5.<br/>2. Select all the contents of this program by clicking the command <span class="s23">Edit-&gt;Select All </span>or holding the left button of the mouse and dragging the mouse to select the contents to be copied.<br/>3. Click the right button to bring up the menu and click the Copy command on the menu to copy the selected contents into the buffer. Or use <span class="s23">Ctrl+C </span>for a shortcut for copying.<br/>4. Open a new document by clicking the first icon on the toolbar that looks like a little piece of paper with a folded corner, as shown in Figure 3.1.<br/>5. Move the cursor to the editing page, click the right button to bring up the menu, and click the Paste command on the menu to paste the contents in the buffer to the opened document. Or use <span class="s23">Ctrl+V </span>for a shortcut for pasting.<br/>6. Save this document as a new program <span class="s23">hello2.ch</span>,<br/>7. Modify the program <span class="s23">hello2.ch </span>with the statement below.<br/><span><IMG width="588" height="15" src="chlinkbot/Image_143.png"/></span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Hello,   world\nWelcome to  Ch!\n&quot;</span>);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_144.jpg"/></span><br/>Do Exercises 4 and 5 on page 34.</p><p class="s3">3.1.8   Correcting Errors in Programs</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_145.png"/></span><br/>ChIDE can identify errors that occur in the source code and provide helpful responses that aid the user in finding and correcting these errors. To see this, we will create an error in the program <span class="s23">hello.ch </span>by changing the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_146.png"/></span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Hello,   world\n&quot;</span>);</p><p>to<br/><span><IMG width="624" height="15" src="chlinkbot/Image_147.png"/></span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Hello,   world\n&quot;</span>;</p><p>Notice that in the second statement the closing parenthesis is missing. When the program is executed, the results should look like the input/output pane in Figure 3.3. The line with incorrect syntax in the editing pane and the corresponding error message in the input/output pane will be highlighted with a yellow background. The first error message at the line</p><p class="s19">          ERROR: missing ’)’ before ’;’                                                                                                                                                                        </p><p>indicates that a closing parenthesis is missing before the semicolon ’;’.<br/>Because the program fails to execute, the exit code <span class="s5">−1 </span>is displayed at the end of the input/output pane<br/>as</p><p class="s19">          &gt;Exit code: -1                                                                                                                                                                                                                       </p><p><span><IMG width="23" height="16" src="chlinkbot/Image_148.jpg"/></span><br/>Errors in computer programs are called <span class="s20">bugs</span>. The process of finding and reducing the number of bugs is called <span class="s20">debug </span>or <span class="s20">debugging</span>. ChIDE is especially helpful for testing and debugging programs.<br/>Do Exercise 6 on page 34.<br/>31<br/>Chapter 3.  Getting Started With Programming Linkbots<br/>3.1.  Get Started with Ch for Computer Programming<br/><span><IMG width="481" height="260" src="chlinkbot/Image_149.jpg"/></span><br/>Figure 3.3: The error line in output from executing program hello.c.</p><p class="s3">3.1.9   Browsing Files</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_150.png"/></span><br/>All programs described in the book are available in a folder in <span class="s23">C:\C-STEM </span>for Windows, <span class="s23">/opt/C-STEM </span>for Mac OS X, <span class="s23">/usr/local/C-STEM </span>for Linux. If you use a computer in a laboratory, you may not have permission to write in this folder. You may copy these programs in your own folder.<br/>In Windows, you can hover the cursor over the program name on the tab, the full path and program name will be displayed, as shown in Figure 3.4. This is useful to find out where the program is located when you open multiple programs.<br/>Programs in the current working directory are displayed in the file browser pane, as shown in Figure 3.1. The current working directory is displayed at the end of the tool bar and also at the top of the file browser pane. The first entry under <span class="s23">Directories and  Files </span>in the file browser pane is the parent directory<br/>of the current working directory. Clicking the arrow at the end of the current working directory in the file<br/>browser pane, all parent directories of the current working directory are displayed as shown in Figure 3.5. Selecting a parent directory, its contents will be displayed in the file browser pane.<br/>The history of current working directories can be displayed by clicking the arrow at the end of the tool bar as shown in Figure 3.6. Selecting a directory in the history of the current working directories, the selected directory will become the current working directory and its contents will be displayed in the file browser pane.</p><p class="s3">3.1.10   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_151.png"/></span><br/>This section summarizes what you should have learned in this session.<br/>1.<br/><span><IMG width="11" height="20" src="chlinkbot/Image_152.png"/></span><br/>.<br/>2. The comments in a Ch program begin with <span class="s23">/* </span>and end with <span class="s23">*/</span>.<br/>3. Use the output function <span style=" color: #FF1CCE;">printf</span>() to print a string.<br/>4. Each statement in a Ch program ends with a semicolon.<br/>5. Use the escape character <span class="s23">’\n’ </span>as a newline character.<br/>32<br/>Chapter 3.  Getting Started With Programming Linkbots<br/>3.1.  Get Started with Ch for Computer Programming<br/><span><IMG width="484" height="180" src="chlinkbot/Image_153.jpg"/></span><br/>Figure 3.4: Displaying the full path of a program.<br/><span><IMG width="481" height="190" src="chlinkbot/Image_154.jpg"/></span><br/>Figure 3.5: Displaying the parent directories of the current working directory.<br/><span><IMG width="475" height="173" src="chlinkbot/Image_155.jpg"/></span><br/>Figure 3.6: Displaying the history of current working directories.<br/>33<br/>Chapter 3.  Getting Started With Programming Linkbots<br/>3.1.  Get Started with Ch for Computer Programming<br/>6. Use the integrated development environment ChIDE to edit and run Ch programs.<br/>7. Edit, save, and run Ch programs in ChIDE.<br/><span><IMG width="277" height="20" src="chlinkbot/Image_156.png"/></span><br/>8. Run a program by pressing the function key F2.<br/>9. Copy contents in ChIDE using Copy/Paste.<br/>10. Find the corresponding lines in a program with error messages and fix bugs in the program.</p><p class="s3">3.1.11   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_157.png"/></span><br/>bugs, calling the function, ChIDE, comment, copy program, debug, debugging, editing pane, error message, exit code, file extension, IDE, Integrated Development Environment, newline character, input/output pane, <span style=" color: #FF1CCE;">printf</span>(), Run, source code, Stop</p><p class="s3">3.1.12   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_158.png"/></span><br/>1. Create a folder called <span class="s23">learnLinkbot </span>to keep Ch programs that you will develop. You may use an alternative folder name and location that your instructor specifies.<br/><span><IMG width="592" height="18" src="chlinkbot/Image_159.png"/></span><br/>2. What is wrong with this line of code:</p><p class="s16">printf<span style=" color: #000;">(</span><span style=" color: #7F007F;">’cool!&quot;;</span></p><p>3. Write a program <span class="s23">cool.ch </span>to display</p><p class="s19">          This is cool!                                                                                                                                                                                                          </p><p>Use the command <span class="s23">File-&gt;New </span>or click the first menu on the toolbar in ChIDE to open a new unsaved program to enter your code for the program. The program calls the function <span style=" color: #FF1CCE;">printf</span>()  to display the output on the screen. Save your program as <span class="s23">cool.ch </span>using the command <span class="s23">File-&gt;Save As </span>in the folder created in Exercise 1. Execute the program in ChIDE by the command <span class="s23">Run</span>.<br/><span><IMG width="592" height="62" src="chlinkbot/Image_160.png"/></span><br/>4. Write a program <span class="s23">welcome.ch </span>to display</p><p class="s17">Hello,  world. Welcome  to Ch! This is cool.</p><p class="s17">by [your_name,  today’s   date]</p><p>Based on the instructions described in section 3.1.7 to copy the program <span class="s23">cool.ch</span>,  developed in Exercise 3, to the program <span class="s23">welcome.ch</span>.  The program calls the function <span style=" color: #FF1CCE;">printf</span>()  four times, one for each output line. Run the program in ChIDE.<br/>5. Write a program <span class="s23">welcome2.ch </span>to display the same output as that from the program <span class="s23">welcome.ch </span>developed in Exercise 4. But, the program <span class="s23">welcome2.ch </span>shall call the function <span style=" color: #FF1CCE;">printf</span>() <span class="s5">only once</span>. Based on the instructions described in section 3.1.7 to copy the program <span class="s23">welcome.ch </span>to the program <span class="s23">welcome2.ch</span>. Run the program in ChIDE.<br/>6. Modify the program <span class="s23">welcome.ch </span>developed in Exercise 4 to introduce a bug by removing a closing parenthesis ’)’. Run the modified program in ChIDE by pressing the function key F2. Find the line corresponding to the first error message in the editing pane. Then, fix the bug.<br/>34<br/>Chapter 3.  Getting Started With Programming Linkbots<br/>3.2.  Move Joints Relative to their Current Positions</p><p class="s21">3.2    Move Joints Relative to their Current Positions</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_161.png"/></span><br/><span><IMG width="144" height="96" src="chlinkbot/Image_162.jpg"/></span><br/>A Ch program can be developed to control the Linkbot. The working principle of a program is the same as using BaroboLink. Program 3.2 contains the code typically used for controlling a Linkbot-I. We will explain the functionality of each statement in this robot program.<br/><span><IMG width="624" height="249" src="chlinkbot/Image_163.png"/></span></p><p class="s25">/* File: move.ch</p><p class="s25">Move  joints relative  to the current positions.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s25">/* connect to the paired  robot */</p><p class="s17">robot.connect();</p><p class="s25">/* set the robot to &quot;zero&quot; position,   where all joint angles  are  0 degree.   */</p><p class="s17">robot.resetToZero();</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Here   comes a  robot!\n&quot;</span>);</p><p class="s25">/* move  joint 1 by 360 degrees  and joint 3 by -360  degrees  */</p><p class="s17">robot.move(360, <span style=" color: #FF1CCE;">NaN</span>,   -360);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Cool!\n&quot;</span>);</p><p>Program 3.2: The first program to control a Linkbot-I.<br/>A line that starts with a # has a special meaning, which depends on the symbol following it. The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_164.png"/></span></p><p class="s27">#include &lt;linkbot.h&gt;</p><p>instructs Ch to include the contents of the header file <span style=" color: #998342;">linkbot.h </span>in the program. The contents made available via <span style=" color: #998342;">#include </span>is called a <span class="s20">header </span>or <span class="s20">header file</span>. This line appears in every Linkbot program to allow control of the Linkbot through the class <span style=" color: #FF1CCE;">CLinkbotI</span>. A class is a user defined data type in Ch. The symbol <span style=" color: #FF1CCE;">CLinkbotI </span>can be used to create a Linkbot-I object. The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_165.png"/></span></p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p>creates <span class="s23">robot </span>for controlling a Linkbot-I. A class has functions associated with it. The functions associated with a class are called <span class="s20">member functions</span>. For example, the function robot.connect() or connect() is a member function of the class <span style=" color: #FF1CCE;">CLinkbotI</span>. In Program 3.2, member functions of the class <span style=" color: #FF1CCE;">CLinkbotI </span>are called to control a Linkbot-I. The function call<br/><span><IMG width="624" height="15" src="chlinkbot/Image_166.png"/></span></p><p class="s17">robot.connect();</p><p>connects the variable <span class="s23">robot </span>to a Linkbot-I that has been previously configured with the computer as de- scribed in Section 2.2 on page 12.  Every Linkbot program controlling the Linkbot contains the above statement.<br/>The next line<br/>35<br/>Chapter 3.  Getting Started With Programming Linkbots<br/>3.2.  Move Joints Relative to their Current Positions<br/><span><IMG width="624" height="15" src="chlinkbot/Image_167.png"/></span></p><p class="s17">robot.resetToZero();</p><p>uses the resetToZero() member function to move all of its joints to the zero position, as shown in Figure<br/>2.3. It is equivalent to the Reset To Zero button on the Motion Control Panel in BaroboLink, or pressing both A and B buttons of the Linkbot. This statement is typically used in a program to to move all of its joints to the zero position. If the Linkbot is already in the zero position, its joints will not move.<br/>The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_168.png"/></span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Here   comes a  robot!\n&quot;</span>);</p><p>displays the following output in the input/output pane.</p><p class="s19">          Here comes a robot!                                                                                                                                                                                                       </p><p>The general syntax of the <span style=" color: #FF1CCE;">CLinkbotI </span>member function move() to move two joints of a Linkbot relative to their current positions is as follows.</p><p class="s23">robot.move(angle1,  NaN, angle3);</p><p>It has three arguments for three joints, each representing a joint angle relative to its current positions. Since joint 2 cannot be moved, the argument <span style=" color: #FF1CCE;">NaN </span>which stands for Not-a-Number is used. The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_169.png"/></span></p><p class="s17">robot.move(360, <span style=" color: #FF1CCE;">NaN</span>,   -360);</p><p>moves joint 1 by 360 degrees and joint 3 by <span class="s5">−360 </span>degrees relative to their current position.  Since be- fore the motion caused by this statement, all joints are at zero position by the previous function call of <span class="s23">robot.resetToZero()</span>, joint 1 of the Linkbot-I rotates 360 degrees and joint 3 rotates <span class="s5">−360 </span>degrees. In this way, the robot will move forward.<br/>If the value for a joint angle for the member function move() is negative, the joint moves in the oppositive direction. For example, the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_170.png"/></span></p><p class="s17">robot.move(-360, <span style=" color: #FF1CCE;">NaN</span>,   360);</p><p>would move joint 1 by <span class="s5">−360 </span>degrees and joint 3 by 360 degrees relative to their current positions. The robot will move backward.<br/>Note that all member functions of the class <span style=" color: #FF1CCE;">CLinkbotI </span>for motion including move() expect input angles in degrees. In section 7.6, we will learn how to handle joint angles specified in radians.<br/>The last line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_171.png"/></span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Cool!\n&quot;</span>);</p><p>displays <span class="s23">Cool! </span>in the input/output pane.<br/>After your computer is connected to a Linkbot as described in the previous chapter, when Program 3.2<br/>is executed, the following output will be displayed in the input/output pane first,</p><p class="s19">          Here comes a robot!                                                                                                                                                                                                       </p><p>Then, the Linkbot-I will make a full rotation for both joints 1 and 3. Finally, the following output will be displayed in the input/output pane.</p><p class="s19">          Cool!                                                                                                                                                                                                                                                   </p><p><span><IMG width="23" height="16" src="chlinkbot/Image_172.jpg"/></span><br/>Do Exercises 1, 2, 3 on page 37.</p><p class="s3">3.2.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_173.png"/></span><br/>This section summarizes what you should have learned in this session.<br/>36<br/>Chapter 3.  Getting Started With Programming Linkbots<br/>3.2.  Move Joints Relative to their Current Positions<br/>1. Include the header file <span style=" color: #998342;">linkbot.h  </span>and use the class <span style=" color: #FF1CCE;">CLinkbotI </span>to declare a variable <span class="s23">robot </span>by the following two statements</p><p class="s23">#include &lt;linkbot.h&gt; CLinkbotI robot;</p><p>2. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.connect();</p><p>to connect the variable <span class="s23">robot </span>to a Linkbot-I.<br/>3. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.resetToZero();</p><p>to move all two joints of a Linkbot to their zero positions.<br/>4. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.move(angle1,  NaN, angle3);</p><p>to move joints 1 and 3 of a Linkbot-I relative to their current positions specified in its first and third arguments.<br/>5. A Linkbot program typically begins with the following statements.<br/><span><IMG width="588" height="59" src="chlinkbot/Image_174.png"/></span></p><p class="s27">#include &lt;linkbot.h&gt; <span style=" color: #FF1CCE;">CLinkbotI </span><span style=" color: #000;">robot; robot.connect(); robot.resetToZero();</span></p><p>to declare the variable <span class="s23">robot</span>, connect it to a Linkbot, and set the Linkbot to the zero position, where all joint angles are at zero degrees.<br/>6. Joint angles in arguments of the <span style=" color: #FF1CCE;">CLinkbotI </span>member functions, such as move(), are specified in de- grees.</p><p class="s3">3.2.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_175.png"/></span><br/><span style=" color: #998342;">#include </span><span class="s29">&lt;</span><span style=" color: #998342;">linkbot.h</span><span class="s29">&gt;</span>, <span style=" color: #FF1CCE;">NaN</span>, Not-a-Number, header, header file, class, <span style=" color: #FF1CCE;">CLinkbotI</span>, member function, rela- tive position, robot.connect(), robot.resetToZero(), robot.move().</p><p class="s3">3.2.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_176.png"/></span><br/>1. Write a program <span class="s23">move2.ch </span>to move the two rotating joints of a Linkbot-I two full rotations (hint:<br/>one full rotation is 360 degrees) to the position of 720 degrees.<br/>2. Write a program <span class="s23">move3.ch </span>to make a Linkbot-I turn left by rotating only joint 3 by <span class="s5">−360 </span>degrees.<br/>3. Write a program <span class="s23">move4.ch </span>to make a Linkbot-I turn left fast using by rotating joint 1 by <span class="s5">−360</span><br/>degrees and joint 3 by -360 degrees.<br/>37<br/>Chapter 3.  Getting Started With Programming Linkbots<br/>3.3.  Drive Forward and Drive Backward Relative to its Current Joint Position</p><p class="s21">3.3    Drive Forward and Drive Backward Relative to</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_177.png"/></span></p><p class="s21">its Current Joint Position</p><p><span><IMG width="194" height="129" src="chlinkbot/Image_178.jpg"/></span><br/>A Linkbot-I can be configured as a two-wheel robot. In this case, both joints 1 and 3 can rotate together to roll forward or backward. The member function driveForward() causes both joints 1 and 3 to drive the Linkbot-I forward. The syntax of the member function driveForward() is as follows.</p><p class="s23">robot.driveForward(angle);</p><p>The amount to roll the wheels forward relative to their current positions is specified by the argument <span class="s23">angle</span>. The above member function call is equivalent to the following member function call with move().</p><p class="s23">robot.move(angle,  NaN, -angle);</p><p>The member function driveBackward() causes both joints 1 and 3 to roll the Linkbot-I backward. The syntax of the member function driveBackward() is as follows.</p><p class="s23">robot.driveBackward(angle);</p><p>The amount to drive the wheels backward relative to their current positions is specified by the argument</p><p class="s23">angle<span class="p">. The above member function call is equivalent to the following member function call with move().</span></p><p class="s23">robot.move(-angle,  NaN, angle);</p><p>The prefix drive for a name of a member function is reserved for member functions to drive a Linkbot-I<br/>configured as a two-wheel robot.<br/><span><IMG width="624" height="205" src="chlinkbot/Image_179.png"/></span></p><p class="s25">/* File: driveforward.ch</p><p class="s25">Drive  forward  and backward for Linkbot-I   as  a two-wheel vehicle */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* drive  forward by rolling two wheels  for  360 degrees */</p><p class="s17">robot.driveForward(360);</p><p class="s25">/* drive backward  by rolling two wheels  for  360 degrees */</p><p class="s17">robot.driveBackward(360);</p><p>Program 3.3: Rolling forward and backward as a two-wheel vehicle using driveForward() and driveBack- ward().<br/>38<br/>Chapter 3.  Getting Started With Programming Linkbots<br/>3.4.  Monitor Joint Angles Using the Motion Control Panel<br/>For example, Program 3.3 first drives the Linkbot-I forward 360 degrees for both joints 1 and 3 by<br/><span><IMG width="624" height="15" src="chlinkbot/Image_180.png"/></span></p><p class="s17">robot.driveForward(360);</p><p>Then, it drives the Linkbot-I backward 360 degrees for both joints 1 and 3 by<br/><span><IMG width="624" height="15" src="chlinkbot/Image_181.png"/></span></p><p class="s17">robot.driveBackward(360);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_182.jpg"/></span><br/>Do Exercise 1 on page 39.</p><p class="s3">3.3.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_183.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.driveForward(angle);</p><p>to drive a Linkbot-I forward by rolling both joints 1 and 3 with the specified angle, relative to their current positions for both joints.<br/>2. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.driveBackward(angle);</p><p>to drive a Linkbot-I backward by rolling both joints 1 and 3 with the specified angle, relative to their current positions for both joints.</p><p class="s3">3.3.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_184.png"/></span><br/>robot.driveForward(), robot.driveBackward(), move forward, move backward.</p><p class="s3">3.3.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_185.png"/></span><br/>1. Write a program <span class="s23">driveforward2.ch </span>to drive backward a Linkbot-I by rolling joints 1 and 3 by<br/>180 degrees, then drive it forward by rolling joints 1 and 3 by 360 degrees.<br/><span><IMG width="624" height="53" src="chlinkbot/Image_186.png"/></span></p><p class="s21">3.4    Monitor  Joint Angles Using the Motion Control</p><p class="s21">Panel</p><p>When a Linkbot program is executed, you can monitor the motion of its joints in the section of the Joint Position Control on the Motion Control Panel in BaroboLink as shown in Figure 2.12 in section 2.4.1 on page 20. As the Linkbot is moving, the vertical sliders for joints and the joint angles displayed above the sliders will be dynamically updated.<br/>You can run the program <span class="s23">driveforward.ch </span>in Program 3.3 to monitor the joint angles of the Linkbot on the Motion Control Panel in BaroboLink. When you run the program, joint 1 will move from 0 to 360 degrees first and then back to 0 degree.  Joint 3 will move from 0 to <span class="s5">−360 </span>degrees first, then back to 0 degree, as you can monitor the change of joint angles on the Motion Control Panel in BaroboLink as shown in Figure 3.7.<br/>When a program is executed in the debug mode by the command <span class="s23">Next </span>in ChIDE, the program will be executed line by line. The currently executed statement is highlighted in the green color. For example, Figure 3.8 shows that Program 3.3 is executed in the debug mode. The currently executed statement<br/>39<br/>Chapter 3.  Getting Started With Programming Linkbots<br/>3.4.  Monitor Joint Angles Using the Motion Control Panel<br/><span><IMG width="432" height="385" src="chlinkbot/Image_187.jpg"/></span><br/>Figure 3.7: Monitoring the movements of joints of a Linkbot on the Motion Control Panel in BaroboLink.<br/><span><IMG width="485" height="357" src="chlinkbot/Image_188.jpg"/></span><br/>Figure 3.8: Running the program <span class="s23">driveforward.ch </span>in debug mode.<br/>40<br/>3.5.  Set the LED Color<br/>Chapter 3.  Getting Started With Programming Linkbots<br/><span><IMG width="624" height="15" src="chlinkbot/Image_189.png"/></span></p><p class="s17">robot.driveForward(360);</p><p>is highlighted in the green color. The joint angles of the Linkbot at this point on the Motion Control Panel on BaroboLink is shown in Figure 3.7. Since the low-cost Linkbot is not high precision, the joint angles may not reach and stay in the exact goal positions. When you monitor the joint angles in BaroboLink, as shown in Figure 3.7, the joints are close to the goal positions. Until you click <span class="s23">Next </span>to execute the next statement, the joint angles of the robot will remain in their current goal positions.<br/>When a program is executed in the debug mode, the command <span class="s23">Continue </span>can be clicked to continue the execution of the program until the program ends.</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td/><td><p class="s7">Please note</p></td><td><p class="s7">that when</p></td><td><p class="s7">BaroboLink</p></td><td><p class="s7">is in Motion Control Panel, it constantly communicates with a con-</p></td></tr><tr><td><p class="s7">nected Linkbot</p></td><td><p class="s7">to update</p></td><td><p class="s7">the positions</p></td><td><p class="s7">on the panel. If a class with</p></td><td><p class="s7">a large number of Linkbots connected</p></td></tr><tr><td><p class="s7">wirelessly to many computers to</p></td><td><p class="s7">run programs at the same time, it</p></td><td><p class="s7">may</p></td><td><p class="s7">jam the communication channel.</p></td></tr><tr><td><p class="s7">It is recommended to disable the</p></td><td><p class="s7">Motion</p></td><td><p class="s7">Control</p></td><td><p class="s7">Panel by</p></td><td><p class="s7">switching</p></td><td><p class="s7">the</p></td><td><p class="s7">BaroboLink to Connect Panel for</p></td></tr><tr><td><p class="s7">many computers running Ch programs to</p></td><td><p class="s7">control</p></td><td><p class="s7">Linkbots</p></td><td><p class="s7">wirelessly</p></td><td><p class="s7">in a classroom.</p></td><td/></tr></table><p><span><IMG width="23" height="21" src="chlinkbot/Image_190.png"/></span><br/><span><IMG width="23" height="16" src="chlinkbot/Image_191.jpg"/></span><br/>Do Exercise 1 on page 41.</p><p class="s3">3.4.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_192.png"/></span><br/>1. Execute a Linkbot program line-by-line using the command <span class="s23">Next </span>on the debug bar in ChIDE while monitoring joint angles of a Linkbot on the Motion Control Panel in BaroboLink.<br/>2. Use the command <span class="s23">Continue </span>to finish the execution of the remaining part of the program non-stop.</p><p class="s3">3.4.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_193.png"/></span><br/>Debug mode, Next, Continue,</p><p class="s3">3.4.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_194.png"/></span><br/>1. Write a program <span class="s23">monitormotion.ch </span>to drive a Linkbot-I with the following motion statements.</p><p class="s23">robot.move(360,  NaN, -360); robot.driveForward(360); robot.driveBackward(720);</p><p>Run the program in ChIDE in debug mode with the command <span class="s23">Next </span>on the debug bar, as you monitor the change of joint angles on the Motion Control Panel in BaroboLink.</p><p class="s21">3.5    Set the LED Color</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_195.png"/></span><br/>Section 2.3 demonstrated how to change the LED color of a Linkbot through the Sensors Panel of BaroboLink. It is also possible to change the LED color of a Linkbot within a Ch program to add visual effects. Program<br/>3.4 shows an example of how this is done.<br/>41<br/>3.5.  Set the LED Color<br/>Chapter 3.  Getting Started With Programming Linkbots<br/><span><IMG width="624" height="278" src="chlinkbot/Image_196.png"/></span></p><p class="s25">/* File: setcolor.ch</p><p class="s25">Set the LED color  before and after  the movement  */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* drive  forward by rolling two wheels  for  360 degrees */</p><p class="s17">robot.driveForward(360);</p><p class="s25">/* change the LED color  to blue */</p><p class="s17">robot.setLEDColor(<span style=" color: #7F007F;">&quot;blue&quot;</span>);</p><p class="s25">/* drive backward  by rolling two wheels  for  360 degrees */</p><p class="s17">robot.driveBackward(360);</p><p class="s25">/* change the LED color  to red */</p><p class="s17">robot.setLEDColor(<span style=" color: #7F007F;">&quot;red&quot;</span>);</p><p>Program 3.4: Setting the LED color for a Linkbot-I.<br/>Program 3.4 builds upon Program 3.3 by changing the LED color of the Linkbot-I after it moves forward, and again after it moves backward. The color of a Linkbot-I’s LED can be changed using the <span style=" color: #FF1CCE;">CLinkbotI </span>member function setLEDColor().  The general syntax of this member function is as follows.</p><p class="s23">robot.setLEDColor(color);</p><p>The argument <span class="s23">color </span>specifies the desired color.  A full list of the 137 possible colors that can be used with the member function setLEDColor() can be found in Appendix C. If a color other than those listed in Appendix C is used, the LED color remains unchanged and an error message is printed to the input/output pane in ChIDE.<br/>In Program 3.4, after the Linkbot-I moves forward, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_197.png"/></span></p><p class="s17">robot.setLEDColor(<span style=" color: #7F007F;">&quot;blue&quot;</span>);</p><p>changes the LED color of the Linkbot-I to blue. And after the Linkbot-I moves backward, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_198.png"/></span></p><p class="s17">robot.setLEDColor(<span style=" color: #7F007F;">&quot;red&quot;</span>);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_199.jpg"/></span><br/>changes the LED color of the Linkbot-I to red.<br/>Do Exercise 1 on page 43.</p><p class="s3">3.5.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_200.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI</span>() member function</p><p class="s23">robot.setLEDColor(color);</p><p>to set the LED color of a Linkbot-I.</p><p class="s3">3.5.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_201.png"/></span><br/>robot.setLEDColor().<br/>42<br/>3.6. <span><IMG width="18" height="18" src="chlinkbot/Image_202.gif"/></span> Control the Linkbot-L<br/>Chapter 3.  Getting Started With Programming Linkbots</p><p class="s3">3.5.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_203.png"/></span><br/><span><IMG width="624" height="53" src="chlinkbot/Image_204.png"/></span><br/>1. Write a program <span class="s23">setcolor2.ch</span>, based on Program 3.4, to change the LED color of a Linkbot-I as follows: First, set the LED color to brown and then drive the Linkbot-I forward by 360 degrees. Then set the LED color to green and drive the Linkbot-I backward by 360 degrees. Finally, set the LED color to pink.</p><p class="s21">3.6       Control  the Linkbot-L</p><p><span><IMG width="144" height="96" src="chlinkbot/Image_205.jpg"/></span><br/>Figure 3.9: A Linkbot-L.<br/>In the previous chapter, we learned how to control a Linkbot-L using the BaroboLink graphical interface. Similar to controlling a Linkbot-I, a Ch program can be developed to control the Linkbot-L. Program 3.5 contains the code typically used for controlling a Linkbot-L.<br/><span><IMG width="624" height="161" src="chlinkbot/Image_206.png"/></span></p><p class="s25">/* File: linkbotL.ch</p><p class="s25">Move  joints relative  to the current positions for Linkbot-L.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotL <span style=" color: #000;">robot;</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* move  joint 1 by 360 degrees  and joint 2 by 360 degrees  */</p><p class="s17">robot.move(360, 360, <span style=" color: #FF1CCE;">NaN</span>);</p><p>Program 3.5: A program to control a Linkbot-L.<br/>Like all Linkbot programs, a Linkbot-L program begins with the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_207.png"/></span></p><p class="s27">#include &lt;linkbot.h&gt;</p><p>to include the contents of the header file <span style=" color: #998342;">linkbot.h</span>.  This header file defines both classes <span style=" color: #FF1CCE;">CLinkbotI </span>and</p><p class="s11">CLinkbotL <span style=" color: #000;">for creating Linkbot-I and Linkbot-L objects, respectively. The line</span></p><p><span><IMG width="624" height="15" src="chlinkbot/Image_208.png"/></span></p><p class="s16">CLinkbotL <span style=" color: #000;">robot;</span></p><p>creates <span class="s23">robot </span>for controlling a Linkbot-L.<br/>Like all other Linkbot programs, the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_209.png"/></span></p><p class="s17">robot.connect();</p><p>connects the variable <span class="s23">robot </span>to a Linkbot-L that has been previously configured through the BaroboLink.<br/>The next line<br/>43<br/>3.6. <span><IMG width="18" height="18" src="chlinkbot/Image_210.gif"/></span> Control the Linkbot-L<br/>Chapter 3.  Getting Started With Programming Linkbots<br/><span><IMG width="624" height="15" src="chlinkbot/Image_211.png"/></span></p><p class="s17">robot.resetToZero();</p><p>uses the resetToZero() member function to move joints 1 and 2 of the Linkbot-L to the zero position.<br/>The general syntax of the <span style=" color: #FF1CCE;">CLinkbotL </span>member function move() to move joints 1 and 2 of a Linkbot-L<br/>relative to their current positions is as follows.</p><p class="s23">robot.move(angle1, angle2,  NaN);</p><p>It has three arguments for three joints, each representing a joint angle relative to its current position. Since joint 3 cannot be moved, the argument <span style=" color: #FF1CCE;">NaN </span>which stands for Not-a-Number is used. The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_212.png"/></span></p><p class="s17">robot.move(360, 360, <span style=" color: #FF1CCE;">NaN</span>);</p><p>moves both joints 1 and 2 by 360 degrees relative to their current positions.<br/>Most member functions for <span style=" color: #FF1CCE;">CLinkbotI </span>are available for <span style=" color: #FF1CCE;">CLinkbotL</span>. They are handled similarly for both Linkbot-I and Linkbot-L. The major difference is that the Linkbot-I uses joints 1 and 3 whereas the Linkbot-L uses joints 1 and 2. In general, all ideas and concepts for programming Linkbot-I are applicable to Linkbot-L. Therefore, in the remaining part of this manuscript, the presentation will focus on the Linkbot-I.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_213.jpg"/></span><br/>However, since the Linkbot-I can be treated as a two-wheel vehicle, member functions driveForward(), driveBackward(), turnLeft(), turnRight(), and driveDistance()  are available for the class <span style=" color: #FF1CCE;">CLinkbotI </span>only. We will learn the member function driveDistance()  in section 5.4.<br/>Do Exercises 1 and 2 on page 44.</p><p class="s3">3.6.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_214.png"/></span><br/>1. Include the header file <span style=" color: #998342;">linkbot.h  </span>and use the class <span style=" color: #FF1CCE;">CLinkbotL </span>to declare a variable <span class="s23">robot </span>by the following two statements</p><p class="s23">#include &lt;linkbot.h&gt; CLinkbotL robot;</p><p>for controlling a Linkbot-L.<br/>2. Call the <span style=" color: #FF1CCE;">CLinkbotL </span>member function</p><p class="s23">robot.move(angle1, angle2,  NaN);</p><p>to move joints 1 and 2 of a Linkbot-L relative to their current positions specified in its first and second arguments.</p><p class="s3">3.6.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_215.png"/></span></p><p class="s11">CLinkbotL<span style=" color: #000;">.</span></p><p class="s3">3.6.3         Exercises</p><p><span><IMG width="624" height="25" src="chlinkbot/Image_216.png"/></span><br/>1. Write a program <span class="s23">linkbotL2.ch </span>to move the two rotating joints of a Linkbot-L two full rotations of 720 degrees.<br/>2. Write a program <span class="s23">linkbotL3.ch </span>to rotate joint 2 by <span class="s5">−360 </span>degrees for a Linkbot-L.<br/>44<br/>Chapter 3.  Getting Started With Programming Linkbots<br/>3.7.   Control a Linkbot Wirelessly Without Connecting with a USB Cable<br/><span><IMG width="624" height="53" src="chlinkbot/Image_217.png"/></span></p><p class="s21">3.7    Control a Linkbot Wirelessly Without Connect-</p><p class="s21">ing with a USB Cable</p><p>The BaroboLink in a computer can control one or multiple Linkbots. One Linkbot needs to be connected to the computer through the USB cable.  For controlling multiple Linkbots, the Linkbot connected to the computer through the USB cable will act as a dongle for the BaroboLink to connect and control other Linkbots through the ZigBee wireless communication, as shown in Figure 3.10. The other Linkbots in the network can be located as far as 100 meters.<br/><span><IMG width="290" height="192" src="chlinkbot/Image_218.jpg"/></span><br/>Figure 3.10: The configuration for the BaroboLink to control multiple Linkbots, with one Linkbot connected to a c omputer through a USB cable.<br/>If you move the Linkbot with the serial number 7TQX acting as a dongle at the bottom in the list under the “Connect” tab as shown in Figure 3.11, the Linkbot with the serial number 9418 listed at the top, without being connected through the USB cable, can be controlled by a program wirelessly. Multiple Linkbots at the top can also be controlled by a program. Also, you do not even need to connect the Linkbot acting as a dongle in BaroboLink so long as it is connected physically through the USB cable, as shown in Figure 3.11.<br/>45<br/>Chapter 3.  Getting Started With Programming Linkbots<br/>3.7.   Control a Linkbot Wirelessly Without Connecting with a USB Cable<br/><span><IMG width="290" height="250" src="chlinkbot/Image_219.jpg"/></span><br/>Figure 3.11:   Controlling the Linkbot with the serial number 9418 wirelessly while the Linkbot with the serial number 7TQX acting as a dongle.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_220.jpg"/></span><br/>Do Exercise 1 on page 46.</p><p class="s3">3.7.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_221.png"/></span><br/>1. Control a Linkbot wirelessly without connecting to a USB cable.</p><p class="s3">3.7.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_222.png"/></span><br/>wireless, dongle.</p><p class="s3">3.7.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_223.png"/></span><br/>1. Use a Linkbot as a dongle connected through a USB cable to a computer. Control another Linkbot wirelessly using a program developed previously.<br/>46<br/><span><IMG width="627" height="8" src="chlinkbot/Image_224.png"/></span><br/><span><IMG width="624" height="3" src="chlinkbot/Image_225.png"/></span></p><p class="s1">CHAPTER 4</p><p><span><IMG width="624" height="3" src="chlinkbot/Image_226.png"/></span></p><p class="s6">Robot Simulation with RoboSim</p><p><a href="http://c-stem.ucdavis.edu/">RoboSim is a robot simulation environment, developed by the UC Davis C-STEM Center, for programming Barobo Mobots and Linkbots. Almost any program that can control hardware Barobo robots, except for pro- grams using a controller robot, can be used to run virtual robots in RoboSim without any modification. Also any program that can control virtual robots in RoboSim, except for the coordinate system programs in Ap- pendix B, can be run on hardware Barobo robots without any changes. RoboSim can be freely downloaded from the C-STEM web site at </a><a href="http://c-stem.ucdavis.edu/" class="s4">http://c-stem.ucdavis.edu</a>.</p><p class="s21">4.1    RoboSim GUI</p><p><span><IMG width="624" height="88" src="chlinkbot/Image_227.png"/></span><br/>RoboSim can be conveniently launched by double clicking its icon           on the desktop.  The RoboSim graphical user interface (GUI), shown in Figure 4.1, allows the user to change between hardware and virtual robots when a Ch robot program is executed. There is no save button within the GUI, all changes made are automatically saved.<br/>4.1.  RoboSim GUI<br/>Chapter 4.  Robot Simulation with RoboSim<br/><span><IMG width="580" height="416" src="chlinkbot/Image_228.jpg"/></span><br/>Figure 4.1: The RoboSim GUI.</p><p class="s3">4.1.1   Platform</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_229.png"/></span><br/>The Platform  entry, as shown in Figure 4.2, allows the user to decide whether a Ch program controls the hardware or virtual robots.  Each time a new Ch program is started, it will check the setup based on this entry. For a Ch robot program to control a virtual robot, check the box for Virtual  Robots.  If the box for Hardware Robots is checked, a Ch program will control the physical hardware robots.<br/><span><IMG width="287" height="46" src="chlinkbot/Image_230.jpg"/></span><br/>Figure 4.2: The entry for selecting a simulation or hardware platform.</p><p class="s3">4.1.2   Units</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_231.png"/></span><br/>Simulations within RoboSim can be run either in US Customary units consisting of inches, degrees, and seconds or Metric units with centimeters, degrees, and seconds. Changing units will effect the grid spacing drawn beneath the robots and the spacing between robots. Changing between these two options will change<br/>48<br/>4.1.  RoboSim GUI<br/>Chapter 4.  Robot Simulation with RoboSim<br/>the labels within the GUI to indicate the units being used.</p><p class="s3">4.1.3   Tracing</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_232.png"/></span><br/>Tracing where robots have been can be enabled by selecting the check box “Enable Robot Position Tracing”, as shown in Figure 4.1. When the tracing is enabled, green lines for robot trajectories will be drawn for each robot. Once a simulation is running, the tracing line can be enabled or disabled by pressing the ’t’ key.</p><p class="s3">4.1.4   Grid Configuration</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_233.png"/></span><br/>To be able to see how far robots have moved, a grid is enabled under the robots. There are six options to alter the layout of the grid lines under the Grid Configuration. The minimum and maximum extends of the grid for both the X and Y directions can be specified individually. Rectangular grids of any size can be created in any of the quadrants. Hashmarks are the red lines drawn within the configuration images. By default, the distance between two hashmarks is 12 inches in US Customary units and 50 centimeters in Metric units. Tics are the most frequent lines drawn in a light gray. By default, the distance between two tics is 1 inch in US Customary units and 5 centimeters in Metric units.<br/>Switching between US Customary and Metric units will change these default values to logical starting points for the metric system.  The ’Reset to Defaults’ button will allow the default values for both US Customary and Metric to be reinstated after they have been changed.  Depending upon which units are currently selected from Section 4.1.2, either the US Customary defaults, shown in Figure 4.3, or the Metric defaults, as shown in Figure 4.4, will be set.<br/><span><IMG width="386" height="141" src="chlinkbot/Image_234.jpg"/></span><br/>Figure 4.3: The default grid spacing in the US Customary units.<br/><span><IMG width="384" height="138" src="chlinkbot/Image_235.jpg"/></span><br/>Figure 4.4: The default grid spacing in the Metric units.<br/>49<br/>4.1.  RoboSim GUI<br/>Chapter 4.  Robot Simulation with RoboSim</p><p class="s3">4.1.5   Individual Robot Configuration</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_236.png"/></span><br/>Initial robot configurations can either be done through the Individual  Robot Configuration or Preconfig- ured Linkbot Configuration section. The Individual  Linkbot Configuration section, as shown in Figure<br/>4.5, has options to allow robots to be positioned within the RoboSim scene either with or without wheels but not attached to each other.<br/><span><IMG width="578" height="169" src="chlinkbot/Image_237.jpg"/></span><br/>Figure 4.5: Individual robot configuration dialog.<br/>The user can specify the x and y coordinates as well as the orientation angle of a virtual robot. Images for the Linkbot and Mobot showing the meaning of each of the options are displayed above the configuration box. They are screenshots of the virtual robots positioned at one foot in both the x and y coordinates with the orientation angle of 30 degrees from the x-axis.<br/>Initially, the individual robot list is empty, but it can be populated by the ’Add Robot’ button below the configuration images. Clicking this button each time will add a robot into the RoboSim, each offset from the previous one in the x-direction by 6 inches or 15 centimeters depending upon the units selected. The order within the robot list will be the order in which the robots will be read into the simulation program.<br/>Robot Type<br/>There are three options for robot type available. Linkbot-I, Linkbot-L, and Mobot. The options are presented in a drop down menu as shown in Figure 4.6.<br/><span><IMG width="577" height="109" src="chlinkbot/Image_238.jpg"/></span><br/>Figure 4.6: Picking a robot type.<br/>Robot Position<br/>Both x and y coordinates can be chosen independently for each robot.<br/>50<br/>4.1.  RoboSim GUI<br/>Chapter 4.  Robot Simulation with RoboSim<br/>Robot Angle<br/>The rotation angle from the x-axis can be used for changing the direction of the movement for the robot or the orientation of two robots respective to each other.<br/>Wheels<br/>Since so many times the robots are run with wheels and a caster connected, a drop down menu is provided to select different wheel sizes. The options listed are the radii of the wheels typically used with Linkbots. Each wheel is drawn with a series of dots along the one radius to easily show the rotation of the wheel. The correlation between wheel radius and number of dots is given in Table 4.1.<br/>Number of Dots    Wheel Radius<br/>2                 custom radius<br/>3                 1.625 inch / 4.13 centimeter<br/>4                 1.75 inch / 4.45 centimeter<br/>5                 2.00 inch / 5.08 centimeter<br/><span><IMG width="296" height="99" src="chlinkbot/Image_239.png"/></span><br/>Table 4.1: Wheel sizes and number of dots.<br/>Custom wheel sizes are available by using the ’Custom’ option from the drop down menu. This option creates an input box to the right to let the user enter a wheel radius.<br/>Remove<br/>A robot can be removed from the RoboSim by clicking the ’Remove’ button.</p><p class="s3">4.1.6   Preconfigured Linkbot  Configurations</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_240.png"/></span><br/>In addition to positioning robots independently within the RoboSim, some Preconfigured Linkbot  Con- figurations,  as shown in Figure 4.7, which represent commonly used Linkbot configurations are available to the user.  Selecting one of these options will display a picture of the configuration built with the hard- ware Linkbots, corresponding to a Ch robot program presented in Chapter 13. When one of these options is selected, the specific configuration for this setup is passed into Ch and robots specified in the individual robot configuration are ignored. To switch back to the individual configuration, just unselect the selected preconfigured robot configuration.<br/>51<br/>4.1.  RoboSim GUI<br/>Chapter 4.  Robot Simulation with RoboSim<br/><span><IMG width="577" height="170" src="chlinkbot/Image_241.jpg"/></span><br/>Figure 4.7: Preconfigured robot configurations with Linkbots.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_242.jpg"/></span><br/>Do Exercise 1 on page 52.</p><p class="s3">4.1.7   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_243.png"/></span><br/>1. Select simulation or hardware mode in a RoboSim GUI for controlling robots from a Ch program.<br/>2. Select US Customary units with inches, degrees, and seconds or Metric units with centimeters, de- grees, and seconds for RoboSim.<br/>3. Add robots to the RoboSim. The information for a robot includes robot type (Linkbot-I, Linkbot-L, or Mobot), the x and y coordinates as well as the orientation angle with respect to the x-axis for the robot, attached wheels of different sizes to the robot.<br/>4. Remove a robot from the RoboSim<br/>5. Use Preconfigured Linkbot Configurations to run a robotic system with multiple connected Linkbots.<br/>6. Set grid lines in the RoboSim scene with the US Customary units or Metric units.<br/>7. Enable or disable the tracing of robot trajectories.</p><p class="s3">4.1.8   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_244.png"/></span><br/>RoboSim, RoboSim GUI, simulation, units, US Customary units, Metric units. robot type, x and y coordi- nates, orientation, grids for x and y coordinate systems, tracing robot trajectory.</p><p class="s3">4.1.9   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_245.png"/></span><br/>1.    (a) Launch a RoboSim GUI.<br/>(b) Add a Linkbot-I to the RoboSim at the x and y coordinates (6, 0) inches with an orientation<br/>angle of 30 degrees with respect to the x-axis, attach wheels with the radius of 1.75 inches to joints 1 and 3.<br/>(c) Set the x and y coordinate system on the RoboSim scene. The total distance for x and y directions<br/>are 48 inches (4 feet) each.  The distance between each Hashmark is 6 inches.  The distance between each tics is 1 inch.<br/>(d) Track the robot trajectory when the robot moves.<br/>52<br/>4.2.  Run a Ch Program with RoboSim<br/>Chapter 4.  Robot Simulation with RoboSim</p><p class="s21">4.2    Run a Ch Program with RoboSim</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_246.png"/></span><br/>Once the simulation environment has been configured with the RoboSim GUI in Section 4.1, the user can run Ch programs in ChIDE to control the virtual robots.  The RoboSim GUI should remain open while simulating robots.  Once it is closed, the system will revert to hardware mode.  The RoboSim scene with virtual robots for each simulation are created upon running a Ch program.  For example, when the Ch program <span class="s23">driveforward3.ch</span>, listed in Program 4.1, is executed, a RoboSim scene shown in Figure 4.8 will be displayed. The message</p><p class="s23">Paused: Press  any key to start</p><p>is displayed in the RoboSim scene to reminder the user that the virtual robot will not move until the user presses any key on the keyboard. This gives the user an opportunity to examine the RoboSim scene before the motion begins.<br/><span><IMG width="624" height="161" src="chlinkbot/Image_247.png"/></span></p><p class="s25">/* File: driveforward3.ch</p><p class="s25">Drive forward for  Linkbot-I   as  a two-wheel vehicle */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* drive  forward by rolling two wheels  for  360 degrees */</p><p class="s17">robot.driveForward(360);</p><p>Program 4.1: Moving a Linkbot forward.<br/><span><IMG width="291" height="230" src="chlinkbot/Image_248.jpg"/></span><br/>Figure 4.8: A RoboSim scene with a virtual robot at its starting position.<br/>While a robot is moving in the RoboSim scene, the user can press any key to pause the motion of the robot. When the motion is paused, the message<br/>53<br/>4.2.  Run a Ch Program with RoboSim<br/>Chapter 4.  Robot Simulation with RoboSim</p><p class="s23">Paused: Press  any key to restart</p><p>will be displayed in the RoboSim scene. The user can press any key to restart the motion.<br/>When the user presses the ’t’ key, the robot trajectory is traced in a green line in the RoboSim scene as shown in Figure 4.9.<br/><span><IMG width="291" height="230" src="chlinkbot/Image_249.jpg"/></span><br/>Figure 4.9: A RoboSim scene with a virtual robot and its trajectory traced.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_250.jpg"/></span><br/>Do Exercise 1 on page 55.<br/>The default green color for both LED and trajectory of a robot can be changed by the member function<br/>setLEDColor()  in a program as shown in Program 4.2.<br/><span><IMG width="624" height="205" src="chlinkbot/Image_251.png"/></span></p><p class="s25">/* File: setcolor3.ch</p><p class="s25">Change  the color  of the LED and trajectory  of the robot to red */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* change the color  of the LED and trajectory  to red */</p><p class="s17">robot.setLEDColor(<span style=" color: #7F007F;">&quot;red&quot;</span>);</p><p class="s25">/* drive  forward by rolling two wheels  for  360 degrees */</p><p class="s17">robot.driveForward(360);</p><p>Program 4.2: Change the color of the LED and trajectory of a robot to red.<br/>When the program is finished, the message</p><p class="s23">Paused: Press  any key to end</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_252.jpg"/></span><br/>will be displayed in the RoboSim scene. Pressing any key, the RoboSim scene will disappear.<br/>Do Exercise 2 on page 55.<br/>54<br/>4.3.  Interact with a RoboSim Scene<br/>Chapter 4.  Robot Simulation with RoboSim</p><p class="s3">4.2.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_253.png"/></span><br/>1. Run a Ch program to control a virtual robot in RoboSim.<br/>2. Press the ’t’ key to trace the robot trajectory.<br/>3. Press any key to pause and restart the motion of a robot in the RoboSim scene.</p><p class="s3">4.2.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_254.png"/></span><br/>RoboSim scene, tracing robot trajectories.</p><p class="s3">4.2.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_255.png"/></span><br/>1.    (a) Write a Ch program <span class="s23">driveforward5.ch </span>to driving a Linkbot-I forward by rotating both joints 1 and 3 for 720 degrees.<br/>(b) Based on the setup on the RoboSim GUI described in Exercise 1 on page 52, run the program</p><p class="s23">driveforward5.ch <span class="p">to simulate the motion of the robot in RoboSim.</span></p><p>(c) When the robot is moving in the RoboSim scene, press a key on the keyboard to pause the<br/>motion of the robot. Then, press a key to restart the motion.<br/>(d) When the robot is moving in the RoboSim scene, press the ’t’ key to toggle the tracing of the<br/>robot trajectory. Press the ’n’ key to toggle the tgrid numbering.<br/>2. Modify the program <span class="s23">driveforward5.ch </span>in Exercise 1 as the program <span class="s23">setcolor4.ch </span>to change the color of the LED and trajectory to blue.</p><p class="s21">4.3    Interact with a RoboSim Scene</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_256.png"/></span><br/>The user can interact with a RoboSim scene through the keyboard and mouse.</p><p class="s3">4.3.1   Keyboard Input</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_257.png"/></span><br/>The RoboSim scene responds to keyboad input as outlined in Table 4.2.<br/>key            action<br/>1              set the camera to the default view<br/>2              set the camera to the overhead view n              Toggle grid line numbering<br/>r              Toggle robot visibility and enable tracing t              Toggle robot tracing<br/>any other key    Pause and restart the motion<br/><span><IMG width="352" height="135" src="chlinkbot/Image_258.png"/></span><br/>Table 4.2: Keyboard input for the RoboSim scene.<br/>As described in the previous sections, the ’t’ key will toggle the tracing of robot trajectories. In addition the ’t’ key, a few other keys can be used to change the view of the RoboSim scene.<br/>55<br/>4.3.  Interact with a RoboSim Scene<br/>Chapter 4.  Robot Simulation with RoboSim<br/>There are two views available to the user.  The default view, which can be toggled with the ’1’ key, is from behind the robots looking into the first quadrant.  This view can be seen in all RoboSim scene screenshots in this book, except for Figure 4.10 which shows the overhead view.  The ’2’ key moves the camera directly above the origin looking down on the scene creating a 2D viewpoint of the robots.<br/><span><IMG width="290" height="229" src="chlinkbot/Image_259.jpg"/></span><br/>Figure 4.10: A RoboSim scene with the overhead viewing angle.<br/>The ’n’ key allows the user to toggle the display of the grid numbering. X and Y numbering is by default enabled and given for every hashmark on the grid.<br/>The ’r’ key will toggle the display of virtual robots or robot trajectories. This feature is useful when the user would like to view a trajectory traced by a robot without the virtual root blocking the trajectory. When two virtual robots collide in a RoboSim scene, the program will stop working properly. However, without showing the virtual robots, the collision will not happen. This is useful for solving math problems such as two robots intercepting. Figure 4.11 shows a RoboSim scene with a traced robot trajectory only, without the robot displayed.<br/><span><IMG width="291" height="230" src="chlinkbot/Image_260.jpg"/></span><br/>Figure 4.11: A RoboSim scene with a traced robot trajectory only.<br/>56<br/>4.3.  Interact with a RoboSim Scene<br/>Chapter 4.  Robot Simulation with RoboSim<br/>As described in the previous section, the motion of robots in the RoboSim scene can be paused and restarted by pressing any other key on the keyboard.</p><p class="s3">4.3.2   Mouse Input</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_261.png"/></span><br/>Clicking on a robot in a RoboSim scene will enable a pop up which displays the robot number and the current position of the robot, as shown in Figure 4.12 with the position (0, 10.9817) inches for the x and y coordinates for robot 1.<br/>Clicking again, the displayed position for the robot will disappear.<br/><span><IMG width="291" height="230" src="chlinkbot/Image_262.jpg"/></span><br/>Figure 4.12: A RoboSim scene with a virtual robot and its position displayed.<br/>The user can execute a Ch robot program in debug mode in ChIDE, line by line, with the command <span class="s23">Next</span>, as described in section 3.4. At the end of each motion statement, the user can click the robot in the RoboSim scene to obtain the x and y coordinates of the robot. The ability to obtain the x and y coordinates of a robot during its motion along a trajectory can be very useful for learning many math concepts.  For example, the Ch program <span class="s23">driveforward4.ch</span>, listed in Program 4.3, drives forward a Linkbot-I twice by calling the member function driveForward() twice, the user can run the program in ChIDE in debug mode to find the distance traveled by each call.  When the first driveForward() is finished, the user can click on the robot to find the x and y coordinates. The y coordinate is the distance traveled by the robot.<br/>57<br/>4.3.  Interact with a RoboSim Scene<br/>Chapter 4.  Robot Simulation with RoboSim<br/><span><IMG width="624" height="205" src="chlinkbot/Image_263.png"/></span></p><p class="s25">/* File: driveforward4.ch</p><p class="s25">Drive forward twice for  Linkbot-I   as  a two-wheel vehicle */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* drive  forward by rolling two wheels  for  360 degrees */</p><p class="s17">robot.driveForward(360);</p><p class="s25">/* drive  forward by rolling two wheels  for  360 degrees again */</p><p class="s17">robot.driveForward(360);</p><p>Program 4.3: Driving a Linkbot forward by calling the member function driveForward() twice.<br/>The mouse can be used to move the camera around the scene.  Holding the left mouse button and dragging the mouse pans the camera as outlined in Table 4.3. Holding the right mouse button and dragging the mouse enables scaling of the view by zooming in and out. Holding both left and right mouse buttons and dragging changes the location of the camera within the scene.<br/>The ground plane is for reference only. The ground plane will disappear when viewing the robots from below so that the user can inspect the movement from all angles.<br/>button                                                            action<br/>Hold left mouse button and drag                  Rotate camera Hold right mouse button and drag                Zoom in and out Hold both left and right buttons, and drag    Pan around scene<br/>Click on a robot                                            Display the robot position<br/><span><IMG width="426" height="99" src="chlinkbot/Image_264.png"/></span><br/>Table 4.3: Mouse input for the RoboSim scene.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_265.jpg"/></span><br/>Do Exercise 2 on page 59.</p><p class="s3">4.3.3   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_266.png"/></span><br/>1. Press the ’r’ key to toggle the robot visibility and tracing the robot trajectory.<br/>2. Hold the left mouse button and drag the mouse to have different view points.<br/>3. Hold the right mouse button and drag the mouse to zoom in and out.<br/>4. Hold both left and right mouse buttons, and drag the mouse to scale the scene.<br/>5. Click on a robot to display the x and y coordinates of the robot.</p><p class="s3">4.3.4   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_267.png"/></span><br/>x and y coordinates for a robot.<br/>58<br/>4.3.  Interact with a RoboSim Scene<br/>Chapter 4.  Robot Simulation with RoboSim</p><p class="s3">4.3.5   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_268.png"/></span><br/>1.    (a) Run the Ch program <span class="s23">driveforward5.ch </span>developed in Exercise 1 on page 59 in RoboSim.<br/>When the robot is moving in the RoboSim scene, press the key ’r’ to toggle the visibility of the<br/>robot. When the robot is finished its motion, press the key ’r’ to toggle the visibility of the robot. (b) Hold the left mouse button and drag the mouse to have different view points.<br/>(c) Hold the right mouse button and drag the mouse to zoom in and out.<br/>(d) Hold both left and right mouse buttons, and drag the mouse to scale the scene. (e) Click on a robot to display the x and y coordinates of the robot.<br/>2. Write a Ch program <span class="s23">driveforward6.ch </span>to drive a Linkbot-I forward by rotating both joints 1 and 3 for 720 degrees using the member function driveForward(). Then, dirve the robot backward by rotating both joints 1 and 3 for 360 degrees using the member function driveBackward(). Run the program in ChIDE in debug mode by clicking the command <span class="s23">Next </span>on the ChIDE. Click on the robot to obtain the positions of the robot when the robot stops its driving forward and backward.<br/>59<br/><span><IMG width="627" height="8" src="chlinkbot/Image_269.png"/></span><br/><span><IMG width="624" height="3" src="chlinkbot/Image_270.png"/></span></p><p class="s1">CHAPTER 5</p><p><span><IMG width="624" height="3" src="chlinkbot/Image_271.png"/></span></p><p class="s6">Interacting with a Linkbot at Runtime through Variables and Input/Output Functions</p><p class="s21">5.1    Use Variables</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_272.png"/></span><br/>Variables are often used in solving problems with unknown values.  Variables are also a powerful tool available to programmers. Using variables to represent mathematical notation makes a program easier to modify and read.  They can be used to solve complicated problems.  They can also be used to obtain the information from the user at the runtime for interactive computing. Variables are also commonly used in robot programming for solving applied problems.<br/>However, a variable has to be declared and associated with a proper data type before it can be assigned a value.  In this chapter, declaration and use of variables involving commonly used data types for robot programming are described. We will also learn how to move a robot with the specified distance and radius for two wheels.<br/>Table 5.1: Commonly used data types and their usage.</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">Data Type</p></td><td><p class="s7">Usage</p></td><td><p class="s7">Examples</p></td></tr><tr><td><p class="s8">double</p><p class="s8">int</p></td><td><p class="s7">decimals</p><p class="s7">integers</p></td><td><p class="s30">123.4567</p><p class="s30">12</p></td></tr></table><p>Chapter 5.  Interacting with a Linkbot at Runtime through Variables and Input/Output Functions<br/>5.1.  Use Variables</p><p class="s3">5.1.1   Declaration  of Variables and Data Type <span style=" color: #F00;">double </span>for Decimals</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_273.png"/></span><br/>An <span class="s5">identifier </span>is a sequence of lowercase and uppercase letters, digits, and underscores. A variable has to be declared before it can be used inside a program. A variable is declared by specifying its data type and identifier in the form</p><p class="s23">type  name;</p><p>where <span class="s23">type </span>is one of the valid data types, such as <span style=" color: #F00;">double </span>and <span style=" color: #F00;">int</span>, and <span class="s23">name </span>is a valid identifier. For example, the statements</p><p class="s23">double t;                 // the traveling  time in seconds double distance;            // distance traveled</p><p>declare variables <span class="s23">t </span>and <span class="s23">distance </span>of <span style=" color: #F00;">double </span>type. In this case, <span style=" color: #F00;">double </span>is a keyword as a declarator for a data type and <span class="s23">t </span>and <span class="s23">distance </span>are identifiers as variable names.  The symbol <span class="s23">// </span>comments out any subsequent text located on the same line.<br/>The difference between lowercase and uppercase letters is important. In other words, variables are case sensitive. The initial character of an identifier must not be a digit. A reserved word, such as <span style=" color: #F00;">double </span>and <span style=" color: #F00;">for</span>, cannot be used as an identifier. Using meaningful and consistent identifiers for variable names makes a program easier to understand, develop, and maintain. A variable name typically uses lowercase letters. Table 5.2 shows some invalid identifiers.<br/>Table 5.2: Examples of invalid identifiers.<br/><span><IMG width="286" height="19" src="chlinkbot/Image_274.png"/></span><br/>Invalid identifier        Reason</p><p class="s23">int                <span class="p">reserved word </span>double                <span class="p">reserved word </span>for                 <span class="p">reserved word</span></p><p><span><IMG width="286" height="4" src="chlinkbot/Image_275.png"/></span></p><p class="s23">2times               <span class="p">starts with a digit </span>integer#           <span class="p">character # not allowed </span>girl&amp;boy           <span class="p">character &amp; not allowed </span>class1+class2  <span class="p">character + not allowed</span></p><p>Multiple variables of the same type can be declared in a single statement by a list of identifiers, each separated by a comma, as shown below for two variables <span class="s23">t </span>and <span class="s23">distance </span>of <span style=" color: #F00;">double </span>type.</p><p class="s23">double t, distance;  // declare variables t and  distance</p><p>The names <span class="s23">x, y, z, length, width, radius</span>, <span class="s23">speed</span>, and <span class="s23">distance </span>are used in common practice for variables of <span style=" color: #F00;">double </span>type to hold decimal numbers.</p><p class="s3">5.1.2   Initialization</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_276.png"/></span><br/>Assigning a value to a declared variable for the first time is called <span class="s20">initializing the variable</span>. You can initialize a variable in the same statement in which it is declared or you can initialize it in a separate statement. For example:<br/>61<br/>Chapter 5.  Interacting with a Linkbot at Runtime through Variables and Input/Output Functions<br/>5.1.  Use Variables<br/>and</p><p class="s23">double t =  5.5;    // declare t double type  and initialize it with 5.5</p><p class="s23">double t;           // declare t double type t =   5.5;            // initialize t with 5.5</p><p>accomplish the same goal of declaring a variable <span class="s23">t </span>of double type initializing it to 5.5.</p><p class="s3">5.1.3   Data Type <span style=" color: #F00;">int </span>for Integers</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_277.png"/></span><br/>Variables of <span style=" color: #F00;">double </span>type can store decimals. Integers can be stored in a variable of <span style=" color: #F00;">int </span>type. For example;</p><p class="s23">int i =  2; // declare variable i of int type  and initialize it with  2 int n;       // declare variable n  of int  type</p><p class="s23">n  =  4+i;   // assign  n with 4+i</p><p>The names <span class="s23">i, j, k, m, n,  num</span>, and <span class="s23">count </span>are used in common practice for variables of <span style=" color: #F00;">int </span>type.</p><p class="s32">Application: Calculating the Distance  of a Robot Traveled</p><p>Problem Statement:<br/>A robot travels at the constant speed of 2.5 inches per second. The distance traveled by this robot can be expressed as follows:</p><p class="s5">distance = 2.5t</p><p>where <span class="s5">distance </span>is measured in inches from the starting point and <span class="s5">t </span>is time in seconds. Therefore, if you want to know where the robot is at any time, you will take the number of seconds and multiply that by 2.5. Let’s write a program to calculate the distance when the traveling time <span class="s5">t </span>for the robot is 5.5 seconds.<br/>We will examine the source code for this program step-by-step. We will need some variables in the program to represent variables in the equation <span class="s5">distance = 2.5t</span>. Since the values for distance and time can be decimals we will declare them both as <span style=" color: #F00;">double </span>types.</p><p class="s33">double <span style=" color: #000;">t;             </span><span style=" color: #009800;">// the traveling  time in seconds </span>double <span style=" color: #000;">distance;       </span><span style=" color: #009800;">// distance traveled</span></p><p>We also know that we are looking at the problem when 5.5 seconds have passed, or <span class="s5">t = 5.5</span>, so we can initialize the variable <span class="s5">t </span>in the program.</p><p class="s17">t =  5.5;                <span style=" color: #009800;">// 5.5  seconds for traveling  time</span></p><p>To make our program actually do something, we need to tell it how to calculate the distance</p><p class="s17">distance =  2.5 * t; <span style=" color: #009800;">// calculate  the distance traveled</span></p><p>Note that the operators ’+’ and ’-’ in a program can be used for addition and subtraction operations in the same manner as in math. However, the program does not recognize proximity as multiplication. The multiplication operator ’*’ is needed for a multiplication operation. The division operator ’/’ is used for a division operation.<br/><span><IMG width="624" height="559" src="chlinkbot/Image_278.png"/></span><br/>62<br/>Chapter 5.  Interacting with a Linkbot at Runtime through Variables and Input/Output Functions<br/>5.1.  Use Variables<br/>Finally, we want to show the answer to the user by calling the function <span style=" color: #FF1CCE;">printf</span>()  similar to how we used it in <span class="s23">hello.ch </span>in Program 3.1. There are some additional features needed for this <span style=" color: #FF1CCE;">printf</span>() function that will be explained in section 5.2. For now, accept that <span class="s23">&quot;%lf&quot; </span>is replaced by the value of the variable <span class="s23">distance</span>.</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   distance traveled  by the robot is %lf inches.\n&quot;</span>,   distance);</p><p>Thus, the final source code will look like Program 5.1. When Program 5.1 is executed, the following output will be displayed in the input/output pane.</p><p class="s19">          The distance traveled by the robot is 13.750000 inches.                                                                       </p><p>The computation result from Program 5.1 will be verified experimentally using a robot program presented in Program 9.9 on page 137.</p><p class="s25">/* File: distance.ch</p><p class="s25">Calculate  the distance of a robot traveled at 2.5 inches pers second.   */</p><p class="s33">double <span style=" color: #000;">t;             </span><span style=" color: #009800;">// the traveling  time in seconds</span></p><p class="s33">double <span style=" color: #000;">distance;       </span><span style=" color: #009800;">// distance traveled</span></p><p class="s17">t =  5.5;                <span style=" color: #009800;">// 5.5  seconds for traveling  time</span></p><p class="s17">distance =  2.5 * t; <span style=" color: #009800;">// calculate  the distance traveled</span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   distance traveled  by the robot is %lf inches.\n&quot;</span>,   distance);</p><p>Program 5.1: Calculating and printing the distance of a robot traveled using <span style=" color: #FF1CCE;">printf</span>().<br/>In Program 5.1, for simplicity and consistency with the mathematical notations, the variables <span class="s23">t </span>and <span class="s23">distance </span>represent the time and distance, respectively. Comments for these variables are added in the declaration of these variables to make their intended use more clear. Using variables to represent mathematical notations make a program easier to modify and more readable. It is especially helpful for solving problems with complicated logic.<br/><span><IMG width="624" height="524" src="chlinkbot/Image_279.png"/></span><br/><span><IMG width="23" height="16" src="chlinkbot/Image_280.jpg"/></span><br/>Do Exercise 1 on page 65.</p><p class="s32">Application: Using Variables for Joint Angles</p><p>Problem Statement:<br/>Write a program <span class="s23">angles.ch </span>to rotate joint 1 by 360 degrees and joint 3 by <span class="s5">−360 </span>de- grees relative their current positions. Use variables to hold the joint angles.<br/>Based on Program 3.2, we can develop the program <span class="s23">angles.ch </span>in Program 5.2. As pointed out in the previous section, a robot program typically begins with the following statements.</p><p class="s27">#include &lt;linkbot.h&gt; <span style=" color: #FF1CCE;">CLinkbotI </span><span style=" color: #000;">robot;</span></p><p>to declare the variable <span class="s23">robot</span>.<br/>Since joint angles are decimal values, in this program, variables <span class="s23">angle1 </span>and <span class="s23">angle3 </span>of <span style=" color: #F00;">double</span><br/>type are declared and assigned with the joint angles by the statements below.<br/><span><IMG width="624" height="288" src="chlinkbot/Image_281.png"/></span><br/>63<br/>Chapter 5.  Interacting with a Linkbot at Runtime through Variables and Input/Output Functions<br/>5.1.  Use Variables</p><p class="s33">double <span style=" color: #000;">angle1  =   360;  </span><span style=" color: #009800;">// declare variable ’angle1’   for  joint1  with 360 degrees </span>double  <span style=" color: #000;">angle3  = -360; </span><span style=" color: #009800;">// declare variable ’angle3’   for joint3 with -360 degrees</span></p><p>These variables are used as arguments of the function move().<br/>The statements</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p>connect the variable <span class="s23">robot </span>to a Linkbot, and set the Linkbot to the zero position, where all joint angles are at zero degrees.<br/>The statement</p><p class="s17">robot.move(angle1, <span style=" color: #FF1CCE;">NaN</span>,   angle3);</p><p>moves joints 1 and 3 by the angles specified in the arguments <span class="s23">angle1 </span>and <span class="s23">angle3</span>, respectively. Program 5.2 behaves the same as Program 3.2.</p><p class="s25">/* File: angles.ch</p><p class="s25">Use variables to hold joint  angles */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">angle1  = 360;      </span><span style=" color: #009800;">// declare variable ’angle1’   for  joint1  with 360 degrees</span></p><p class="s33">double  <span style=" color: #000;">angle3  = -360;  </span><span style=" color: #009800;">// declare variable ’angle3’   for  joint3  with -360 degrees</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* rotate joint1 by angle1  and joint3 by angle3  */</p><p class="s17">robot.move(angle1, <span style=" color: #FF1CCE;">NaN</span>,   angle3);</p><p>Program 5.2: Using variables for joint angles.<br/><span><IMG width="624" height="510" src="chlinkbot/Image_282.png"/></span><br/><span><IMG width="23" height="16" src="chlinkbot/Image_283.jpg"/></span><br/>Do Exercises 2 and 3 on page 65.</p><p class="s3">5.1.4   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_284.png"/></span><br/>1. Reserved words. The words <span style=" color: #F00;">int </span>and <span style=" color: #F00;">double </span>are reserved words in Ch.<br/>2. The data type <span style=" color: #F00;">double </span>is for decimal numbers. Variable names <span class="s23">x</span>, <span class="s23">y</span>, and <span class="s23">z </span>are usually used for <span style=" color: #F00;">double</span><br/>type.<br/>3. The data type <span style=" color: #F00;">int </span>is for integers. Variable names <span class="s23">i, j, k, n, </span>and <span class="s23">m </span>are usually used for <span style=" color: #F00;">int </span>type.<br/>4. Learn how to use variables and variable names (identifiers).<br/>5. Before a variable is used, it has to be declared with the data type <span style=" color: #F00;">double </span>or <span style=" color: #F00;">int</span>.<br/>6. Choose descriptive names for variables.<br/>7. Variable names are case sensitive. <span class="s23">x </span>and <span class="s23">X </span>are two different variable names.<br/>8. Variables can be used in algebraic expressions.<br/>9. Add a comment in a program starting with <span class="s23">// </span>till the end of the line.<br/>10. Use the operators ’+’, ’-’, ’*’, and ’/’ for the arithmetic operations of addition, subtraction, multipli- cation, and division, respectively.<br/>64<br/>Chapter 5.  Interacting with a Linkbot at Runtime through Variables and Input/Output Functions<br/>5.2.  The Output Function <span style=" color: #FF1CCE;">printf</span>()<br/><span><IMG width="435" height="91" src="chlinkbot/Image_285.jpg"/></span><br/>Figure 5.1: A format for using the function <span style=" color: #FF1CCE;">printf</span>() and an example.</p><p class="s3">5.1.5   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_286.png"/></span><br/>algebraic equations, case sensitive, declare variables, <span style=" color: #F00;">double</span>, evaluation, identifier, initialization, initialize variables, <span style=" color: #F00;">int</span>, name, reserved words, variable</p><p class="s3">5.1.6   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_287.png"/></span><br/>1. A joint of a robot rotates at the constant speed of 90 degrees per second.  The joint angle can be expressed as follows:</p><p class="s5">angle = 90t</p><p>where <span class="s5">angle </span>is measured in degrees from the starting point and <span class="s5">t </span>is time in seconds. Write a program</p><p class="s23">jointangle.ch <span class="p">to calculate the joint angle of the robot 4.5 seconds after the robot starts its motion.</span></p><p>2. Write a program <span class="s23">jointangles.ch </span>to control a Linkbot-I. The program shall use variables <span class="s23">angle1 </span>and <span class="s23">angle3 </span>to hold the joint angles 360 and <span class="s5">−360 </span>degrees for joints 1 and 3,  respectively.  The program calls the function move() with these two variables as arguments to move the joints by the specified angles relative to their current positions.<br/>3. Based on the program <span class="s23">driveforward.ch</span>, presented in Program 3.3 on page 38, write a program <span class="s23">driveforward3.ch </span>to control a Linkbot. The program shall use a variable <span class="s23">angle </span>to hold a joint angle of 360 degrees. The program calls the function driveForward() with the variable <span class="s23">angle </span>to move the robot forward.</p><p class="s21">5.2    The Output Function  <span style=" color: #FF1CCE;">printf</span>()</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_288.png"/></span><br/>The <span class="s20">input/output</span>, or <span class="s20">I/O</span>, refers to the communication between a computer program and input/output de- vices.  The inputs are the data received by the program.  The outputs are the data produced by the pro- gram. In the previous section, we used the output function <span style=" color: #FF1CCE;">printf</span>()  to display the output from the program <span class="s23">hello.ch</span>,  as shown in Figure 3.2, and the program <span class="s23">distance.ch </span>in Program 5.1.  In this section, we will learn more about the output function <span style=" color: #FF1CCE;">printf</span>().  We will learn the input function <span style=" color: #FF1CCE;">scanf</span>() in the next section.<br/>The function <span style=" color: #FF1CCE;">printf</span>()  can be used to print text and data to the input/output pane. A general form of the function <span style=" color: #FF1CCE;">printf</span>()  and a sample application are shown in Figure 5.1. The <span class="s23">format </span>in the first argument is a string. This format string can contain an object called a conversion specifier, such as <span class="s23">&quot;%lf&quot; </span>and <span class="s23">&quot;%d&quot;</span>. A <span class="s20">conversion specifier </span>tells the program to replace that object with the value of the expression of specific type that follows the string. The expression can be a constant or variable. For instance, in Program 5.1 the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_289.png"/></span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   distance traveled  by the robot is %lf inches.\n&quot;</span>,   distance);</p><p>65<br/>Chapter 5.  Interacting with a Linkbot at Runtime through Variables and Input/Output Functions<br/>5.2.  The Output Function <span style=" color: #FF1CCE;">printf</span>()<br/>contains the conversion specifier <span class="s23">&quot;%lf&quot; </span>which is replaced with the value of variable <span class="s23">distance </span>when the program is run. The printed output thus becomes:</p><p class="s19">          The distance traveled by the robot is 13.750000 inches.                                                                                      </p><p>Table 5.3 lists the conversion specifiers we will use along with the data type they represent. The con- version specifier <span class="s23">&quot;%lf&quot; </span>is used to print a decimal number or the value of a variable of <span style=" color: #F00;">double </span>type. The conversion specifier <span class="s23">&quot;%d&quot; </span>is used to print an integer number or the value of a variable of <span style=" color: #F00;">int </span>type.<br/>Table 5.3: Conversion specifiers for the functions <span style=" color: #FF1CCE;">printf</span>() and <span style=" color: #FF1CCE;">scanf</span>().</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">Data Type</p></td><td><p class="s7">Format</p></td></tr><tr><td><p class="s8">double</p><p class="s8">int</p></td><td><p class="s30">&quot;%lf&quot; &quot;%d&quot;</p></td></tr></table><p>The conversion specifier <span class="s23">&quot;%lf&quot; </span>prints out a decimal with six digits after the decimal point. Using the wrong conversion specifier will give an incorrect result. For example, using <span class="s23">&quot;%d&quot; </span>for the decimal number<br/>12.345 or variables of <span style=" color: #F00;">double </span>type, and <span class="s23">&quot;%lf&quot; </span>for the integer 10 or variables of <span style=" color: #F00;">int </span>type will give incorrect results. For example, the code below should use the conversion specifier <span class="s23">&quot;%lf&quot; </span>instead of <span class="s23">&quot;%d&quot;</span>.</p><p class="s23">double  speed  = 10.5;</p><p class="s23">printf(&quot;%d&quot;, 10.5);              // incorrect.</p><p class="s23">printf(&quot;%d&quot;, speed);           // incorrect.</p><p class="s3">5.2.1   Precision of Decimal Numbers</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_290.png"/></span><br/>By default, the conversion specifier <span class="s23">&quot;%lf&quot; </span>prints out a decimal number with six digits after the decimal point. When a decimal number is used to represent currency, we want to have two digits after the decimal point for cents. We can accomplish this by specifying the precision of the output. The <span class="s20">precision </span>of a decimal number specifies the number of digits after the decimal point. The precision typically takes the form of a period (.) followed by an integer. For example, the conversion specifier <span class="s23">&quot;%.2lf&quot; </span>specifies the precision with two digits after the decimal point.  The number after the specified amount is rounded to the nearest value.  For example, with the conversion specifier <span class="s23">&quot;%.2lf&quot;</span>,  the decimal number 12.1234 is printed as<br/><span><IMG width="624" height="200" src="chlinkbot/Image_291.png"/></span><br/>12.12 with the precision value of 2, whereas 12.5678 is printed as 12.57.</p><p class="s32">Application: Calculating the Cost for Buying the Ice Cream</p><p>66<br/>Chapter 5.  Interacting with a Linkbot at Runtime through Variables and Input/Output Functions<br/>5.2.  The Output Function <span style=" color: #FF1CCE;">printf</span>()<br/>Problem Statement:<br/>The sale price of ice cream is $0.47 per ounce.  Write a program <span class="s23">icecream.ch </span>to calculate the cost of buying 5.5 ounces of ice cream.<br/>Program 5.3 can calculate the cost for buying ice cream. The math formula to calculate the cost of buying the ice cream at $0.47 per ounce is</p><p class="s5">cost = 0.47 ∗ weight</p><p class="s25">/* File: icecream.ch</p><p class="s25">Calculate  the cost for  5.5  ounces of the ice  cream.</p><p class="s25">The ice  cream is sold  by weight.   $0.47 per ounce.   */</p><p class="s25">/* declare variables weight and cost  */</p><p class="s33">double <span style=" color: #000;">weight,  cost;</span></p><p class="s25">/* initialize weight in lb */</p><p class="s17">weight  = 5.5;</p><p class="s25">/* calculate the cost*/</p><p class="s17">cost =  0.47 * weight;</p><p class="s25">/* display the cost as output */</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   ice  cream costs  $%.2lf   \n&quot;</span>,   cost);</p><p>Program 5.3: Calculating the cost for purchasing ice cream.<br/>Program 5.3 declares two variables <span class="s23">weight </span>and <span class="s23">cost</span>, assigns the weight, and calculates the cost by the following statements.</p><p class="s17"><span style=" color: #F00;">double </span>weight,  cost;  <span style=" color: #009800;">// weight and cost  of the yogurt are declared </span>weight  = 5.5;           <span style=" color: #009800;">// weight is assigned the value 5.5</span></p><p class="s17">cost =  0.47 * weight; <span style=" color: #009800;">//  cost is calculated</span></p><p>The cost is displayed using the following statement with the function <span style=" color: #FF1CCE;">printf</span>().</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   ice  cream costs  $%.2lf   \n&quot;</span>,   cost);</p><p>The conversion specifier <span class="s23">&quot;%.2lf&quot; </span>is used to print the cost to the nearest cent, two digits after the dec- imal point. When Program 5.3 is executed, the following output will be displayed in the input/output pane.</p><p class="s19">          The ice cream costs $2.58                                                                                                                                                                     </p><p><span><IMG width="624" height="699" src="chlinkbot/Image_292.png"/></span><br/><span><IMG width="23" height="16" src="chlinkbot/Image_293.jpg"/></span><br/>Do Exercises 1 and 2 on page 68.</p><p class="s3">5.2.2   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_294.png"/></span><br/>1. Use the output function <span style=" color: #FF1CCE;">printf</span>()  with the conversion specifier <span class="s23">&quot;%lf&quot; </span>for decimal numbers with six digits after the decimal point and <span class="s23">&quot;%d&quot; </span>for integers. For example,</p><p class="s23">printf(&quot;distance =  %lf\n&quot;, f);</p><p>67<br/>Chapter 5.  Interacting with a Linkbot at Runtime through Variables and Input/Output Functions<br/>5.3.  Input into Programs Using Function <span style=" color: #FF1CCE;">scanf</span>()</p><p class="s23">printf(&quot;n =  %d\n&quot;, n);</p><p>2. Use the precision of the output function <span style=" color: #FF1CCE;">printf</span>()  for decimal numbers.  The conversion  specifier <span class="s23">&quot;%.#lf&quot; </span>is used for precision of decimal numbers where <span class="s23">&quot;#&quot; </span>is replaced by a whole number for printing a decimal number with <span class="s23">&quot;#&quot; </span>number of digits after the decimal point.<br/>3. Write programs with the output function <span style=" color: #FF1CCE;">printf</span>() to solve applied problems.</p><p class="s3">5.2.3   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_295.png"/></span><br/>character string, conversion specifier, conversion specifier <span class="s23">&quot;%lf&quot;</span>, conversion specifier <span class="s23">&quot;%d&quot;</span>, copy pro- gram, format string, I/O, input, output, precision, <span style=" color: #FF1CCE;">printf</span>()</p><p class="s3">5.2.4   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_296.png"/></span><br/>1. What’s wrong with the following code and how do you correct it?</p><p class="s23">int n  =  10;</p><p class="s23">printf(&quot;n is %lf\n&quot;, n);</p><p>2. The sale price of frozen yogurt is $0.39 per ounce.  Write a program <span class="s23">yogurt.ch </span>to calculate the cost of buying 4.5 ounces of frozen yogurt.</p><p class="s21">5.3    Input  into Programs Using Function  <span style=" color: #FF1CCE;">scanf</span>()</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_297.png"/></span><br/>In the previous section, we learned how to produce the output from a program using the function <span style=" color: #FF1CCE;">printf</span>(). In this section, we will learn how to write a program to accept the input values from the user. Therefore, the same program can be used to solve the same problems with different data. The function <span style=" color: #FF1CCE;">scanf</span>() is used to input data to a program from the standard input, which is usually the keyboard. The input function <span style=" color: #FF1CCE;">scanf</span>() can set a variable with the value from the user input. The conversion specifiers listed in Table 5.3 can also be used for the function <span style=" color: #FF1CCE;">scanf</span>() in the form of</p><p class="s23">scanf(&quot;%lf&quot;,  &amp;x);</p><p>for a variable <span class="s23">x </span>of <span style=" color: #F00;">double </span>type and</p><p class="s23">scanf(&quot;%d&quot;, &amp;n);</p><p><span><IMG width="174" height="21" src="chlinkbot/Image_298.png"/></span><br/><span><IMG width="360" height="21" src="chlinkbot/Image_299.png"/></span><br/>for a variable <span class="s23">n </span>of <span style=" color: #F00;">int </span>type, The address operator ‘<span class="s23">&amp;</span>’, preceding a variable name, obtains the address of the variable so that the value from the user input can be stored in the variable. For the function scanf(), you must use &amp; before the variable name or you will get an error.</p><p class="s32">Application: An Ice Cream Shop</p><p>Problem Statement:<br/>Write a program <span class="s23">icecream2.ch </span>for an Ice Cream Shop to process the sale of ice cream. The sale price for ice cream is $0.47 per ounce.<br/><span><IMG width="624" height="136" src="chlinkbot/Image_300.png"/></span><br/>68<br/>Chapter 5.  Interacting with a Linkbot at Runtime through Variables and Input/Output Functions<br/><span><IMG width="624" height="587" src="chlinkbot/Image_301.png"/></span><br/>5.3.  Input into Programs Using Function <span style=" color: #FF1CCE;">scanf</span>()</p><p class="s25">/* File: icecream2.ch</p><p class="s25">Calculate  the cost for  the ice  cream */</p><p class="s25">/* declare variables weight and cost  */</p><p class="s33">double <span style=" color: #000;">weight,  cost;</span></p><p class="s25">/* get the user input for  the value of the variable  weight */</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Welcome   to  the Amazing Ice Cream  Shop\n&quot;</span>);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;We   sell ice cream by weight,   $0.47 per ounce.\n&quot;</span>);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Enter the weight in  ounces.\n&quot;</span>);</p><p class="s17"><span style=" color: #FF1CCE;">scanf</span>(<span style=" color: #7F007F;">&quot;%lf&quot;</span>,   &amp;weight);</p><p class="s25">/* calculate the cost */</p><p class="s17">cost =  0.47 * weight;</p><p class="s25">/* display the cost as output */</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   ice  cream costs  $%.2lf   \n&quot;</span>,   cost);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Thank   you.\n&quot;</span>);</p><p>Program 5.4: Using the function <span style=" color: #FF1CCE;">scanf</span>() to input the weight of ice cream.<br/>Program 5.4 can be used to process the purchase of ice cream. Like the program <span class="s23">icecream.ch </span>in Program 5.3, it declares two variables <span class="s23">weight </span>and <span class="s23">cost</span>.  When the program is executed, the user enters the weight of the ice cream in ounces to be purchased to the variable <span class="s23">weight </span>through the function <span style=" color: #FF1CCE;">scanf</span>().  After the program obtains the weight input from the user, the cost is calculated by multiplying the weight with 0.47. The conversion specifier <span class="s23">&quot;%.2lf&quot; </span>is used to print the cost to the nearest cent with two digits after the decimal point. An interactive execution of Program 5.4 through the input/output pane is displayed below:</p><p class="s17">Welcome to  the  Amazing Ice Cream Shop</p><p class="s17">We  sell ice cream by weight,  $0.47  per ounce.</p><p class="s17">Enter the weight in  ounces.</p><p class="s17">5</p><p class="s17">The ice  cream costs  $2.35</p><p class="s17">Thank you.</p><p>In this execution, the value <span class="s23">5 </span>for the weight in ounces is entered after the prompt.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_302.jpg"/></span><br/>If a program is used interactively, it is important that a message be displayed before the function <span style=" color: #FF1CCE;">scanf</span>() is called so that the user of the program is asked to input data accordingly, as shown by the statement <span class="s23">&quot;Enter ...&quot;</span><br/><span><IMG width="624" height="164" src="chlinkbot/Image_303.png"/></span><br/>Do Exercise 1 on page 71.</p><p class="s32">Application: Controlling a Linkbot with the User Input Joint Angles</p><p>69<br/>Chapter 5.  Interacting with a Linkbot at Runtime through Variables and Input/Output Functions<br/>5.3.  Input into Programs Using Function <span style=" color: #FF1CCE;">scanf</span>()<br/>Problem Statement:<br/>Write a program <span class="s23">angles p.ch </span>to control a Linkbot-I with joint angles for joints 1 and<br/>3 input by the user at runtime.</p><p class="s25">/* File: angles_p.ch</p><p class="s25">User inputs the values for joint  angles for joints  1  and 3  */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">angle1;     </span><span style=" color: #009800;">// declare variable ’angle1’   to value for joint  1</span></p><p class="s33">double <span style=" color: #000;">angle3;     </span><span style=" color: #009800;">// declare variable ’angle3’   to value for joint  3</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s17"><span style=" color: #009800;">/* User input  angle1 and angle3 */ </span><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Enter  the angle to rotate joint1\n&quot;</span>); <span style=" color: #FF1CCE;">scanf</span>(<span style=" color: #7F007F;">&quot;%lf&quot;</span>,   &amp;angle1);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Enter  the angle to rotate joint3\n&quot;</span>);</p><p class="s17"><span style=" color: #FF1CCE;">scanf</span>(<span style=" color: #7F007F;">&quot;%lf&quot;</span>,   &amp;angle3);</p><p class="s25">/* rotate joint1 by angle1  and joint3 by angle3  */</p><p class="s17">robot.move(angle1, <span style=" color: #FF1CCE;">NaN</span>,   angle3);</p><p>Program 5.5: Using the function <span style=" color: #FF1CCE;">scanf</span>() to input joint angles.<br/>Based on Program 5.2, we can develop the program <span class="s23">angles p.ch </span>in Program 5.5.  Unlike Program 5.2, joint angles <span class="s23">angle1 </span>and <span class="s23">angle3 </span>for joints 1 and 3, respectively, are obtained from the user at the runtime through the input function <span style=" color: #FF1CCE;">scanf</span>(). An interactive execution of Program 5.5 is shown below.</p><p class="s17">Enter the angle to rotate joint1</p><p class="s17">180</p><p class="s17">Enter the angle to rotate joint3</p><p class="s17">-360</p><p>In this case, joint 1 rotates 180 degrees whereas joint 3 rotates <span class="s5">−360 </span>degrees. Since both joints rotate at the same default speed of 45 degrees per second, joint 1 will stop moving first. We will learn how to set the joint speed in Chapter 7.<br/><span><IMG width="624" height="645" src="chlinkbot/Image_304.png"/></span><br/><span><IMG width="23" height="16" src="chlinkbot/Image_305.jpg"/></span><br/>Do Exercises 2 and 3 on page 71.</p><p class="s3">5.3.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_306.png"/></span><br/>1. Use the input function <span style=" color: #FF1CCE;">scanf</span>() with the conversion specifier <span class="s23">&quot;%lf&quot; </span>for variables of <span style=" color: #F00;">double </span>type and<br/><span class="s23">&quot;%d&quot; </span>for variables of <span style=" color: #F00;">int </span>type. The symbol ‘<span class="s23">&amp;</span>’ must precede a variable name. For example,</p><p class="s23">scanf(&quot;%lf&quot;,  &amp;weight);</p><p>2. Write programs with the input/output functions to solve applied problems.<br/>70<br/>Chapter 5.  Interacting with a Linkbot at Runtime through Variables and Input/Output Functions<br/>5.4.  Move a Distance for a Two-Wheel Robot</p><p class="s3">5.3.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_307.png"/></span><br/>address operator &amp;, buffer, copy program, <span style=" color: #FF1CCE;">scanf</span>()</p><p class="s3">5.3.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_308.png"/></span><br/>1. Write a program <span class="s23">yogurt2.ch </span>for a Yogurt Shop to process the sale of frozen yogurt. The sale price for frozen yogurt is $0.39 per ounce.<br/><span><IMG width="5" height="1" src="chlinkbot/Image_309.png"/></span><br/>2. Write a program <span class="s23">angles p2.ch </span>to control a Linkbot-I. The program shall use variables <span class="s23">angle1 </span>and <span class="s23">angle3 </span>to get the joint angles from the user at runtime through the function <span style=" color: #FF1CCE;">scanf</span>().  Then use the member function move() with these two variables as arguments to move the joints by the user specified angles. Test the program with the joint angles of 360 and <span class="s5">−360 </span>degrees for joints 1 and 3, respectively.<br/><span><IMG width="5" height="1" src="chlinkbot/Image_310.png"/></span><br/>3. Modify the program <span class="s23">driveforward3.ch </span>developed in Exercise 3 on page 3 as a new program <span class="s23">driveforward4 p.ch </span>to control a Linkbot. The program shall use a variable <span class="s23">angle  </span>to get the joint angles from the user at runtime through the function <span style=" color: #FF1CCE;">scanf</span>().  The program calls the function driveForward() with the variable <span class="s23">angle </span>to drive the Linkbot forward. Test the program with the joint angle 360 degrees.</p><p class="s21">5.4    Move a Distance for a Two-Wheel Robot</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_311.png"/></span><br/>A Linkbot-I can be configured as a two-wheel robot as shown in Figure 5.2.  In this configuration, the faceplates for joints 1 and 3 are attached with two wheels. Joints 2 and 3 are locked by a caster to serve as passive contacting point while the two wheels rotating.  In this section, we will learn how to use the member function driveDistance()  to control a Linkbot-I as a two-wheel robot. More advanced control of a two-wheel robot will be described in Chapter 9.<br/><span><IMG width="241" height="161" src="chlinkbot/Image_312.jpg"/></span><br/>Figure 5.2: A two-wheel robot.<br/>Like the member function driveForward(), the member function driveDistance()  causes both face- plates (joints 1 and 3) to roll the Linkbot-I forward. The syntax of the member function driveDistance()  is as follows.</p><p class="s23">robot.driveDistance(distance, radius);</p><p>71<br/>Chapter 5.  Interacting with a Linkbot at Runtime through Variables and Input/Output Functions<br/>5.4.  Move a Distance for a Two-Wheel Robot<br/>Unlike the member function driveForward(), the distance for the Linkbot-I to drive forward is specified by the first argument <span class="s23">distance</span>.  The radius of the two wheels, attached to the joints of the Linkbot-I, is specified by the second argument <span class="s23">radius</span>. The units for both distance and radius must be the same. They can be inches, feet, centimeters, meters, etc.<br/><span><IMG width="624" height="191" src="chlinkbot/Image_313.png"/></span></p><p class="s25">/* File: drivedistance.ch</p><p class="s25">Drive  a robot as a two-wheel robot for  a given distance.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">distance=5;    </span><span style=" color: #009800;">// the distance  of 5 inches to drive  forward</span></p><p class="s33">double <span style=" color: #000;">radius=1.75;  </span><span style=" color: #009800;">// the radius  of 1.75 inches of the two wheels of the robot</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* drive forward for ’distance’   in inches with a specified  radius of wheels */</p><p class="s17">robot.driveDistance(distance, radius);</p><p>Program 5.6: Moving a Linkbot-I with a specified distance using driveDistance().<br/>For example, Program 5.6 drives a Linkbot-I configured as a two-wheel robot with wheels attached to joints 1 and 3.  The radius of each wheel is 1.75 inches. The program drives the Linkbot-I forward for 5 inches. by the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_314.png"/></span></p><p class="s17">robot.driveDistance(distance, radius);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_315.jpg"/></span><br/>If the first argument for distance for the member function driveDistance()  is negative, a Linkbot will drive backward.<br/>Do Exercises 1 and 2 on page 72.</p><p class="s3">5.4.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_316.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.driveDistance(distance, radius);</p><p>to drive a Linkbot-I forward by the specified distance and radius for two wheels relative to its current position.</p><p class="s3">5.4.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_317.png"/></span><br/>robot.driveDistance(), robot.driveBackward(), distance, move a distance, radius of a wheel.</p><p class="s3">5.4.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_318.png"/></span><br/>1. Write a program <span class="s23">drivedistance2.ch </span>to control a Linkbot-I. The program calls the  function driveDistance()  to drive the robot forward for 6 inches, then drive the robot backward for 5 inches. Assume the radius of wheels is 1.75 inches.<br/>72<br/>Chapter 5.  Interacting with a Linkbot at Runtime through Variables and Input/Output Functions<br/>5.5.  Turn Left and Turn Right<br/><span><IMG width="5" height="1" src="chlinkbot/Image_319.png"/></span><br/>2. Write a program <span class="s23">drivedistance3 p.ch </span>to control a Linkbot-I. The program shall use variables <span class="s23">distance </span>and <span class="s23">radius </span>to get the distance and radius of two-wheels from the user at  runtime through the function <span style=" color: #FF1CCE;">scanf</span>().   The program calls the function driveDistance()  with the  variables <span class="s23">distance </span>and <span class="s23">radius </span>to drive the Linkbot forward. Test the program with the distance 6 inches and radius of 1.75 inches. You can also test the program with wheels of different radius.</p><p class="s21">5.5    Turn  Left and Turn  Right</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_320.png"/></span><br/>The <span style=" color: #FF1CCE;">CLinkbotI </span>class contains several other member functions with useful preprogrammed motions. The member function turnLeft() turns a two-wheel toward left with the syntax as follows.</p><p class="s23">robot.turnLeft(angle, radius,  trackwidth);</p><p>The amount turned by the robot is specified in the argument <span class="s23">angle </span>in degrees. The second argument is the radius of the two wheels. The third argument is the <span class="s20">track width</span>, the distance between the two wheels as shown in Figure 5.3. In order to turn the robot with the correct angle, the radius of the two-wheels and the track width need to be specified. The units for both radius and track width must be the same. They can be inches, feet, centimers, meters, etc.<br/><span><IMG width="240" height="189" src="chlinkbot/Image_321.jpg"/></span><br/>Figure 5.3: The track width for a two-wheel robot.<br/>Similar to the member function turnLeft(), the member function turnRight() turns a robot toward right with the syntax as follows.</p><p class="s23">robot.turnRight(angle, radius,  trackwidth);</p><p>The amount turned by the robot is specified in the argument <span class="s23">angle </span>in degrees. The second argument is the radius of the two wheels. The third argument is the track width.<br/>73<br/>Chapter 5.  Interacting with a Linkbot at Runtime through Variables and Input/Output Functions<br/>5.5.  Turn Left and Turn Right<br/><span><IMG width="624" height="234" src="chlinkbot/Image_322.png"/></span></p><p class="s25">/* File: turn.ch</p><p class="s25">Turn left and  turn right */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;         </span><span style=" color: #009800;">//  radius of 1.75 inches</span></p><p class="s33">double <span style=" color: #000;">trackwidth  =  3.69;      </span><span style=" color: #009800;">// the track width,   the distance  between two wheels</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s17">robot.driveForward(360); robot.turnRight(90, radius,  trackwidth); robot.driveForward(360); robot.turnLeft(90, radius,  trackwidth); robot.driveForward(360);</p><p>Program 5.7: Turning left and turning right.<br/>For example, Program 5.7 rolls a Linkbot-I forward for 360 degrees, turns right for 90 degrees, rolls forward for another 360 degrees, turns left for 90 degrees, then rolls forward for 360 degrees again.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_323.jpg"/></span><br/>You can run the program in ChIDE in debug mode with the command <span class="s23">Next </span>on the debug bar to watch the action of each motion statement, as you monitor the change of joint angles on the Motion Control Panel in BaroboLink.<br/>Do Exercises 1 and 2 on page 75.<br/>At this point, you may read section B.1 in Appendix B on how to use the member function drivexyTo() only available in RoboSim. This member function provides the motions of the member functions turnLeft() or turnRight() with driveDistance().</p><p class="s3">5.5.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_324.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.turnLeft(angle, radius,  trackwidth);</p><p>to turn a Linkbot-I toward left with the specified angle, radius for two wheels, and track width.<br/>2. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.turnRight(angle, radius,  trackwidth);</p><p>to turn a Linkbot-I toward right with the specified angle, radius for two wheels, and track width.</p><p class="s3">5.5.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_325.png"/></span><br/>robot.turnLeft(), robot.turnRight(), turn left, turn right.<br/>74<br/>Chapter 5.  Interacting with a Linkbot at Runtime through Variables and Input/Output Functions<br/>5.5.  Turn Left and Turn Right</p><p class="s3">5.5.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_326.png"/></span><br/>1. Write a program <span class="s23">turn2.ch </span>to drive a Linkbot-I forward for 360 degrees, turn left for 180 degrees, drive forward for 360 degrees, turn right for 180 degrees, and roll forward for 360 degrees.<br/>2. Run the program <span class="s23">turn2.ch </span>developed in Exercise 1 in ChIDE in debug mode with the command <span class="s23">Next </span>on the debug bar, as you monitor the change of joint angles on the Motion Control Panel in BaroboLink.<br/>75<br/><span><IMG width="627" height="8" src="chlinkbot/Image_327.png"/></span><br/><span><IMG width="624" height="3" src="chlinkbot/Image_328.png"/></span></p><p class="s1">CHAPTER 6</p><p><span><IMG width="624" height="3" src="chlinkbot/Image_329.png"/></span></p><p class="s6">Writing Programs to Control a Group  of Linkbots to Perform Identical Tasks</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_330.png"/></span></p><p class="s21">6.1    Control a Group of Linkbots with Identical Move-</p><p class="s21">ments</p><p>By using groups, Linkbots can be synchronized easily using only a few lines of code.<br/><span><IMG width="384" height="128" src="chlinkbot/Image_331.png"/></span></p><p class="s22">(a) 1st Linkbot                                       (b) 2nd Linkbot</p><p>Figure 6.1: Control two Linkbots to perform identical tasks simultaneously.<br/>Chapter 6.  Writing Programs to Control a Group of Linkbots to Perform Identical Tasks<br/>6.1.  Control a Group of Linkbots with Identical Movements<br/><span><IMG width="624" height="249" src="chlinkbot/Image_332.png"/></span></p><p class="s25">/* File: group.ch</p><p class="s25">Control multiple  robot modules simultaneously  using the CLinkbotIGroup class */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2;</span></p><p class="s16">CLinkbotIGroup <span style=" color: #000;">group;   </span><span style=" color: #009800;">// the  robot  group</span></p><p class="s25">/* add the  two modules as  members of  the  group */</p><p class="s17">group.addRobot(robot1);</p><p class="s17">group.addRobot(robot2);</p><p class="s25">/* connect to the robots in  the group.</p><p class="s25">move  robots in  the group to the zero position  */</p><p class="s17">group.connect();</p><p class="s17">group.resetToZero();</p><p class="s17">group.driveForward(360); <span style=" color: #009800;">//  drive robots forward </span>group.driveBackward(360); <span style=" color: #009800;">// drive robots backward</span></p><p>Program 6.1: Controlling a group of Linkbots with identical movements.<br/>Program 3.3 on page 38 controls a single Linkbot-I to roll forward by 360 degrees and then roll backward by 360 degrees.  Program 6.1 peforms identical movements for two Linkbot-Is in the same manner as Program 3.3.<br/>After declaring a separate variable for each of the two Linkbot-Is, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_333.png"/></span></p><p class="s16">CLinkbotIGroup <span style=" color: #000;">group;</span></p><p>creates a variable <span class="s23">group </span>of class <span style=" color: #FF1CCE;">CLinkbotIGroup</span>. The class <span style=" color: #FF1CCE;">CLinkbotIGroup </span>is defined in the header file <span style=" color: #998342;">linkbot.h</span>,  just as the classes <span style=" color: #FF1CCE;">CLinkbotI </span>and <span style=" color: #FF1CCE;">CLinkbotL </span>are. The general syntax of the <span style=" color: #FF1CCE;">CLinkbotI- Group </span>member function addRobot(),  which is used to add a Linkbot-I to a group, is as follows:</p><p class="s23">group.addRobot(name);</p><p>The argument <span class="s23">name </span>represents the variable name of the Linkbot-I that you want to add to the group. The next two lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_334.png"/></span></p><p class="s17">group.addRobot(robot1);</p><p class="s17">group.addRobot(robot2);</p><p>adds each Linkbot-I object to the group, one at a time.  After these statements are executed, the variable <span class="s23">group </span>will be used to control both <span class="s23">robot1 </span>and <span class="s23">robot2 </span>at the same time. You can add any number of Linkbot-Is to a group.<br/>The class <span style=" color: #FF1CCE;">CLinkbotIGroup </span>includes member functions that are similar to those included in the classes <span style=" color: #FF1CCE;">CLinkbotI </span>and <span style=" color: #FF1CCE;">CLinkbotL</span>. Examples of such member functions include connect(), resetToZero(), drive- Forward(angle),  and driveBackward(angle).  In later sections we will see additional examples of such functions. The <span style=" color: #FF1CCE;">CLinkbotIGroup </span>versions of these member functions have one important difference: they move all the Linkbot-Is in a group identically, instead of only a single Linkbot-I. It is more convenient to be able to write one line of code to move all the Linkbot-Is in a single group than it is to write a separate line of code for each Linkbot-I.<br/>For instance, the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_335.png"/></span></p><p class="s17">group.connect();</p><p>is similar to the statement robot.connect() from Program 3.3. The only difference is that instead of con- necting just one Linkbot-I to a variable, group.connect() connects both variables <span class="s23">robot1 </span>and <span class="s23">robot2 </span>to Linkbot-Is that have been configured through the BaroboLink.<br/>The next line<br/>77<br/>Chapter 6.  Writing Programs to Control a Group of Linkbots to Perform Identical Tasks<br/>6.1.  Control a Group of Linkbots with Identical Movements<br/><span><IMG width="624" height="15" src="chlinkbot/Image_336.png"/></span></p><p class="s17">group.resetToZero();</p><p>is similar to the statement robot.resetToZero() seen in Program 3.3.  But instead of resetting the joints of only one Linkbot-I, group.resetToZero() resets the joints of both <span class="s23">robot1 </span>and <span class="s23">robot2 </span>to the zero position.<br/>Finally, the lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_337.png"/></span></p><p class="s17">group.driveForward(360);</p><p class="s17">group.driveBackward(360);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_338.jpg"/></span><br/>cause both <span class="s23">robot1 </span>and <span class="s23">robot2 </span>to roll forward at the same time by 360 degrees and then roll backward at the same time by 360 degrees, just as robot.driveForward(angle) and robot.driveBackward(angle) did for a single Linkbot-I in Program 3.3.<br/>Do Exercises 1, 2, and 3 on page 79.</p><p class="s3">6.1.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_339.png"/></span><br/>1. Include the header file <span style=" color: #998342;">linkbot.h  </span>and use the class <span style=" color: #FF1CCE;">CLinkbotIGroup </span>to declare a variable group by the following two statements</p><p class="s23">#include &lt;linkbot.h&gt; CLinkbotIGroup group;</p><p>for controlling a group of Linkbot-Is.<br/>2. Call the <span style=" color: #FF1CCE;">CLinkbotIGroup </span>member function</p><p class="s23">group.addRobot(name);</p><p>to add a single Linkbot-I to a group.<br/>3. Call the <span style=" color: #FF1CCE;">CLinkbotIGroup </span>member function</p><p class="s23">group.connect();</p><p>to connect all variables in a group to their corresponding Linkbot-Is through Barobolink.<br/>4. Call the <span style=" color: #FF1CCE;">CLinkbotIGroup </span>member function</p><p class="s23">group.resetToZero();</p><p>to reset the joints of all Linkbot-Is in a group to the zero position.<br/>5. Call the <span style=" color: #FF1CCE;">CLinkbotIGroup </span>member functions</p><p class="s23">group.driveForward(angle);</p><p class="s23">group.driveBackward(angle);</p><p>to drive all Linkbot-Is in a group forward or backward by the same specified angle, relative to their current positions.<br/>78<br/>Chapter 6.  Writing Programs to Control a Group of Linkbots to Perform Identical Tasks<br/>6.2.  Control an Array of Linkbots with Identical Movements</p><p class="s3">6.1.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_340.png"/></span></p><p class="s11">CLinkbotIGroup<span style=" color: #000;">,  group.addRobot(),  group.connect(), group.resetToZero(),  group.driveForward(),</span></p><p>group.driveBackward(), groups, identical movements.</p><p class="s3">6.1.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_341.png"/></span><br/>1. Run the program <span class="s23">group.ch </span>in Program 6.1 to perform identical movements for two Linkbots.<br/>2. Write a program <span class="s23">group2.ch </span>to perform identical movements, as presented in Program 6.1, for three<br/>Linkbots.<br/><span><IMG width="285" height="190" src="chlinkbot/Image_342.jpg"/></span><br/>3. Write a program <span class="s23">group3.ch </span>to perform identical movements, as presented in Program 6.1, for four<br/>Linkbots.<br/><span><IMG width="285" height="190" src="chlinkbot/Image_343.jpg"/></span><br/><span><IMG width="624" height="53" src="chlinkbot/Image_344.png"/></span></p><p class="s21">6.2    Control an Array of Linkbots with Identical Move- ments</p><p>Another way to add multiple robots to a group is to use an array of robots. This is demonstrated in Program<br/>6.2 below.<br/>79<br/>Chapter 6.  Writing Programs to Control a Group of Linkbots to Perform Identical Tasks<br/>6.2.  Control an Array of Linkbots with Identical Movements<br/><span><IMG width="624" height="512" src="chlinkbot/Image_345.png"/></span></p><p class="s25">/* File: grouparray.ch</p><p class="s25">*  A group with  4 Linkbot-I’s   in  synchronized motion using an array  of 4 elements.</p><p class="s25">*</p><p class="s25">*              1            2</p><p class="s25">*         |--|    |--|</p><p class="s25">*         |<u> </u> |   |<u> </u> |</p><p class="s25">*</p><p class="s25">*            3            4</p><p class="s25">*         |--|    |--|</p><p class="s25">*         |<u> </u> |   |<u> </u> |</p><p class="s25">*</p><p class="s25">*  Make sure that  robots are attached with wheels.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot[4];           </span><span style=" color: #009800;">/* declare an array  of 4 Linkbot-I’s   */ </span>CLinkbotIGroup <span style=" color: #000;">group;         </span><span style=" color: #009800;">/* declare a Linkbot-I   group   */</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;       </span><span style=" color: #009800;">//  radius of 1.75 inches</span></p><p class="s33">double <span style=" color: #000;">trackwidth  =  3.69;   </span><span style=" color: #009800;">// the track width,   the distance  between two wheels</span></p><p class="s17">group.addRobots(robot); <span style=" color: #009800;">/* add 4  Linkbot-I’s   to the group */</span></p><p class="s17">group.connect();</p><p class="s17">group.resetToZero();</p><p class="s17">group.driveForward(360); group.driveBackward(360); group.turnLeft(90, radius,  trackwidth); group.driveForward(360); group.driveBackward(360); group.turnLeft(45, radius,  trackwidth); group.driveForward(360); group.driveBackward(360); group.turnRight(135, radius, trackwidth); group.driveDistance(5, radius); group.driveDistance(-5, radius);</p><p>Program 6.2: Controlling a group of four Linkbot-Is with identical movements using an array of 4 elements.<br/>80<br/>Chapter 6.  Writing Programs to Control a Group of Linkbots to Perform Identical Tasks<br/>6.2.  Control an Array of Linkbots with Identical Movements<br/><span><IMG width="380" height="253" src="chlinkbot/Image_346.jpg"/></span><br/>Figure 6.2: A group of four Linkbots with identical movements.<br/>Program 6.2 performs identical movements for four Linkbot-Is using an array with 4 elements. In this program, instead of declaring a separate variable for each Linkbot-I, we declare one variable for multiple Linkbot-Is. The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_347.png"/></span></p><p class="s16">CLinkbotI <span style=" color: #000;">robot[4];</span></p><p>declares an array of 4 Linkbot-Is. An <span class="s20">array </span>is a special kind of variable that stores a collection of individual values that are of the same data type. Each item in the collection can be accessed by using an index number. Arrays are useful because instead of having to separately store related information in different variables, you can store them as a collection in just one variable. The general syntax for declaring an array is as follows</p><p class="s23">type  name[num];</p><p>where <span class="s23">num </span>specifies the number of elements you want in the array. This number can be any positive integer value.<br/>In particular, an array comes in handy in our program for use with the <span style=" color: #FF1CCE;">CLinkbotIGroup </span>member func- tion addRobots().  The syntax for this new function is</p><p class="s23">group.addRobots(name);</p><p>where name refers to an array of Linkbot-Is, instead of just one Linkbot-I. With this member function, we can add all of our robots to a group at once, instead of one at a time like we did in Program 6.2. For instance, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_348.png"/></span></p><p class="s17">group.addRobots(robot);</p><p>adds the array of four Linkbot-Is to the group with just one line of code. This is easier than using four lines of code to add four Linkbot-Is to the group.<br/>With Program 6.2 we discovered that the class <span style=" color: #FF1CCE;">CLinkbotIGroup </span>has its own versions of the member functions connect(), resetToZero(), driveForward(), and driveBackward(). Now we can add three more member functions to this list: turnLeft(), turnRight(). and driveDistance().  The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_349.png"/></span></p><p class="s17">group.turnLeft(90, radius,  trackwidth);</p><p>turns not just one Linkbot-I but all four Linkbot-Is left by 90 degrees at the same time. Similarly, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_350.png"/></span></p><p class="s17">group.turnRight(135, radius, trackwidth);</p><p>81<br/>Chapter 6.  Writing Programs to Control a Group of Linkbots to Perform Identical Tasks<br/>6.2.  Control an Array of Linkbots with Identical Movements<br/>turns all four Linkbot-Is 135 degrees right. The statements<br/><span><IMG width="624" height="29" src="chlinkbot/Image_351.png"/></span></p><p class="s17">group.driveDistance(5,   radius);</p><p class="s17">group.driveDistance(-5, radius);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_352.jpg"/></span><br/>drive all Linkbot-Is in the group forward by 5 inches first, then backward by 5 inches.<br/>Do Exercises 1 and 2 on page 82.</p><p class="s3">6.2.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_353.png"/></span><br/>1. Declare an array variable to store a group of Linkbot-Is.</p><p class="s23">CLinkbotI robot[4];</p><p>The number in square brackets is the number of Linkbot-Is in the group.  This number can be any positive integer value.<br/>2. Call the <span style=" color: #FF1CCE;">CLinkbotIGroup </span>member function</p><p class="s23">group.addRobots(name);</p><p>to add an array of Linkbot-Is to a group. In this case <span class="s23">name </span>is the array name (identifier) instead of a single variable name.<br/>3. Call the <span style=" color: #FF1CCE;">CLinkbotIGroup </span>member functions</p><p class="s23">group.turnLeft(angle, radius,  trackwidth);</p><p class="s23">group.turnRight(angle, radius, trackwidth);</p><p>to turn a group of Linkbot-Is left or right with the specified angle, radius for two wheels, and track width.<br/>4. Call the <span style=" color: #FF1CCE;">CLinkbotIGroup </span>member function</p><p class="s23">group.driveDistance(distance, radius);</p><p>to drive a group of Linkbot-Is by the <span class="s23">distance </span>with the specified <span class="s23">radius </span>for two wheels.</p><p class="s3">6.2.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_354.png"/></span><br/>array, group.addRobots(), group.turnLeft(), group.turnRight(), group.driveDistance().</p><p class="s3">6.2.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_355.png"/></span><br/>1. Run the program <span class="s23">grouparray.ch </span>in Program 6.2 to perform identical movements for 4 Linkbots.<br/>2. Write a program <span class="s23">grouparray2.ch </span>to control a group of 9 Linkbots with the same motion  as presented in the program <span class="s23">grouparray.ch </span>in Program 6.2.<br/>82<br/>Chapter 6.  Writing Programs to Control a Group of Linkbots to Perform Identical Tasks<br/>6.2.  Control an Array of Linkbots with Identical Movements<br/><span><IMG width="380" height="253" src="chlinkbot/Image_356.jpg"/></span><br/>Figure 6.3: A group of 9 Linkbots with identical movements.<br/>83<br/><span><IMG width="627" height="8" src="chlinkbot/Image_357.png"/></span><br/><span><IMG width="624" height="3" src="chlinkbot/Image_358.png"/></span></p><p class="s1">CHAPTER 7</p><p><span><IMG width="624" height="3" src="chlinkbot/Image_359.png"/></span></p><p class="s6">Writing Programs to Control a Single Linkbot with Different Motion Characteristics</p><p>In  the  previous  chapters,  we  learned  the  member  functions  robot.connect(),   robot.resetToZero(), robot.move(), robot.driveForward(), robot.driveBackward(), robot.driveDistance() robot.turnLeft(), robot.turnRight(), and of the class <span style=" color: #FF1CCE;">CLinkbotI </span>for controlling the Linkbot-I. In this chapter, we will learn more features of the Linkbot-I and additional member functions to control the Linkbot-I for various appli- cations.</p><p class="s21">7.1    Multiple Motion Statements in a Program</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_360.png"/></span><br/><span><IMG width="627" height="17" src="chlinkbot/Image_361.png"/></span><br/>A Linkbot program can contain multiple motion statements. For example, Program 7.1 has three motion statements. The program first moves all joints into the zero position by the member function resetToZero(). It then calls the member function move() three times. The first function call</p><p class="s17">robot.move(180, <span style=" color: #FF1CCE;">NaN</span>,   -180);</p><p><span><IMG width="627" height="17" src="chlinkbot/Image_362.png"/></span><br/>moves joint 1 by 180 degrees and joint 3 by <span class="s5">−180 </span>degrees relative to the zero position. The second time when</p><p class="s17">robot.move(180, <span style=" color: #FF1CCE;">NaN</span>,   -180);</p><p><span><IMG width="627" height="17" src="chlinkbot/Image_363.png"/></span><br/>is called, joint 1 moves by 180 degrees and joint 3 by <span class="s5">−180 </span>degrees relative to their current position. After this function call, the absolute positions of joint 1 is 360 degrees and joint 3 is <span class="s5">−360 </span>degrees. The function call</p><p class="s17">robot.move(360, <span style=" color: #FF1CCE;">NaN</span>,   -360);</p><p>7.2.  Move Joints to their Absolute Positions<br/>Chapter 7.  Writing Programs to Control a Single Linkbot<br/><span><IMG width="624" height="249" src="chlinkbot/Image_364.png"/></span></p><p class="s25">/* File: multiplemove.ch</p><p class="s25">Move  all joints relative  to the current positions . */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* move  the joint  1 by 180 degrees  and joint 3 by -180  degrees  */</p><p class="s17">robot.move(180, <span style=" color: #FF1CCE;">NaN</span>,   -180);</p><p class="s25">/* move  the joint  1 by 180 degrees  and joint 3 by -180  degrees  */</p><p class="s17">robot.move(180, <span style=" color: #FF1CCE;">NaN</span>,   -180);</p><p class="s25">/* move  the joint  1 by 360 degrees  and joint 3 by -360  degrees  */</p><p class="s17">robot.move(360, <span style=" color: #FF1CCE;">NaN</span>,   -360);</p><p>Program 7.1: Moving joints relative to the current position using move().<br/><span><IMG width="23" height="16" src="chlinkbot/Image_365.jpg"/></span><br/>moves joint 1 by 360 degrees and joint 3 by <span class="s5">−360 </span>degrees relative to the current position. At the end of the program, the absolute positions of joint 1 is 720 degrees and joint 3 is <span class="s5">−720 </span>degrees.<br/>Do Exercise 1 on page 85.</p><p class="s3">7.1.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_366.png"/></span><br/>This section summarizes what you should have learned in this session.<br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.move(angle1,  NaN, angle3);</p><p>multiple times to move a Linkbot-I.</p><p class="s3">7.1.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_367.png"/></span><br/>multiple movements.</p><p class="s3">7.1.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_368.png"/></span><br/>1. Write a program <span class="s23">multiplemove2.ch </span>to move a Linkbot-I forward by 360 degrees and then back- ward by 360 degrees using the function move() only.</p><p class="s21">7.2    Move Joints to their Absolute Positions</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_369.png"/></span><br/>The member function move(), first presented in section 3.2, can be used to move joints of a Linkbot relative to their current positions. Similar to move(), the member function moveTo() can move joints of a Linkbot to its specified absolute positions. The syntax of the member function moveTo() is as follows.<br/>85<br/>7.2.  Move Joints to their Absolute Positions<br/>Chapter 7.  Writing Programs to Control a Single Linkbot</p><p class="s23">robot.moveTo(angle1,  NaN, angle3);</p><p>The function uses the first and third arguments for joints 1 and 3, respectively, each representing an absolute position of a joint.<br/><span><IMG width="624" height="249" src="chlinkbot/Image_370.png"/></span></p><p class="s25">/* File: moveto.ch</p><p class="s25">Move  all joints to the absolute positions.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* move  joints 1 to  180 degrees  and joint 3 to  -180 degrees */</p><p class="s17">robot.moveTo(180, <span style=" color: #FF1CCE;">NaN</span>,   -180);</p><p class="s25">/* move  joints 1 to  360 degrees  and joint 3 to  -360 degrees */</p><p class="s17">robot.moveTo(360, <span style=" color: #FF1CCE;">NaN</span>,   -360);</p><p class="s25">/* move  joints 1 to  720 degrees  and joint 3 to  -720 degrees */</p><p class="s17">robot.moveTo(720, <span style=" color: #FF1CCE;">NaN</span>,   -720);</p><p>Program 7.2: Calling moveTo() multiple times.<br/>For example, Program 7.2 has three motion statements using the member function moveTo(). As indi- cated in the comments, the following statements<br/><span><IMG width="624" height="117" src="chlinkbot/Image_371.png"/></span></p><p class="s25">/* move  joint 1 to  180 degrees  and joint 3 to  -180 degrees */</p><p class="s17">robot.moveTo(180, <span style=" color: #FF1CCE;">NaN</span>,   -180);</p><p class="s25">/* move  joint 1 to  360 degrees  and joint 3 to  -360 degrees */</p><p class="s17">robot.moveTo(360, <span style=" color: #FF1CCE;">NaN</span>,   -360);</p><p class="s25">/* move  joint 1 to  720 degrees  and joint 3 to  -720 degrees */</p><p class="s17">robot.moveTo(720, <span style=" color: #FF1CCE;">NaN</span>,   -720);</p><p>first move joint 1 to 180 degrees and joint 3 to <span class="s5">−180 </span>degrees. As soon as the joints reach these positions, joint 1 is commanded to move to the position of 360 degrees and joint 3 to the position of <span class="s5">−360 </span>degrees. Subsequently, joint 1 is moved to the position of 720 degrees and joint 3 to the position of <span class="s5">−720 </span>degrees. When you run the program, joints 1 and 3 appear continuously moving from 0 to 720 degrees.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_372.jpg"/></span><br/>The motion of Program 7.2 using the member function moveTo() is the same as that of Program 7.1 using the member function move().  When you run these programs, joint 1 appears continuously moving from 0 to 720 degrees whereas joint 3 moving from 0 to <span class="s5">−720 </span>degrees. You can monitor the change of joint angles on the Motion Control Panel in BaroboLink as described in section 3.4. You can execute the program in debug mode by the command <span class="s23">Next </span>in ChIDE to watch the action of each motion statement.<br/>Do Exercises 1, 2, 3, and 4 on page 87.</p><p class="s3">7.2.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_373.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.moveTo(angle1,  NaN, angle3);</p><p>to move joints 1 and 3 of a Linkbot-I to their absolute positions.<br/>86<br/>7.3.  Get Joint Angles<br/>Chapter 7.  Writing Programs to Control a Single Linkbot</p><p class="s3">7.2.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_374.png"/></span><br/>absolute position, robot.moveTo().</p><p class="s3">7.2.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_375.png"/></span><br/>1. What is the difference between the member functions moveTo() and move().<br/>2. Write a program <span class="s23">moveto2.ch </span>to move joints 1 and 3 forward by 360 degrees and then backward by<br/>360 degrees using the function moveTo() only.<br/>3. Write a program <span class="s23">moveto3.ch </span>to first move joints 1 and 3 to the absolute positions of 90 degrees.<br/>Then, move joint 1 by 45 degrees and joint 3 by 90 degrees relative to its current position. Finally,<br/>move joints 1 and 3 to the absolute positions of 360 degrees.<br/><span><IMG width="624" height="80" src="chlinkbot/Image_376.png"/></span><br/>4. Run the program <span class="s23">moveto3.ch </span>developed in Exercise 3 in ChIDE in debug mode with the command <span class="s23">Next </span>on the debug bar, as you monitor the change of joint angles on the Motion Control Panel in BaroboLink.</p><p class="s21">7.3    Get Joint Angles</p><p class="s3">7.3.1   Get a Joint Angle</p><p>After a Linkbot is moved through several motion statements, you may want to know the current angular position of a joint of the Linkbot. The member function getJointAngle() can be used to obtain a joint angle of a Linkbot. The syntax of the member function getJointAngle()  is as follows.</p><p class="s23">robot.getJointAngle(id, angle);</p><p>The first argument <span class="s23">id </span>is for a joint number. It should be one of the enumerated values defined in Table 7.1. These enumerated values are also used in several other member functions to identify joint numbers. The second argument <span class="s23">angle </span>should be a variable of <span style=" color: #F00;">double </span>type. When the function is called, it will read the joint angle of a Linkbot 10 times and store the average of 10 joint angles in degrees in the variable <span class="s23">angle</span>.<br/>Table 7.1: The enumerated values for joint number.<br/><span><IMG width="219" height="19" src="chlinkbot/Image_377.png"/></span><br/>Enumerated Value    Joint Number<br/>JOINT1                    Joint 1<br/>JOINT2                    Joint 2<br/>JOINT3                    Joint 3<br/><span><IMG width="219" height="1" src="chlinkbot/Image_378.png"/></span><br/>87<br/>7.3.  Get Joint Angles<br/>Chapter 7.  Writing Programs to Control a Single Linkbot<br/><span><IMG width="624" height="293" src="chlinkbot/Image_379.png"/></span></p><p class="s25">/* File: getjointangle.ch</p><p class="s25">Get a joint  angle.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">angle;    </span><span style=" color: #009800;">//  declare the variable ’angle’   to hold a joint  angle</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* move  the joint  1 by 90 degrees  and joint 3 by -90  degrees  */</p><p class="s17">robot.move(90, <span style=" color: #FF1CCE;">NaN</span>,   -90);</p><p class="s25">/* obtain the angle for joint  1 */</p><p class="s17">robot.getJointAngle(JOINT1, angle);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Joint1  angle =  %.2lf   degrees.\n&quot;</span>,   angle);</p><p class="s25">/* move  the joint  1 by 360 degrees  and joint 3 by -360  degrees  */</p><p class="s17">robot.moveTo(360, <span style=" color: #FF1CCE;">NaN</span>,   -360);</p><p class="s17">robot.getJointAngle(JOINT1, angle);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Joint1  angle =  %.2lf   degrees.\n&quot;</span>,   angle);</p><p>Program 7.3: Getting a joint angle using getJointAngle().<br/>For example, Program 7.3 uses the member function getJointAngle()  to obtain joint angles.  When<br/>Program 7.3 is executed, the following output will be displayed in the input/output pane.<br/><span><IMG width="624" height="29" src="chlinkbot/Image_380.png"/></span></p><p class="s17">Joint1  angle =  90.68 degrees. Joint1  angle =  360.96 degrees.</p><p>The resolution for joint angle is about 0.6 degrees. In addition, the robotic system involves many compo- nents, most of which are not high precision. Therefore, the function getJointAngle() does not give an exact angle. If you run the program in your computer, the displayed joint angles will be different.<br/>After the first movement statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_381.png"/></span></p><p class="s17">robot.move(90, <span style=" color: #FF1CCE;">NaN</span>,   -90);</p><p>the function call<br/><span><IMG width="624" height="15" src="chlinkbot/Image_382.png"/></span></p><p class="s17">robot.getJointAngle(JOINT1, angle);</p><p>obtains the joint angle 90.68 degrees for joint 1 and store the result in the variable <span class="s23">angle</span>. After the second movement statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_383.png"/></span></p><p class="s17">robot.moveTo(360, <span style=" color: #FF1CCE;">NaN</span>,   -360);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_384.jpg"/></span><br/>the joint angle for joint 1 from the function getJointAngle()  is 360.96 degrees.<br/>Do Exercises 1 and 2 on page 90.</p><p class="s3">7.3.2   Get Multiple Joint Angles</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_385.png"/></span><br/>The member function getJointAngle()  can be used to obtain one joint angle at a time.  You can call the function multiple times to obtain joint angles for different joints. However, you can call the member function getJointAngles() once to obtain joint angles for both joints 1 and 3 of a Linkbot-I. The syntax of the member function getJointAngles().</p><p class="s23">robot.getJointAngles(angle1, NaN, angle3);</p><p>88<br/>7.3.  Get Joint Angles<br/>Chapter 7.  Writing Programs to Control a Single Linkbot<br/>The function uses arguments <span class="s23">angle1 </span>and <span class="s23">angle3 </span>to store the joint angles for joints 1 and 3, respectively. Similar to the member function getJointAngle(), each joint angle is the average of 10 joint angles read from the Linkbot-I.<br/><span><IMG width="624" height="249" src="chlinkbot/Image_386.png"/></span></p><p class="s25">/* File: getjointangles.ch</p><p class="s25">Get joint  angles.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s25">//  declare the variables to hold joint  angles</p><p class="s33">double <span style=" color: #000;">angle1, angle3;</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* move  the joint  1 to  360 degrees  and joint 3 to  -180degrees */</p><p class="s17">robot.moveTo(360, <span style=" color: #FF1CCE;">NaN</span>,   -180);</p><p class="s25">/* obtain joint  angles for all four joints */</p><p class="s17">robot.getJointAngles(angle1, <span style=" color: #FF1CCE;">NaN</span>,   angle3);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Joint1  angle =  %.2lf   degrees.\n&quot;</span>,   angle1);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Joint3  angle =  %.2lf   degrees.\n&quot;</span>,   angle3);</p><p>Program 7.4: Getting joint angles using getJointAngles().<br/>For example, Program 7.4 uses the member function getJointAngles()  to get the two joint angles of a<br/>Linkbot-I. When the program is executed, the following output will be displayed in the input/output pane.<br/><span><IMG width="624" height="29" src="chlinkbot/Image_387.png"/></span></p><p class="s17">Joint1  angle =  361.02 degrees. Joint3  angle =  45.29 degrees.</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_388.jpg"/></span><br/>Do Exercise 3 on page 90.</p><p class="s3">7.3.3   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_389.png"/></span><br/>1. Use the enumerated values JOINT1, JOINT2, and JOINT3 to specify joints 1, 2, and 3, respectively.<br/>2. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.getJointAngle(JOINT1, angle);</p><p>to get the joint angle in the second argument for a specified joint in the first argument.<br/>3. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.getJointAngles(angle1, NaN, angle3);</p><p>to get the two joint angles of a Linkbot-I.</p><p class="s3">7.3.4   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_390.png"/></span><br/>JOINT1, JOINT2, JOINT3, robot.getJointAngle(), robot.getJointAngles().<br/>89<br/>7.4.  Move a Single Joint<br/>Chapter 7.  Writing Programs to Control a Single Linkbot</p><p class="s3">7.3.5   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_391.png"/></span><br/>1. What do you think the <span class="s23">average </span>means for the function getJointAngle()?  Can you think of a situa- tion where using the function getJointAngle()  is necessary.<br/>2. Write a program <span class="s23">getjointangle2.ch </span>to move joints 1 and 3 to the absolute positions of 180 and<br/>-360 degrees, respectively. Then, get the joint angles for each joint by the function getJointAngle()<br/>and display the values of these joint angles.<br/>3. Write a program <span class="s23">getjointangles2.ch </span>to move joints 1 and 3 to the absolute positions of 180 and -360 degrees, respectively.  Then, get the joint angles for two joints 1 and 3 by the  function getJointAngles() and display the values of these joint angles.</p><p class="s21">7.4    Move a Single Joint</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_392.png"/></span><br/>The member functions moveTo() and move() can be used to move two joints of a Linkbot to its specified absolute positions and new positions relative to its current positions. The member functions moveJointTo() and moveJoint() can be used to move a single joint. The member function moveJointTo(),  can be used to move a joint of a Linkbot-I to its specified absolute position. The member function moveJoint() can move a joint to a new position relative to its current position.</p><p class="s3">7.4.1   Move a Single Joint to the Absolute Position</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_393.png"/></span><br/>The syntax of the member function moveJointTo()  is as follows.</p><p class="s23">robot.moveJointTo(id, angle);</p><p>The function has two arguments. The first argument <span class="s23">id </span>is for a joint number. It should be one of the three enumerated values defined in Table 7.1 for joint numbers.  The second argument <span class="s23">angle </span>is the absolute position of the joint angle.<br/>90<br/>7.4.  Move a Single Joint<br/>Chapter 7.  Writing Programs to Control a Single Linkbot<br/><span><IMG width="624" height="307" src="chlinkbot/Image_394.png"/></span></p><p class="s25">/* File: movejointto.ch</p><p class="s25">Move a  joint  to the absolute position.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">angle;</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* move  joint 1 to the position  of 180 degrees.   */</p><p class="s17">robot.moveJointTo(JOINT1, 180);</p><p class="s25">/* move  joint 1 to the position  of 360 degrees.   */</p><p class="s17">robot.moveJointTo(JOINT1, 360);</p><p class="s25">/* move  joint 1 to the position  of 720 degrees.   */</p><p class="s17">robot.moveJointTo(JOINT1, 720);</p><p class="s17">robot.getJointAngle(JOINT1, angle);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Joint1  angle =  %.2lf   degrees.\n&quot;</span>,   angle);</p><p>Program 7.5: Moving a joint to the absolution position using moveJointTo().<br/>For example, Program 7.5 calls the member function moveJointTo()  by</p><p class="s19">          robot.moveJointTo(JOINT1, 180);                                                                                                                                                                 </p><p>to move joint 1 to the position of 180 degrees first. Next, it calls the member function moveJointTo()  twice again to move joint 1 to 360 degrees and 720 degrees. Then, it calls the member function getJointAngle() to obtain the joint angle for joint 1. Finally, it displays the joint angle on the screen. When the program is executed, the output from the following output will be displayed in the input/output pane.</p><p class="s19">          Joint1 angle = 720.99 degrees.                                                                                                                                                                     </p><p><span><IMG width="23" height="16" src="chlinkbot/Image_395.jpg"/></span><br/>Do Exercise 1 on page 93.</p><p class="s3">7.4.2   Move a Single Joint Relative to the Current Position</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_396.png"/></span><br/>The syntax of the member function moveJoint(), similar to that of moveJointTo(),  is as follows.</p><p class="s23">robot.moveJoint(id, angle);</p><p>The function has two arguments. The first argument <span class="s23">id </span>is for a joint number. It should be one of the three enumerated values defined in Table 7.1 for joint numbers. The second argument <span class="s23">angle </span>is the position of the joint angle relative to its current position. An application example using the member function moveJoint() will be presented in the next section.</p><p class="s3">7.4.3   Delay the Motion of a Linkbot  Using the Member Function delaySeconds()</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_397.png"/></span><br/>In some applications, you may want to pause a program for a specified time. For example, a robot may pose for a few seconds for choreography in a robot dance.  You may also pause a program so that the motion of a Linkbot can be settled down. The delay of a program execution can be accomplished by the member function delaySeconds() with the syntax as follows.<br/>91<br/>7.4.  Move a Single Joint<br/>Chapter 7.  Writing Programs to Control a Single Linkbot</p><p class="s23">robot.delaySeconds(seconds);</p><p>The argument <span class="s23">seconds </span>is the pause time in seconds.  The pause time can be less than one second.  A<br/>sample application of the member function delaySeconds() is shown in Program 7.6.<br/><span><IMG width="624" height="395" src="chlinkbot/Image_398.png"/></span></p><p class="s25">/* File: movejoint.ch</p><p class="s25">Move a  joint relative to its current position.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">angle;</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* move  joint 1 by 180 degrees.   */</p><p class="s17">robot.moveJoint(JOINT1, 180);</p><p class="s17">robot.delaySeconds(0.5); <span style=" color: #009800;">//   delay 0.5 second</span></p><p class="s25">/* move  joint 1 by 180 degrees.   */</p><p class="s17">robot.moveJoint(JOINT1, 180);</p><p class="s17">robot.delaySeconds(0.5); <span style=" color: #009800;">//   delay 0.5 second</span></p><p class="s25">/* move  joint 1 by 360 degrees.   */</p><p class="s17">robot.moveJoint(JOINT1, 360);</p><p class="s17">robot.delaySeconds(0.5); <span style=" color: #009800;">//   delay 0.5 second</span></p><p class="s17">robot.getJointAngle(JOINT1, angle);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Joint1  angle =  %.2lf   degrees.\n&quot;</span>,   angle);</p><p>Program 7.6: Moving a joint relative to the current position using moveJoint().<br/>Program 7.6 calls the member function moveJoint() to move joint 1 multiple times. The member func- tion call<br/><span><IMG width="624" height="15" src="chlinkbot/Image_399.png"/></span></p><p class="s17">robot.delaySeconds(0.5); <span style=" color: #009800;">//   delay 0.5 second</span></p><p>pauses the program between each call of the member function moveJoint().  At the end of the program, the joint angle for joint 1 is obtained by the member function getJointAngle().<br/>When the program is executed, the following output will be displayed in the input/output pane.</p><p class="s19">          Joint1 angle = 720.86 degrees.                                                                                                                                                                     </p><p>If you remove the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_400.png"/></span></p><p class="s17">robot.delaySeconds(0.5); <span style=" color: #009800;">//   delay 0.5 second</span></p><p>in the program, the joint angle obtained by the function getJointAngle() will deviate more from the desired angle 720 degrees. This is because the movement created by the function moveJoint() will start before the previous movement is fully settled down. These errors will be accumulated at each subsequent call of the function moveJoint().   This accumulation error also occurs for the function move(), which moves joints relative to its current positions.<br/>Because the functions moveJointTo()  and moveTo() use absolute positions, there is no accumulated error each time when they are called.  Therefore, for the accuracy with multiple movements, functions moveJointTo()  and moveTo() shall be used.<br/>92<br/>7.5.  Get and Set Joint Speeds<br/>Chapter 7.  Writing Programs to Control a Single Linkbot</p><p class="s3">7.4.4   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_401.png"/></span><br/>1. Call the member function</p><p class="s23">robot.moveJoint(id, angle);</p><p>to move a joint with the specified angle relative to its current position.<br/>2. Call the member function</p><p class="s23">robot.moveJointTo(id, angle);</p><p>to move a joint with the specified angle to its absolute position.<br/>3. Call the member function</p><p class="s23">robot.delaySeconds(seconds);</p><p>to pause a program for <span class="s23">seconds</span>.<br/>4. There are accumulated errors for each movement relative to its current position.</p><p class="s3">7.4.5   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_402.png"/></span><br/><span><IMG width="23" height="16" src="chlinkbot/Image_403.jpg"/></span><br/>robot.delaySeconds(), robot.moveJoint(), robot.moveJointTo(), accumulated error, relative position, ab- solute position.<br/>Do Exercise 2 on page 93.</p><p class="s3">7.4.6   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_404.png"/></span><br/>1. Write a program <span class="s23">movejointto2.ch </span>to move joint 1 to 45 degrees first, then move joint 3 to 120 degrees. Then get and display the joint angles for joints 1 and 3.<br/>2. Write a program <span class="s23">movejoint2.ch </span>to move joint 3 to the position of 90 degrees, delay for two seconds, next move joint 3 again by 180 degrees relative to its current position, then get and display the joint angle for joint 3.</p><p class="s21">7.5    Get and Set Joint Speeds</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_405.png"/></span><br/>By default, each Linkbot joint rotates at the angular speed of 45 degrees per second. You can change a joint speed and obtain the joint speed through some member functions of the <span style=" color: #FF1CCE;">CLinkbotI </span>class.<br/>93<br/>7.5.  Get and Set Joint Speeds<br/>Chapter 7.  Writing Programs to Control a Single Linkbot</p><p class="s3">7.5.1   Get and Set a Joint Speed</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_406.png"/></span><br/>The member function getJointSpeed()  can be used to obtain a joint speed of a Linkbot. The syntax of the member function getJointSpeed()  is as follows.</p><p class="s23">robot.getJointSpeed(id,  speed);</p><p>The first argument <span class="s23">id </span>is for a joint number. It should be one of the enumerated values defined in Table 7.1. The second argument <span class="s23">speed </span>should be a variable of <span style=" color: #F00;">double </span>type. When the function is called, it will store the joint speed in degrees per second in the variable <span class="s23">speed</span>.<br/>The member function setJointSpeed() can be used to set the angular speed of of a joint for a Linkbot. The syntax of the member function setJointSpeed() is as follows.</p><p class="s23">robot.setJointSpeed(id,  speed);</p><p>The first argument <span class="s23">id </span>is for a joint number. It should be one of the enumerated values defined in Table 7.1. The second argument <span class="s23">speed </span>is the angular speed to be set for the joint. The minimum joint speed for a Linkbot is <span class="s5">−240 </span>degrees per second. The maximum joint speed for a Linkbot is 240 degrees per second. When the speed is positive, a joint moves in count clockwise direction as shown in Figure 2.2. When the speed is negative, a joint moves in clockwise direction.<br/><span><IMG width="624" height="351" src="chlinkbot/Image_407.png"/></span></p><p class="s25">/* File: setjointspeed.ch</p><p class="s25">Get  and set a joint  speed.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">speed;   </span><span style=" color: #009800;">// the joint speed in  degrees per second</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* get the joint  speed for joint 1 */</p><p class="s17">robot.getJointSpeed(JOINT1, speed);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Joint1 speed  = %.2lf   degrees per second\n&quot;</span>,   speed);</p><p class="s25">/* set the joint speed for joint 1 to  90 degrees per  second */</p><p class="s17">speed  = 90;</p><p class="s17">robot.setJointSpeed(JOINT1, speed);</p><p class="s25">/* rotate joint 1 by 360 degrees  */</p><p class="s17">robot.moveJoint(JOINT1, 360);</p><p class="s25">/* get the joint  speed for joint 1 */</p><p class="s17">robot.getJointSpeed(JOINT1, speed);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Joint1 speed  = %.2lf   degrees per second\n&quot;</span>,   speed);</p><p>Program  7.7:   Getting  and  setting  a  joint  speed  in  degrees  per  second  using  getJointSpeed()   and<br/>setJointSpeed().<br/>For example, when Program 7.7 is executed, the following output will be displayed in the input/output pane.<br/><span><IMG width="624" height="29" src="chlinkbot/Image_408.png"/></span></p><p class="s17">Joint1 speed  = 45.00  degrees per second</p><p class="s17">Joint1 speed  = 90.00  degrees per second</p><p>94<br/>7.5.  Get and Set Joint Speeds<br/>Chapter 7.  Writing Programs to Control a Single Linkbot<br/>The first function call<br/><span><IMG width="624" height="15" src="chlinkbot/Image_409.png"/></span></p><p class="s17">robot.getJointSpeed(JOINT1, speed);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_410.jpg"/></span><br/>obtains the default speed of 45 degrees per second for joint 1. When the function getJointSpeed()  is called the second time, the joint speed of 90 degrees per second, set by the function setJointSpeed(), will be obtained.<br/>Do Exercise 1 on page 99.</p><p class="s3">7.5.2   Get and Set Joint Speeds</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_411.png"/></span><br/>The member functions getJointSpeed()  and setJointSpeed() can be used to get and set one joint speed at a time, respectively. You can call the function multiple times to set and get joint speeds for different joints.<br/>However, you can call the member function getJointSpeeds() once to obtain angular speeds for both joints of a Linkbot. The syntax of the member function getJointSpeeds() is as follows.</p><p class="s23">robot.getJointSpeeds(speed1,  NaN, speed3);</p><p>The function uses two arguments <span class="s23">speed1 </span>and <span class="s23">speed3 </span>to store the joint speeds for joints 1 and 3, respec- tively.<br/>Similarly, you can call the member function setJointSpeeds() once to set angular speeds for two joints of a Linkbot-I. The syntax of the member function setJointSpeeds() is as follows.</p><p class="s23">robot.setJointSpeeds(speed1,  NaN, speed3);</p><p>The function has two arguments <span class="s23">speed1 </span>and <span class="s23">speed3 </span>to set the angular speeds for joints 1 and 3, respec- tively.<br/><span><IMG width="624" height="322" src="chlinkbot/Image_412.png"/></span></p><p class="s25">/* File: setjointspeeds.ch</p><p class="s25">Get  and set joint speeds.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">speed1,  speed3;   </span><span style=" color: #009800;">//  the joint  speeds</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* set the joint speed 75 degrees/second  for all joints */</p><p class="s17">speed1  = 75;</p><p class="s17">speed3  = 75;</p><p class="s17">robot.setJointSpeeds(speed1, <span style=" color: #FF1CCE;">NaN</span>,   speed3);</p><p class="s25">/* move  the joint  1 by 180 degrees  and joint 3 by -180  degrees  */</p><p class="s17">robot.move(180, <span style=" color: #FF1CCE;">NaN</span>,   -180);</p><p class="s25">/* get the joint  speed speed for  all joints */</p><p class="s17">robot.getJointSpeeds(speed1, <span style=" color: #FF1CCE;">NaN</span>,   speed3);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Joint1 speed  = %.2lf   degrees per second\n&quot;</span>,   speed1);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Joint3 speed  = %.2lf   degrees per second\n&quot;</span>,   speed3);</p><p>Program  7.8:   Getting  and  setting  joint  speeds  in  degrees  per  second  using  getJointSpeeds()   and<br/>setJointSpeeds().<br/>95<br/>7.5.  Get and Set Joint Speeds<br/>Chapter 7.  Writing Programs to Control a Single Linkbot<br/>For example, when Program 7.8 is executed, the following output will be displayed in the input/output pane.<br/><span><IMG width="624" height="29" src="chlinkbot/Image_413.png"/></span></p><p class="s17">Joint1 speed  = 75.00  degrees per second</p><p class="s17">Joint3 speed  = 75.00  degrees per second</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_414.jpg"/></span><br/>Do Exercises 2 and 3 on page 99.</p><p class="s3">7.5.3   Get and Set a Joint Speed Ratio</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_415.png"/></span><br/>The joint speed of a Linkbot can be specified not only in degrees per second, but also in a ratio. A <span class="s20">speed ratio </span>of a joint is the percentage of the maximum joint speed. Its value ranges from <span class="s5">−1 </span>to 1. In other words, if the ratio is set to 0.5, the joint will turn at 50% of its maximum angular velocity while moving continuously or moving to a new goal position. The member function getJointSpeedRatio() can be used to obtain the speed ratio of a joint of a Linkbot-I. The syntax of the member function getJointSpeedRatio() is as follows.</p><p class="s23">robot.getJointSpeedRatio(id, ratio);</p><p>The first argument <span class="s23">id </span>is for a joint number. It should be one of the enumerated values defined in Table 7.1. The second argument <span class="s23">ratio </span>should be a variable of <span style=" color: #F00;">double </span>type. When the function is called, it will store the speed ratio of the joint in the range of <span class="s5">−1 </span>to 1.<br/>The member function setJointSpeedRatio() can be used to set the speed ratio of a joint for a Linkbot. The syntax of the member function setJointSpeedRatio() is as follows.</p><p class="s23">robot.setJointSpeedRatio(id, ratio);</p><p>The first argument <span class="s23">id </span>is for a joint number. It should be one of the enumerated values defined in Table 7.1. The second argument <span class="s23">ratio </span>is the speed ratio to be set for the joint. The minimum speed ratio for a joint of a Linkbot is <span class="s5">−1</span>. The maximum speed ratio for a joint of a Linkbot is 1.<br/>96<br/>7.5.  Get and Set Joint Speeds<br/>Chapter 7.  Writing Programs to Control a Single Linkbot<br/><span><IMG width="624" height="424" src="chlinkbot/Image_416.png"/></span></p><p class="s25">/* File: setjointspeedratio.ch</p><p class="s25">Get  and set joint speed ratio.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">ratio;    </span><span style=" color: #009800;">// joint speed ratio</span></p><p class="s33">double <span style=" color: #000;">speed;   </span><span style=" color: #009800;">// the joint speed in  degrees per second</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s17"><span style=" color: #009800;">/* get the joint  speed ratio for joint 1 */ </span>robot.getJointSpeedRatio(JOINT1, ratio); <span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Joint1 speed ratio =  %lf\n&quot;</span>,   ratio);</p><p class="s25">/* set the joint speed ratio for joint 1 to  0.75  (75% of  the  max speed).      */</p><p class="s17">ratio =  0.75;</p><p class="s17">robot.setJointSpeedRatio(JOINT1, ratio);</p><p class="s25">/* rotate joint 1 by 180 degrees  */</p><p class="s17">robot.moveJoint(JOINT1, 180);</p><p class="s17"><span style=" color: #009800;">/* get the joint  speed ratio for joint 1 */ </span>robot.getJointSpeedRatio(JOINT1, ratio); <span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Joint1 speed ratio =  %lf\n&quot;</span>,   ratio);</p><p class="s25">/* get the joint  speed for joint 1 */</p><p class="s17">robot.getJointSpeed(JOINT1, speed);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Joint1 speed = %lf  degrees  per  second\n&quot;</span>,   speed);</p><p>Program 7.9: Getting and setting a joint speed ratio using getJointSpeedRatio() and setJointSpeedRatio().<br/>For example, when Program 7.9 is executed, the following output will be displayed in the input/output pane.<br/><span><IMG width="624" height="44" src="chlinkbot/Image_417.png"/></span></p><p class="s17">Joint1  speed ratio =  0.375000</p><p class="s17">Joint1  speed ratio =  0.750000</p><p class="s17">Joint1 speed = 90.000000  degrees  per  second</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_418.jpg"/></span><br/>Do Exercise 4 on page 100.</p><p class="s3">7.5.4   Get and Set Joint Speed Ratios</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_419.png"/></span><br/>The member functions getJointSpeedRatio() and setJointSpeedRatio() can be used to get and set one speed ratio for a joint at a time, respectively. You can call the function multiple times to set and get speed ratios for different joints.<br/>However, you can call the member function getJointSpeedRatios() once to obtain speed ratios for two joints of a Linkbot-I. The syntax of the member function getJointSpeedRatios() is as follows.</p><p class="s23">robot.getJointSpeedRatios(ratio1,  NaN, ratio3);</p><p>The function uses two arguments <span class="s23">ratio1 </span>and <span class="s23">ratio3 </span>to store the joint speeds for joints 1 and 3, respec- tively.<br/>Similarly, you can call the member function setJointSpeedRatios() once to set speed ratios for two joints of a Linkbot. The syntax of the member function setJointSpeedRatios() is as follows.<br/>97<br/>7.5.  Get and Set Joint Speeds<br/>Chapter 7.  Writing Programs to Control a Single Linkbot</p><p class="s23">robot.setJointSpeedRatios(ratio1,  NaN, ratio3);</p><p>The function uses two arguments <span class="s23">ratio1 </span>and <span class="s23">ratio3 </span>to set the angular speeds for joints 1 and 3, respec- tively.<br/><span><IMG width="624" height="322" src="chlinkbot/Image_420.png"/></span></p><p class="s25">/* File: setjointspeedratios.ch</p><p class="s25">Get  and set joint speed ratios for all joints.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">ratio1, ratio3;</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* set the joint speed ratio for all joints  to 0.75 */</p><p class="s17">ratio1 =  0.75;</p><p class="s17">ratio3 =  0.75;</p><p class="s17">robot.setJointSpeedRatios(ratio1, <span style=" color: #FF1CCE;">NaN</span>,   ratio3);</p><p class="s25">/* rotate joints 1 and 3 by 180 degrees  */</p><p class="s17">robot.move(180, <span style=" color: #FF1CCE;">NaN</span>,   180);</p><p class="s17"><span style=" color: #009800;">/* get the joint  speed ratio for all joints */ </span>robot.getJointSpeedRatios(ratio1, <span style=" color: #FF1CCE;">NaN</span>,   ratio3); <span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Joint1 speed ratio =  %.2lf\n&quot;</span>,   ratio1); <span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Joint3 speed ratio =  %.2lf\n&quot;</span>,   ratio3);</p><p>Program 7.10: Getting and setting joint speed ratios using getJointSpeedRatios() and setJointSpeedRa- tios().<br/>For example, when Program 7.10 is executed, the following output will be displayed in the input/output pane.<br/><span><IMG width="624" height="29" src="chlinkbot/Image_421.png"/></span></p><p class="s17">Joint1  speed ratio =  0.75</p><p class="s17">Joint3  speed ratio =  0.75</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_422.jpg"/></span><br/>Do Exercises 5 and 6 on page 100.</p><p class="s3">7.5.5   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_423.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.getJointSpeed(JOINT1, speed);</p><p>to get the joint speed in the second argument for a specified joint in the first argument.<br/>2. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.setJointSpeed(JOINT1, speed);</p><p>to set the joint speed in the second argument for a specified joint in the first argument.<br/>3. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function<br/>98<br/>7.5.  Get and Set Joint Speeds<br/>Chapter 7.  Writing Programs to Control a Single Linkbot</p><p class="s23">robot.getJointSpeeds(speed1,  NaN, speed3);</p><p>to get the joint speeds for two joints of a Linkbot-I.<br/>4. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.setJointSpeeds(speed1,  NaN, speed3);</p><p>to set the joint speeds for two joints of a Linkbot-I.<br/>5. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.getJointSpeedRatio(JOINT1, ratio);</p><p>to get the speed ratio in the second argument for a specified joint in the first argument.<br/>6. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.setJointSpeedRatio(JOINT1, ratio);</p><p>to set the speed ratio in the second argument for a specified joint in the first argument.<br/>7. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.getJointSpeedRatios(ratio1,  NaN, ratio3);</p><p>to get the speed ratios for two joints of a Linkbot-I.<br/>8. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.setJointSpeedRatios(ratio1,  NaN, ratio3);</p><p>to set the speed ratios for two joints of a Linkbot-I.</p><p class="s3">7.5.6   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_424.png"/></span><br/>angular  speed,  speed  ratio,  robot.getJointSpeed(),   robot.setJointSpeed(),   robot.getJointSpeeds(), robot.setJointSpeeds(),                   robot.getJointSpeedRatio(),                   robot.setJointSpeedRatio(), robot.getJointSpeedRatios(), robot.setJointSpeedRatios().</p><p class="s3">7.5.7   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_425.png"/></span><br/>1. Write a program <span class="s23">setjointspeed2.ch </span>to move joint 1 by 360 degrees at the speed of 45 degrees per second, then move joint 1 by another 360 degrees at the speed of 90 degrees per second.  At the end of the program, get the joint speed for joint 1 using the member function getJointSpeed().<br/>2. Write a program <span class="s23">setjointspeeds2.ch </span>to move joint 1 by 360 degrees and joint 3 by <span class="s5">−360 </span>degrees at the speed of 45 degrees per second. then move joint 1 by 360 degrees and joint 3 by <span class="s5">−360 </span>degrees at the speed of 90 degrees per second.  At the end of the program, get the joint speeds for joints 1 and 3 using the member function getJointSpeed().<br/>99<br/>Chapter 7.  Writing Programs to Control a Single Linkbot<br/>7.6.  <span class="s5">‡ </span>Convert Units of Angles between Degrees and Radians<br/>3. Write a program <span class="s23">setjointspeeds3.ch </span>to set the joint speed for joint 1 to 45 degrees per second and the joint speed for joint 3 to 90 degrees per second. Then, call the function moveTo() as follows:</p><p class="s23">robot.moveTo(360,  NaN, -360);</p><p>What motion would occur? Why?<br/>4. Write a program <span class="s23">setjointspeedratio2.ch </span>to move joint 1 with two full rotations at the max- imum speed set by the member function setJointSpeedRatio(). Then move joint 1 backward one full rotation with a speed ratio of 0.25. At the end of the program, get the joint speed ratio for joint 1 us- ing the member function getJointSpeedRatio(), and get the joint speed for joint 1 using the member function getJointSpeed().<br/>5. Write a program <span class="s23">setjointspeedratios2.ch </span>to move the robot forward with two full rota- tions for both joints 1 and 3 at the maximum speed set by the member function setJointSpeedRa- tios(). Then move the robot backward one full rotation for joints 1 and 3 with a speed ratio of 0.25. At the end of the program, get the joint speed ratios for joints 1 and 3 using the member function getJointSpeedRatios().<br/>6. What are the four different ways to set joint speeds? Which functions would you use to change speeds for multiple joints at once?<br/><span><IMG width="624" height="53" src="chlinkbot/Image_426.png"/></span></p><p class="s21">7.6    <span class="s36">‡ </span>Convert  Units of Angles between Degrees and</p><p class="s21">Radians</p><p>In some applications, joint angles are specified in radians, instead of degrees. However the member functions for movements such as move() expect input angles in degrees. In this case, angles in radians must first be converted to degrees, then passed to the movement functions. Similarly, a joint speed might be specified in radian per second, instead of degrees per second. The angular speed needs to be converted to degrees per second before it is used in the function setJointSpeed().<br/>The function <span style=" color: #FF1CCE;">radian2degree</span>() can be used to convert an angle from radians to degrees with the following syntax.</p><p class="s23">degree  = radian2degree(radian);</p><p>The function <span style=" color: #FF1CCE;">radian2degree</span>() takes an angle in radians as its argument and returns the angle in degrees. The function can also be used to convert a joint speed from radians per second to degrees per second. The function is implemented in Ch with the code</p><p class="s23">double radian2degree(double  radian)</p><p class="s23">{</p><p class="s23">double degree;</p><p class="s23">double pi  =  3.14159265358979323846;</p><p class="s23">degree  = radian * 180 / pi;</p><p class="s23">return  degree;</p><p class="s23">}</p><p>100<br/>Chapter 7.  Writing Programs to Control a Single Linkbot<br/>7.6.  <span class="s5">‡ </span>Convert Units of Angles between Degrees and Radians<br/>How to write a function is beyond the scope of thie book.<br/>If desired, values in radians can be converted to degrees using the counterpart function, <span style=" color: #FF1CCE;">degree2radian</span>()<br/>with the following syntax.</p><p class="s23">radian =  degree2radian(degree);</p><p>The function is implemented as follows.</p><p class="s23">double degree2radian(double degree)</p><p class="s23">{</p><p class="s23">double radian;</p><p class="s23">double pi  =  3.14159265358979323846;</p><p class="s23">radian = degree  * pi / 180;</p><p class="s23">return radian;</p><p class="s23">}</p><p><span><IMG width="624" height="351" src="chlinkbot/Image_427.png"/></span></p><p class="s25">/* File: radian.ch</p><p class="s25">Move the  robot  joint 1 with  speed specified in radians per second.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">angle;</span></p><p class="s33">double <span style=" color: #000;">speed;</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* set the  speed specified in radians  per second */</p><p class="s17">speed  = 1.5;                <span style=" color: #009800;">// speed in  1.5  radians  per second</span></p><p class="s17">speed  = <span style=" color: #FF1CCE;">radian2degree</span>(speed); <span style=" color: #009800;">// convert  the speed to  degrees per second</span></p><p class="s17">robot.setJointSpeed(JOINT1, speed);</p><p class="s25">/* rotate joint 1 by 90 degrees  */</p><p class="s17">robot.moveJoint(JOINT1, 90);</p><p class="s25">/* get the joint  angle in degrees,   display in both degrees and radians  */</p><p class="s17">robot.getJointAngle(JOINT1, angle);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Joint1  angle =  %.2lf   degrees.\n&quot;</span>,   angle);</p><p class="s17">angle  = <span style=" color: #FF1CCE;">degree2radian</span>(angle); <span style=" color: #009800;">//  convert the angle in  degrees to radian</span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Joint1  angle =  %.2lf   radians.\n&quot;</span>,   angle);</p><p>Program 7.11:  Converting units of angles between degrees and radians using <span style=" color: #FF1CCE;">degree2radian</span>() and <span style=" color: #FF1CCE;">ra- dian2degree</span>().<br/>For example, Program 7.11 moves 90 degrees for joint 1 at the speed of 1.5 radian per second. After joint<br/>1 finishes its movement, the joint angle for joint 1 is obtained and displayed in both degrees and radians. The function calls<br/><span><IMG width="624" height="59" src="chlinkbot/Image_428.png"/></span></p><p class="s25">/* set the  speed specified in radians  per second */</p><p class="s17">speed  = 1.5;                                                                                              <span style=" color: #009800;">// speed in  1.5  radians  per second</span></p><p class="s17">speed  = <span style=" color: #FF1CCE;">radian2degree</span>(speed); <span style=" color: #009800;">// convert  the speed to  degrees per second</span></p><p class="s17">robot.setJointSpeed(JOINT1, speed); <span style=" color: #009800;">// set joint in degree per  second</span></p><p>set the joint speed for joint 1 to 1.5 radians per second. The function calls<br/>101<br/>Chapter 7.  Writing Programs to Control a Single Linkbot<br/>7.6.  <span class="s5">‡ </span>Convert Units of Angles between Degrees and Radians<br/><span><IMG width="624" height="73" src="chlinkbot/Image_429.png"/></span></p><p class="s25">/* get the joint  angle in degrees,   display in both degrees and radians  */</p><p class="s17">robot.getJointAngle(JOINT1, angle);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Joint1  angle =  %.2lf   degrees.\n&quot;</span>,   angle);</p><p class="s17">angle  = <span style=" color: #FF1CCE;">degree2radian</span>(angle); <span style=" color: #009800;">//  convert the angle in  degrees to radian</span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Joint1  angle =  %.2lf   radians.\n&quot;</span>,   angle);</p><p>get the joint angle for joint 1 in degrees, display it in both degrees and radians.  When Program 7.11 is executed, the following output will be displayed in the input/output pane.<br/><span><IMG width="624" height="29" src="chlinkbot/Image_430.png"/></span></p><p class="s17">Joint1  angle =  89.88 degrees. Joint1  angle =  1.56 radians.</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_431.jpg"/></span><br/>Do Exercise 1 on page 102.</p><p class="s3">7.6.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_432.png"/></span><br/>1. Call the function <span style=" color: #FF1CCE;">radian2degree</span>() to convert an angle from radians to degrees .</p><p class="s23">degree  = radian2degree(radian);</p><p>2. Call the function <span style=" color: #FF1CCE;">degree2radian</span>() to convert an angle from degrees to radians.</p><p class="s23">radian =  degree2radian(degree);</p><p class="s3">7.6.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_433.png"/></span><br/>radian, <span style=" color: #FF1CCE;">degree2radian</span>(), <span style=" color: #FF1CCE;">radian2degree</span>().</p><p class="s3">7.6.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_434.png"/></span><br/>1. Write a program <span class="s23">radian2.ch </span>to set the joint speeds of both faceplates of a Linkbot to 0.5 radian per second and move the Linkbot’s two faceplates one full rotation. Then, use the member function getJointAngle()  to obtain the joint angle for joint 1. Display the joint angle in degrees and radians.<br/>102<br/><span><IMG width="627" height="8" src="chlinkbot/Image_435.png"/></span><br/><span><IMG width="624" height="3" src="chlinkbot/Image_436.png"/></span></p><p class="s1">CHAPTER 8</p><p><span><IMG width="624" height="3" src="chlinkbot/Image_437.png"/></span></p><p class="s6">Writing Advanced  Programs to</p><p class="s6">Control a Single Linkbot</p><p>In the previous chapters, we learned the member functions for controlling a Linkbot with different charac- teristics. In this chapter, we will learn advanced features of the Linkbot and additional member functions to control the Linkbot for various other applications.</p><p class="s21">8.1    Plot a Curve  Using the Plotting Member Func-</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_438.png"/></span></p><p class="s21">tion data2DCurve()</p><p>A picture is worth a thousand words. Graphical plotting is useful for visualization and understanding many problems in engineering and science.  Graphical plotting can be conveniently accomplished in Ch.  The member function data2DCurve() of the plotting class <span style=" color: #FF1CCE;">CPlot </span>can be used to plot data in arrays of the form</p><p class="s23">plot.data2DCurve(x, y, n);</p><p>The array x stores data for the x-axis, whereas the array y stores data for the y-axis. Both arrays x and y will have the same number of elements, which is specified by the third argument <span class="s23">n </span>of integral value.<br/>Problem Statement:<br/>The time and corresponding positions of a robot are recorded in Table 8.1 from an experiment. Write a program to plot the trajectory of the robot based on this table.<br/>Chapter 8.  Writing Advanced Programs to Control a Single Linkbot<br/>8.1.  Plot a Curve Using the Plotting Member Function data2DCurve()<br/>Table 8.1: Positions of a robot versus time.</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">time (seconds)</p></td><td><p class="s7">0.00</p></td><td><p class="s7">2.00</p></td><td><p class="s7">4.00</p></td><td><p class="s7">6.00</p></td><td><p class="s7">8.00</p></td><td><p class="s7">10.00</p></td></tr><tr><td><p class="s7">position (meters)</p></td><td><p class="s7">1.25</p></td><td><p class="s7">1.75</p></td><td><p class="s7">2.25</p></td><td><p class="s7">2.75</p></td><td><p class="s7">3.25</p></td><td><p class="s7">3.75</p></td></tr></table><p><span><IMG width="625" height="220" src="chlinkbot/Image_439.png"/></span></p><p class="s25">/* File: posplot.ch</p><p class="s25">Plot  the positions  of a robot versus time for  6 points of data in arrays  */</p><p class="s27">#include &lt;chplot.h&gt;     <span style=" color: #009800;">/* for  the function plotxy()   */</span></p><p class="s16">CPlot <span style=" color: #000;">plot;</span></p><p class="s25">/* declare two  sets  of arrays  with 6 points for plottting for p  versus t */</p><p class="s33">double <span style=" color: #000;">t[6] =  {0.00, 2.00, 4.00, 6.00, 8.00, 10.00};</span></p><p class="s33">double <span style=" color: #000;">p[6]  =  {1.25, 1.75, 2.25, 2.75, 3.25, 3.75};</span></p><p class="s17">plot.mathCoord(); plot.title(<span style=" color: #7F007F;">&quot;Position Plot&quot;</span>); plot.label(PLOT_AXIS_X,  <span style=" color: #7F007F;">&quot;time (seconds)&quot;</span>); plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;position (meters)&quot;</span>); plot.data2DCurve(t, p, 6);</p><p class="s17">plot.plotting();</p><p>Program 8.1: Plotting positions versus time for motion of a robot using arrays.<br/><span><IMG width="478" height="275" src="chlinkbot/Image_440.jpg"/></span><br/>Figure 8.1: The plot for the position versus time from Program 8.1.<br/>As seen in Program 8.1, a program generating a plot typically contains the following statements.</p><p class="s23">#include &lt;chplot.h&gt; CPlot plot; plot.mathCoord(); plot.title(&quot;title&quot;);</p><p>104<br/>Chapter 8.  Writing Advanced Programs to Control a Single Linkbot<br/>8.1.  Plot a Curve Using the Plotting Member Function data2DCurve()</p><p class="s23">plot.label(PLOT_AXIS_X, &quot;xlabel&quot;);</p><p class="s23">plot.label(PLOT_AXIS_Y, &quot;ylabel&quot;);</p><p class="s23">/* add  plotting  data here */</p><p class="s23">plot.plotting();</p><p>The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_441.png"/></span></p><p class="s27">#include &lt;chplot.h&gt;</p><p>includes the header file <span style=" color: #998342;">chplot.h</span>. The purpose of including the header file <span style=" color: #998342;">chplot.h </span>is to use the class <span style=" color: #FF1CCE;">CPlot </span>defined in this header file. As we have learned in previous chapters, a class is a user defined data type in Ch. The symbol <span style=" color: #FF1CCE;">CPlot </span>can be used in the same manner as the symbol <span style=" color: #F00;">int </span>or <span style=" color: #F00;">double </span>to declare variables.<br/>The following lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_442.png"/></span></p><p class="s33">double <span style=" color: #000;">t[6] =  {0.00, 2.00, 4.00, 6.00,   8.00, 10.00};</span></p><p class="s33">double <span style=" color: #000;">p[6]  =  {1.25, 1.75, 2.25, 2.75,   3.25, 3.75};</span></p><p>consist of the data that will be plotted. The array with the variable name <span class="s23">t </span>holds six time values, and the array with the variable name <span class="s23">p </span>holds the six corresponding distance values. Both are of type <span style=" color: #F00;">double </span>since we are plotting time and distance, which are typically written as decimal numbers. For generating the plot, <span class="s23">t </span>will be the x-axis values and <span class="s23">p </span>will be the y-axis values.<br/>The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_443.png"/></span></p><p class="s16">CPlot <span style=" color: #000;">plot; </span><span style=" color: #009800;">//plotting class</span></p><p>declares the variable <span class="s23">plot </span>of type <span style=" color: #FF1CCE;">CPlot </span>for plotting. A function associated with a class is called a <span class="s20">member function</span>. For example, the function plot.mathCoord() or mathCoord() is a member function of the class <span style=" color: #FF1CCE;">CPlot</span>.  In Program 8.1, member functions of the class <span style=" color: #FF1CCE;">CPlot </span>are called to process the data for the object <span class="s23">plot</span>.<br/>The function call<br/><span><IMG width="624" height="15" src="chlinkbot/Image_444.png"/></span></p><p class="s17">plot.mathCoord();</p><p>sets proper attributes such as grids for a mathematical coordinate system. The function call</p><p class="s23">plot.title(&quot;title&quot;);</p><p>adds a title to the plot. The argument for this member function is a string. If this member function is not called, the generated plot will have no title. In Program 8.1, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_445.png"/></span></p><p class="s17">plot.title(<span style=" color: #7F007F;">&quot;Position Plot&quot;</span>);</p><p>adds the appropriate label for our intended purpose.<br/>The subsequent two function calls</p><p class="s23">plot.label(PLOT_AXIS_X, &quot;xlabel&quot;);</p><p class="s23">plot.label(PLOT_AXIS_Y, &quot;ylabel&quot;);</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_446.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_447.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_448.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_449.png"/></span><br/>add labels to the x and y coordinates.  The macros PLOT  AXIS X and PLOT  AXIS Y for the x and y axes, respectively, are defined in the header file <span style=" color: #998342;">chplot.h</span>.  The second arguments of the above two member functions are also strings for labels. If these two functions are not called, by default, the label for the x-axis will be “x” whereas the label for the y-axis will be “y”. Thus the lines in Program 8.1<br/><span><IMG width="625" height="30" src="chlinkbot/Image_450.png"/></span></p><p class="s17">plot.label(PLOT_AXIS_X,  <span style=" color: #7F007F;">&quot;time (seconds)&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;position (meters)&quot;</span>);</p><p>add the correct labels for position versus time.<br/>The next line<br/>105<br/>Chapter 8.  Writing Advanced Programs to Control a Single Linkbot<br/>8.1.  Plot a Curve Using the Plotting Member Function data2DCurve()<br/><span><IMG width="624" height="15" src="chlinkbot/Image_451.png"/></span></p><p class="s17">plot.data2DCurve(t, p, 6);</p><p>plots the trajectory of the Linkbot based on the six data points from Table 8.1.<br/>Finally, after the plotting data are added, the program needs to call the function<br/><span><IMG width="624" height="15" src="chlinkbot/Image_452.png"/></span></p><p class="s17">plot.plotting();</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_453.jpg"/></span><br/>to generate a plot. The generated graph is shown in Figure 8.1.<br/>Do Exercise 1 on page 107.<br/>You may read section B.1 in Appendix B to learn how to plot points and lines using member functions of the plotting class <span style=" color: #FF1CCE;">CPlot</span>.</p><p class="s3">8.1.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_454.png"/></span><br/>1. Include the header file <span style=" color: #998342;">chplot.h </span>and use the class <span style=" color: #FF1CCE;">CPlot </span>to declare a variable <span class="s23">plot </span>by the following two statements</p><p class="s23">#include&lt;chplot.h&gt; CPlot plot;</p><p>2. Call the <span style=" color: #FF1CCE;">CPlot </span>member function</p><p class="s23">plot.mathCoord();</p><p>to set the proper attributes for a coordinate system.<br/>3. Call the <span style=" color: #FF1CCE;">CPlot </span>member function</p><p class="s23">plot.title(&quot;title&quot;);</p><p>to add a title to the plot.<br/>4. Call the <span style=" color: #FF1CCE;">CPlot </span>member functions</p><p class="s23">plot.label(PLOT_AXIS_X, &quot;xlabel&quot;);</p><p class="s23">plot.label(PLOT_AXIS_Y, &quot;ylabel&quot;);</p><p>To label the x and y axes of the graph.<br/>5. Call the <span style=" color: #FF1CCE;">CPlot </span>member function</p><p class="s23">plot.data2DCurve(x, y, n);</p><p>to plot n data points stored in arrays x and y.<br/>6. Call the <span style=" color: #FF1CCE;">CPlot </span>member function</p><p class="s23">plot.plotting();</p><p>To generate the final graph.<br/>106<br/>Chapter 8.  Writing Advanced Programs to Control a Single Linkbot<br/>8.2.  Plot Recorded Joint Angles and Time</p><p class="s3">8.1.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_455.png"/></span></p><p class="s28">#include   <span class="s37">&lt;</span>chplot.h<span class="s37">&gt;</span><span style=" color: #000;">,   </span><span style=" color: #FF1CCE;">CPlot</span><span style=" color: #000;">,    plot.mathCoord(),   plot.title(),    plot.label(),    plot.data2DCurve(),</span></p><p>plot.plotting().</p><p class="s3">8.1.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_456.png"/></span><br/>1. When a soccer ball is kicked on the ground, the time and corresponding positions of the soccer ball are recorded in Table 8.2. Write a program <span class="s23">posplot2.ch </span>using the member function data2DCurve() to plot the trajectory of the soccer ball based on the data in the table.<br/>Table 8.2: Positions of a soccer ball versus time.</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s38">time (seconds)</p></td><td><p class="s38">0</p></td><td><p class="s38">0.2</p></td><td><p class="s38">0.4</p></td><td><p class="s38">0.6</p></td><td><p class="s38">0.8</p></td><td><p class="s38">1</p></td><td><p class="s38">1.2</p></td><td><p class="s38">1.4</p></td><td><p class="s38">1.6</p></td><td><p class="s38">1.8</p></td><td><p class="s38">2</p></td><td><p class="s38">2.2</p></td><td><p class="s38">2.4</p></td><td><p class="s38">2.6</p></td><td><p class="s38">2.8</p></td><td><p class="s38">3</p></td></tr><tr><td><p class="s38">position (meters)</p></td><td><p class="s38">0</p></td><td><p class="s38">2.8</p></td><td><p class="s38">5.2</p></td><td><p class="s38">7.2</p></td><td><p class="s38">8.9</p></td><td><p class="s38">10.1</p></td><td><p class="s38">10.9</p></td><td><p class="s38">11.4</p></td><td><p class="s38">11.5</p></td><td><p class="s38">11.1</p></td><td><p class="s38">10.4</p></td><td><p class="s38">9.3</p></td><td><p class="s38">7.8</p></td><td><p class="s38">5.9</p></td><td><p class="s38">3.6</p></td><td><p class="s38">0.9</p></td></tr></table><p class="s21">8.2    Plot Recorded Joint Angles and Time</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_457.png"/></span><br/>In the previous section data is provided to the program specifically. In this section we will learn how to write a program to receive data from a Linkbot-I in real time. The ability to record and process real time data is a powerful tool with multiple applications in robotics. It aids in the understanding of how a robot is functioning so that we can improve upon that robot’s design.  Real time data acquisition also allows a robot to interact with its environment through sensors or user input. An example would be a robot that can receive and respond to voice commands using an audio sensor. Another example would be a robot that can recognize and react to its surroundings using a visual sensor.<br/>Program 8.2 demonstrates how to record and plot real time joint angle data for a Linkbot-I. This plot can be used to show the angle of a Linkbot-I joint at a specific point in time.<br/>Problem Statement:<br/>Write a program <span class="s23">recordangle.ch </span>to rotate joints 1 and 3 of a Linkbot forward for 720 degrees at 45 degrees per second. Record the joint angle for joint 1 with a time interval of 0.1 second. Plot the joint angle versus time.<br/>107<br/>Chapter 8.  Writing Advanced Programs to Control a Single Linkbot<br/>8.2.  Plot Recorded Joint Angles and Time<br/><span><IMG width="624" height="512" src="chlinkbot/Image_458.png"/></span></p><p class="s25">/* File: recordangle.ch</p><p class="s25">Record a joint angle  and time,   plot  the acquired data */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s27">#include &lt;chplot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double  <span style=" color: #000;">speed  = 45;            </span><span style=" color: #009800;">// speed in  45 degrees/seconds</span></p><p class="s33">double <span style=" color: #000;">timeInterval =  0.1; </span><span style=" color: #009800;">// time interval in 0.1 second</span></p><p class="s33">int <span style=" color: #000;">numDataPoints;         </span><span style=" color: #009800;">// number  of data points recorded</span></p><p class="s16">robotRecordData_t <span style=" color: #000;">timedata,  angledata; </span><span style=" color: #009800;">// recorded  time and angles  for joint 1</span></p><p class="s16">CPlot <span style=" color: #000;">plot;                       </span><span style=" color: #009800;">// plotting class</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* set the joints  1 and 3 speed  */ <span style=" color: #000;">robot.setJointSpeed(JOINT1, speed); robot.setJointSpeed(JOINT3, speed);</span></p><p class="s25">/* begin recording  time and angle */</p><p class="s17">robot.recordAngleBegin(JOINT1, timedata, angledata, timeInterval);</p><p class="s25">/* drive the Linkbot-I   forward  by 720 degrees  */</p><p class="s17">robot.driveForward(720);</p><p class="s25">/* end recording  time and angle */</p><p class="s17">robot.recordAngleEnd(JOINT1,  numDataPoints);</p><p class="s25">/* plot the data */</p><p class="s17">plot.mathCoord();</p><p class="s17">plot.title(<span style=" color: #7F007F;">&quot;Angles for joint 1 versus  time&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_X,  <span style=" color: #7F007F;">&quot;time (seconds)&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;angle for  joint1  (degrees)&quot;</span>);</p><p class="s17">plot.data2DCurve(timedata,  angledata,  numDataPoints);</p><p class="s17">plot.plotting();</p><p>Program 8.2: Recording a joint angle using the function recordAngleBegin() and recordAngleEnd().<br/>108<br/>Chapter 8.  Writing Advanced Programs to Control a Single Linkbot<br/>8.2.  Plot Recorded Joint Angles and Time<br/><span><IMG width="480" height="290" src="chlinkbot/Image_459.jpg"/></span><br/>Figure 8.2: The plot for the joint angle versus time from Program 8.2.<br/>Program 8.2 records the angle of joint1 of a Linkbot-I every 0.1 seconds. It then uses the <span style=" color: #FF1CCE;">CPlot </span>member functions demonstrated in Program 8.1 to plot the recorded joint angles versus time for this Linkbot.  In order to collect and plot the angle data from the Linkbot-I, we need to declare a few extra variables in the program. The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_460.png"/></span></p><p class="s33">double <span style=" color: #000;">timeInterval =  0.1;  </span><span style=" color: #009800;">//time   interval in 0.1 second</span></p><p>specifies that we want to measure the angle every 0.1 second after the robot starts to move. The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_461.png"/></span></p><p class="s33">int <span style=" color: #000;">numDataPoints;   </span><span style=" color: #009800;">//number   of data points recorded</span></p><p>declares an <span style=" color: #F00;">int </span>variable to keep hold the number of data points the program has collected. The following line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_462.png"/></span></p><p class="s16">robotRecordData_t <span style=" color: #000;">timedata,  angledata;     </span><span style=" color: #009800;">//recorded   time and angles  for joint 1</span></p><p><span><IMG width="5" height="1" src="chlinkbot/Image_463.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_464.png"/></span><br/>creates two variables of type <span style=" color: #FF1CCE;">robotRecordData t</span>. This is a special type of array defined in the header file <span style=" color: #998342;">linkbot.h  </span>that can be used when we don’t know ahead of time how many values we will be recording. Variables of type <span style=" color: #FF1CCE;">robotRecordData t </span>dynamically grow to the size that you need while the program is running. These two variables, <span class="s23">timedata </span>and <span class="s23">angledata</span>, will be used to keep track of the data points while the Linkbot-I is in motion.  To record angle data while the robot is moving, we need to use two new <span style=" color: #FF1CCE;">CLinkbotI </span>member functions recordAngleBegin() and recordAngleEnd(). The general syntax of the <span style=" color: #FF1CCE;">CLinkbotI </span>member function recordAngleBegin() is as follows</p><p class="s23">robot.recordAngleBegin(id, timedata, angledata, timeInterval);</p><p>The argument <span class="s23">id </span>specifies the joint from which you wish to record data. The argument <span class="s23">timedata </span>is used to record time values in seconds elapsed since the Linkbot-I starts to move, and argument <span class="s23">angledata </span>is used to record the angle values in degrees. The argument <span class="s23">timeInterval </span>specifies the amount of time between each recorded measurement. In Program 8.2 the line<br/><span><IMG width="625" height="15" src="chlinkbot/Image_465.png"/></span></p><p class="s17">robot.recordAngleBegin(JOINT1, timedata, angledata, timeInterval);</p><p>109<br/>Chapter 8.  Writing Advanced Programs to Control a Single Linkbot<br/>8.2.  Plot Recorded Joint Angles and Time<br/>starts the process of recording the angle of joint 1 every 0.1 seconds. It is important to include this statement before the Linkbot-I starts moving, so that the program does not miss any data points.<br/>After the Linkbot-I has stopped moving, we must use recordAngleEnd() to stop the recording of data. The general syntax of the function recordAngleEnd() is as follows</p><p class="s23">robot.recordAngleEnd(id,  numDataPoints);</p><p>The argument <span class="s23">id </span>is the joint you wish to stop recording, and the argument <span class="s23">numDataPoints </span>keeps track of the total number of data points that were collected while the Linkbot-I was moving.<br/>In Program 8.2, after the Linkbot-I has finished moving forward 720 degrees, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_466.png"/></span></p><p class="s17">robot.recordAngleEnd(JOINT1,  numDataPoints);</p><p>stops the recording of data after the Linkbot-I has stopped moving forward. <span class="s23">numDataPoints </span>will now hold the total number of data points that were collected while the Linkbot-I was in motion.  In addition, <span class="s23">angledata </span>will hold all the angle values that were recorded while the Linkbot-I was in motion, and <span class="s23">timedata </span>will hold all the corresponding time values.<br/>When a joint rotates at 45 degrees per second, the relation between the joint angle (<span class="s5">s</span>) and time (<span class="s5">t</span>) in<br/>Figure 8.2 can be formulated by the following linear equation.</p><p class="s5">s = 45t                                                                <span class="p">(8.1)</span></p><p>If we change the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_467.png"/></span></p><p class="s17">robot.driveForward(720);</p><p>in Program 8.2 to<br/><span><IMG width="624" height="15" src="chlinkbot/Image_468.png"/></span></p><p class="s17">robot.driveBackward(720);</p><p>to rotate the joints 1 and 3 in the opposite direction. The plot generated by such a program <span class="s23">recordangleneg.ch </span>is shown in Figure 8.3. The relation between the joint angle (<span class="s5">s</span>) and time (<span class="s5">t</span>) in Figure 8.3 can be formulated by the following linear equation.</p><p class="s5">s = −45t                                                               <span class="p">(8.2)</span></p><p><span><IMG width="480" height="290" src="chlinkbot/Image_469.jpg"/></span><br/>Figure 8.3: The plot for the joint angle versus time for a Linkbot moving in the negative direction.<br/>110<br/>Chapter 8.  Writing Advanced Programs to Control a Single Linkbot<br/>8.2.  Plot Recorded Joint Angles and Time<br/><span><IMG width="23" height="16" src="chlinkbot/Image_470.jpg"/></span><br/>Do Exercises 1 and 2 on page 111.</p><p class="s3">8.2.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_471.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_472.png"/></span><br/>1. Use the data type <span style=" color: #FF1CCE;">robotRecordData t </span>to record data points when you don’t know ahead of time how many points you will get.<br/>2. Call the <span style=" color: #FF1CCE;">CPlot </span>member function</p><p class="s23">robot.recordAngleBegin(id, timedata, angledata, timeInterval);</p><p>when you want to begin recording joint angle data from a Linkbot-I.<br/>3. Call the <span style=" color: #FF1CCE;">CPlot </span>member function</p><p class="s23">robot.recordAngleEnd(id,  numDataPoints);</p><p>when you want to stop recording joint angle data from a Linkbot-I.</p><p class="s3">8.2.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_473.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_474.png"/></span></p><p class="s11">robotRecordData t<span style=" color: #000;">, robot.recordAngleBegin(), robot.recordAngleEnd().</span></p><p class="s3">8.2.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_475.png"/></span><br/>1. Write a program <span class="s23">recordangle2.ch </span>to record the joint angle for joint 1 of a Linkbot with a time interval of 0.1 second while the Linkbot rolls forward for 360 degrees at 30 degrees per second. Plot the joint angle versus time as shown in the figure below. What is the equation for the linear relation shown in the figure?<br/><span><IMG width="480" height="290" src="chlinkbot/Image_476.jpg"/></span><br/>111<br/>Chapter 8.  Writing Advanced Programs to Control a Single Linkbot<br/>8.3.  Move Joints with a Specified Time<br/>2. Write a program <span class="s23">recordangle3.ch </span>to record the joint angle for joint 1 of a Linkbot-I with a time interval of 0.1 second when the robot drives forward by rotating joints by 360 degrees and drives backward by 360 degrees. Plot the joint angle versus time as shown in the figure below.<br/><span><IMG width="624" height="53" src="chlinkbot/Image_477.png"/></span><br/><span><IMG width="482" height="294" src="chlinkbot/Image_478.jpg"/></span></p><p class="s21">8.3    Move Joints with a Specified Time</p><p>Sometimes it may be necessary to move joints of a robot for a specified time. The member function move- Time() can be used for such a purpose. The general syntax of this function is</p><p class="s23">robot.moveTime(seconds);</p><p>The argument, <span class="s23">seconds</span>,  defines how long each joint will be moved in seconds.  The direction of the motion for each joint is determined by the speed of the joint. If the speed is positive, the joint will move in the counter clockwise direction. If the speed is negative, the joint will move in the clockwise direction.<br/><span><IMG width="624" height="234" src="chlinkbot/Image_479.png"/></span></p><p class="s25">/* File: movetime.ch</p><p class="s25">Move a robot  for  a specified time.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">time=5;     </span><span style=" color: #009800;">//  five seconds</span></p><p class="s33">double <span style=" color: #000;">speed=90; </span><span style=" color: #009800;">// 90 degrees  per  second</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* set the joint speeds for  all joints  to 90 degrees  per  second */</p><p class="s17">robot.setJointSpeeds(speed, <span style=" color: #FF1CCE;">NaN</span>,   speed);</p><p class="s25">/* rotate joints 1  and 3  for the specified ’time’,   based on the  speed */</p><p class="s17">robot.moveTime(time);</p><p>Program 8.3: Moving a joint with a specified time using moveTime().<br/>112<br/>Chapter 8.  Writing Advanced Programs to Control a Single Linkbot<br/>8.3.  Move Joints with a Specified Time<br/>Program 8.3 sets the speeds of joints 1 and 3 to 90 degrees per second using the function setJointSpeeds(), which was introduced in Program 7.8.<br/>The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_480.png"/></span></p><p class="s17">robot.moveTime(time);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_481.jpg"/></span><br/>moves a Linkbot-I for 5 seconds at the speed set by setJointSpeeds().  Note that the speeds for both joints are positive, the robot will spin and not drive forward.<br/>Do Exercise 1 on page 114.<br/>It is also possible to move only one joint, using the <span style=" color: #FF1CCE;">CLinkbotI </span>member function moveJointTime(). The general syntax of this function is</p><p class="s23">robot.moveJointTime(id, seconds);</p><p>The first argument <span class="s23">id </span>specifies which joint you want to move. The second argument, <span class="s23">seconds</span>, indicates how long the joint will move in seconds.<br/><span><IMG width="624" height="234" src="chlinkbot/Image_482.png"/></span></p><p class="s25">/* File: movejointtime.ch</p><p class="s25">Move a  joint  in a specified time.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">time=5;     </span><span style=" color: #009800;">//  five seconds</span></p><p class="s33">double <span style=" color: #000;">speed=90; </span><span style=" color: #009800;">// 90 degrees  per  second</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* set the joint speed for joint 1 to  90 degrees per  second */</p><p class="s17">robot.setJointSpeed(JOINT1, speed);</p><p class="s25">/* rotate joint 1 for  the specified  ’time’   */</p><p class="s17">robot.moveJointTime(JOINT1, time);</p><p>Program 8.4: Moving a joint with a specified time using moveJointTime().<br/>Program 8.4 works the same way as Program 8.3 except that the last line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_483.png"/></span></p><p class="s17">robot.moveJointTime(JOINT1, time);</p><p>moves only joint 1 for 5 seconds, at 90 degrees per second.<br/>In the program <span class="s23">movejointtimeneg.ch </span>distributed for the curriculum the joint speed is changed to</p><p class="s5">−90 <span class="p">degrees per second by the statement</span></p><p><span><IMG width="624" height="15" src="chlinkbot/Image_484.png"/></span></p><p class="s17">robot.setJointSpeed(JOINT1, -speed);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_485.jpg"/></span><br/>joint 1 of the robot will move in clockwise direction instead of counter clockwise direction.<br/>Do Exercise 2 3 on page 114.</p><p class="s3">8.3.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_486.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.moveTime(seconds);</p><p>113<br/>8.4.  Hold the Joints At Exit<br/>Chapter 8.  Writing Advanced Programs to Control a Single Linkbot<br/>to move joints for a number of seconds indicated by the argument <span class="s23">seconds</span>.<br/>2. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.moveJointTime(id, seconds);</p><p>to move a joint specified by the argument <span class="s23">id </span>for the number of seconds indicated by the argument</p><p class="s23">seconds<span class="p">.</span></p><p class="s3">8.3.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_487.png"/></span><br/>robot.moveTime(), robot.moveJointTime().</p><p class="s3">8.3.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_488.png"/></span><br/>1. Write a program <span class="s23">movetime2.ch </span>to rotate joints 1 and 3 of a Linkbot-I in opposite directions at the speed of 45 degrees per second for 8 seconds. What is the resulting motion?<br/>2. Write a program <span class="s23">movejointtime2.ch </span>to rotate joint 1 in the positive direction (counter clock- wise) at the speed of 45 degrees per second for 8 seconds.<br/>3. Write a program <span class="s23">movejointtimeneg2.ch </span>to rotate joint 1 in the negative direction (clockwise)<br/>at the speed of 45 degrees per second for 8 seconds.</p><p class="s21">8.4    Hold the Joints At Exit</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_489.png"/></span><br/>By default, when the program finishes, all joints are relaxed. When joints are relaxed, depending on how the Linkbot is positioned, the joint angles can be different after the program finishes its execution. In some applications, especially for a robot configured with multiple Linkbots, you may want to hold the pose of the robot after the program exits. You can hold all joint angles of a Linkbot at the exit of a program by calling the function holdJointsAtExit(). The general syntax of this function is</p><p class="s23">robot.holdJointsAtExit();</p><p><span><IMG width="624" height="219" src="chlinkbot/Image_490.png"/></span></p><p class="s25">/* File: holdjointsatexit.ch</p><p class="s25">Hold the  joints  at the exit.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">angle=360;       </span><span style=" color: #009800;">// angle for rotation</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* drive forward for ’angle’   */</p><p class="s17">robot.driveForward(angle);</p><p class="s25">/* Hold the joints at exit .*/</p><p class="s17">robot.holdJointsAtExit();</p><p>Program 8.5: Holding the joints after the exit using the function holdJointsAtExit().<br/>114<br/>Chapter 8.  Writing Advanced Programs to Control a Single Linkbot<br/>8.5.  Measure the Clock Time Using the Member Function systemTime()<br/>Program 8.5 moves a Linkbot-I forward 360 degrees. The last line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_491.png"/></span></p><p class="s17">robot.holdJointsAtExit();</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_492.jpg"/></span><br/>holds the position of the Linkbot’s motors in its final position.<br/>Do Exercises 1 and 2 on page 115.</p><p class="s3">8.4.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_493.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.holdJointsAtExit();</p><p>to hold the final position of a Linkbot-I.</p><p class="s3">8.4.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_494.png"/></span><br/>robot.holdJointsAtExit().</p><p class="s3">8.4.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_495.png"/></span><br/>1. Write a program <span class="s23">holdjointsatexit2.ch </span>to rotate joint 3 to <span class="s5">45 </span>degrees (without holding the joints at the exit). After the program is run, try to rotate joint 3 manually.<br/>2. Modify   the   program   <span class="s23">holdjointsatexit2.ch  </span>in   Exercise   1   as   a   new    program <span class="s23">holdjointsatexit3.ch</span>, which holds all the joint at exit. After the program is run, try to rotate joint 3 manually.<br/><span><IMG width="624" height="53" src="chlinkbot/Image_496.png"/></span></p><p class="s21">8.5    Measure the Clock Time Using the Member Func-</p><p class="s21">tion systemTime()</p><p>You can time the motion of a Linkbot-I using the member function systemTime(). The syntax of the member function systemTime() is as follows.</p><p class="s23">robot.systemTime(time);</p><p>This member function passes the time in seconds since 00:00:00 January 1, 1970 on Mac OS X and Linux systems. In Windows this function returns the time in seconds since the system last started. Program 8.6 gives an example of using systemTime() to time a Linkbot’s motion for a specified joint angle and joint speed.<br/>Problem Statement:<br/>The joint 1 of a Linkbot rotates two full rotations for 720 degrees at the speed of 90 degrees per second. Write a program <span class="s23">time.ch </span>to measure the time for the Linkbot to complete the motion.<br/>115<br/>Chapter 8.  Writing Advanced Programs to Control a Single Linkbot<br/>8.5.  Measure the Clock Time Using the Member Function systemTime()<br/><span><IMG width="624" height="337" src="chlinkbot/Image_497.png"/></span></p><p class="s25">/* File: time.ch</p><p class="s25">Get the time for  a robot to finish  its motion */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double  <span style=" color: #000;">speed  = 90;            </span><span style=" color: #009800;">// speed in  degrees/second</span></p><p class="s33">double <span style=" color: #000;">angle  = 720;               </span><span style=" color: #009800;">// joint angle</span></p><p class="s33">double <span style=" color: #000;">time1,  time2,  elapsedtime;       </span><span style=" color: #009800;">// system time and elapsed  time</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/*   set the joint speed for joint 1   */</p><p class="s17">robot.setJointSpeed(JOINT1, speed);</p><p class="s17">robot.systemTime(time1);    <span style=" color: #009800;">// get the system time since  the system starts </span>robot.moveJoint(JOINT1, angle);  <span style=" color: #009800;">// rotate joint 1 by ’angle’ </span>robot.systemTime(time2);    <span style=" color: #009800;">// get the system time since  the system starts </span>elapsedtime = time2  - time1;    <span style=" color: #009800;">//  Calculate the time for the motion.</span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   motion for  the robot took %.2lf   seconds\n&quot;</span>,   elapsedtime);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   motion should take  %.2lf   seconds in theory.\n&quot;</span>,   angle/speed);</p><p>Program 8.6: Get the time for a Linkbot to complete a motion with specified joint angle and joint speed using the member function systemTime().<br/>Program 8.6 declares three variables of type <span style=" color: #F00;">double</span>: <span class="s23">time1</span>, <span class="s23">time2</span>, and <span class="s23">elapsedtime</span>, which will be used to time the motion of the Linkbot-I. The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_498.png"/></span></p><p class="s17">robot.systemTime(time1); <span style=" color: #009800;">// the system time since  the system starts</span></p><p>records the system time in seconds immediately before joint 1 of the Linkbot-I starts moving. Then the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_499.png"/></span></p><p class="s17">robot.systemTime(time2); <span style=" color: #009800;">// the system time since  the system starts</span></p><p>records the system time in seconds immediately after joint 1 of the Linkbot-I stops moving. The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_500.png"/></span></p><p class="s17">elapsedtime = time2  - time1; <span style=" color: #009800;">//  Calculate the time for the motion.</span></p><p>calculates the difference between the end time and the start time. This difference gives the total actual time joint 1 of the Linkbot-I was in motion.<br/>The last two lines of the program displays the actual <span class="s23">elapsedtime </span>that was calculated using systemTime(), as well as the theoretical time. The theoretical time of a Linkbot-I’s motion as a function of joint angle and joint speed is defined as<br/><span><IMG width="228" height="1" src="chlinkbot/Image_501.png"/></span></p><p class="s5">theoretical time =       (joint angle in degrees)</p><p class="s5">(joint speed in degrees per second)</p><p>When Program 8.6 is executed, the following output will be displayed in the input/output pane<br/><span><IMG width="625" height="30" src="chlinkbot/Image_502.png"/></span></p><p class="s17">The motion  for  the Linkbot took 8.14 seconds. The motion should take  8.00  seconds in theory.</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_503.jpg"/></span><br/>Do Exercises 1 and 2 on page 117.<br/>116<br/>Chapter 8.  Writing Advanced Programs to Control a Single Linkbot<br/>8.5.  Measure the Clock Time Using the Member Function systemTime()</p><p class="s3">8.5.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_504.png"/></span><br/>1. Call the member function</p><p class="s23">robot.systemTime(time);</p><p>to get the system time in seconds since the system was last started.</p><p class="s3">8.5.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_505.png"/></span><br/>actual time, theoretical time, robot.systemTime().</p><p class="s3">8.5.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_506.png"/></span><br/>1. Write a program <span class="s23">time2.ch </span>to drive forward for 450 degrees at the speed of 45 degrees per second.<br/>Use the member function systemTime() to measure the time for the Linkbot to complete its motion.<br/>2. Based on program <span class="s23">movejointtime2.ch </span>developed in Exercise 2 on page 114, write a program <span class="s23">time3.ch </span>to drive joints 1 and 3 forward at the speed of 45 degrees per second for 8  seconds using the function moveTime(). Use the member function systemTime() to measure the time for the Linkbot to complete its motion.<br/>117<br/><span><IMG width="627" height="8" src="chlinkbot/Image_507.png"/></span><br/><span><IMG width="624" height="3" src="chlinkbot/Image_508.png"/></span></p><p class="s1">CHAPTER 9</p><p><span><IMG width="624" height="3" src="chlinkbot/Image_509.png"/></span></p><p class="s6">Controlling a Linkbot-I as a</p><p class="s6">Two-Wheel Robot</p><p>In the previous chapters, we learned the member functions of the <span style=" color: #FF1CCE;">CLinkbotI </span>class for controlling two joints of a Linkbot-I with different characteristics. A Linkbot-I can be configured as a two-wheel robot as shown in Figure 9.1. In this configuration, joints 1 and 3 are attached with two wheels. In this Chapter, we will learn various programming features on how to control a Linkbot-I as a two-wheel robot.<br/><span><IMG width="241" height="161" src="chlinkbot/Image_510.jpg"/></span><br/>Figure 9.1: A two-wheel robot.<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.1.  Move a Two-Wheel Robot with the Specified Distance</p><p class="s21">9.1    Move a Two-Wheel  Robot  with  the  Specified</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_511.png"/></span></p><p class="s21">Distance</p><p class="s3">9.1.1   Move a Two-Wheel Robot with the Specified Speed, Joint Angles, and Distance</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_512.png"/></span><br/>The <span style=" color: #FF1CCE;">CLinkbotI </span>class includes two additional member functions that can be used for the two-wheel Linkbot- I configuration. The first of these two member functions is setSpeed(), which can be used to set both joints 1 and 3 of a Linkbot-I to the desired speed with the specified wheel radius. The general syntax of this function is</p><p class="s23">robot.setSpeed(speed, radius);</p><p>The argument <span class="s23">speed </span>is the desired vehicle speed in distance/second. The argument <span class="s23">radius </span>is the radius of the currently attached wheels, which should have the same units of distance as the argument <span class="s23">speed</span>. For instance, if <span class="s23">speed </span>is in inches/second, then <span class="s23">radius </span>should be in inches. If the speed is positive, the robot will drive forward. If the speed is zero, the robot will not move. If the speed is negative, the robot will drive backward.<br/>The second member function is driveDistance(),  which can be used to drive a Linkbot-I a desired distance using a specific wheel radius. The general syntax of this function is</p><p class="s23">robot.driveDistance(distance, radius);</p><p>where <span class="s23">distance </span>specifies how far you want the Linkbot-I to move and <span class="s23">radius </span>specifies the radius of the currently attached wheels. The values of both <span class="s23">distance </span>and <span class="s23">radius </span>should have the same unit.<br/>The member functions setSpeed() and driveDistance() can be used in combination to drive a Linkbot-I<br/>with a specified speed and distance, as demonstrated solving the following problem.<br/>Problem Statement:<br/>A Linkbot-I is configured as a two-wheel robot with wheels attached to joints 1 and 3.  The radius of each wheel is 1.75 inches.  Write a program <span class="s23">setspeed.ch </span>to drive forward 360 degrees using the member function driveForward(), drive backward 360 degrees using the member function driveBackward(), and then drive forward 5 inches using the member function driveDistance().  For these three motions, the robot drives at the speed of 2.5 inches per second.<br/>119<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.1.  Move a Two-Wheel Robot with the Specified Distance<br/><span><IMG width="624" height="337" src="chlinkbot/Image_513.png"/></span></p><p class="s25">/* File: setspeed.ch</p><p class="s25">Set  the speed of  a two-wheel robot.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">radius=1.75;  </span><span style=" color: #009800;">// the radius  of the two wheels of the robot in  inches</span></p><p class="s33">double <span style=" color: #000;">speed=3;     </span><span style=" color: #009800;">// the speed in  3 inches per second for  a two-wheel robot</span></p><p class="s33">double <span style=" color: #000;">distance=5;    </span><span style=" color: #009800;">// the distance in  5 inches to drive  forward</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* set the speed for  a two-wheel robot  to  3 inches  per second */</p><p class="s17">robot.setSpeed(speed, radius);</p><p class="s25">/* drive  the robot 360 degrees forward for joints 1  and 3  */</p><p class="s17">robot.driveForward(360);</p><p class="s25">/* drive the robot 360 degrees  backward for joints 1  and 3  */</p><p class="s17">robot.driveBackward(360);</p><p class="s25">/* drive forward for ’distance’   inches */</p><p class="s17">robot.driveDistance(distance, radius);</p><p>Program 9.1: Setting the speed of a two-wheel robot using setSpeed().<br/>In Program 9.1 the variable <span class="s23">radius </span>is set to 1.75 inches, the variable <span class="s23">speed </span>is set to 2.5 inches per second, and the variable <span class="s23">distance </span>is set to 5 inches. The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_514.png"/></span></p><p class="s17">robot.setSpeed(speed, radius);</p><p>sets the speeds for joints 1 and 3 of the Linkbot-I to drive the robot at 2.5 inches per second with a wheel radius of 1.75 inches. Then when the next two lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_515.png"/></span></p><p class="s17">robot.driveForward(360);</p><p class="s17">robot.driveBackward(360);</p><p>are executed, the Linkbot-I drives forward 360 degrees and then backward 360 degrees at a speed of 2.5 inches per second. The last line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_516.png"/></span></p><p class="s17">robot.driveDistance(distance, radius);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_517.jpg"/></span><br/>drives the Linkbot-I forward 5 inches at the same speed of 2.5 inches per second.<br/>Do Exercise 1 on page 133.</p><p class="s3">9.1.2   Control  a Linkbot-I with the Speed and  Distance  Input  from  the User Using the</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_518.png"/></span></p><p class="s3">Function <span style=" color: #FF1CCE;">scanf</span>()</p><p>In the previous section we set the speed and distance of a Linkbot-I by providing those values in the program specifically. In this section we will learn how to set the speed and distance of a Linkbot-I with user input. This way the same program can be used to solve the same problem but with different data. Code reusability is an effective and convenient programming tool.<br/>Problem Statement:<br/><span><IMG width="5" height="1" src="chlinkbot/Image_519.png"/></span><br/>A Linkbot-I is configured as a two-wheel robot with wheels attached to joints 1 and 3. The ra- dius of each wheel is 1.75 inches. Write a program <span class="s23">drivedistance p.ch </span>to accept the user input of speed and distance for moving the robot using the member function driveDistance().<br/>120<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.1.  Move a Two-Wheel Robot with the Specified Distance<br/><span><IMG width="624" height="380" src="chlinkbot/Image_520.png"/></span></p><p class="s25">/* File: drivedistance_p.ch</p><p class="s25">Drive  a two-wheel robot with the user  specified radius of wheels,   speed,</p><p class="s25">and  distance.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">speed;            </span><span style=" color: #009800;">// the speed in  inches per second for  a two-wheel robot</span></p><p class="s33">double <span style=" color: #000;">radius;       </span><span style=" color: #009800;">// the radius  of the two wheels of the robot in  inches</span></p><p class="s33">double <span style=" color: #000;">distance;       </span><span style=" color: #009800;">//  distance to drive</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Enter the radius  of the two wheels in  inches\n&quot;</span>);</p><p class="s17"><span style=" color: #FF1CCE;">scanf</span>(<span style=" color: #7F007F;">&quot;%lf&quot;</span>,   &amp;radius);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Enter the speed of the two-wheel robot in  inches per second\n&quot;</span>);</p><p class="s17"><span style=" color: #FF1CCE;">scanf</span>(<span style=" color: #7F007F;">&quot;%lf&quot;</span>,   &amp;speed);</p><p class="s25">/* set the speed for  a two-wheel robot  */</p><p class="s17">robot.setSpeed(speed, radius);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Enter  the distance in inches for the two-wheel robot to drive\n&quot;</span>);</p><p class="s17"><span style=" color: #FF1CCE;">scanf</span>(<span style=" color: #7F007F;">&quot;%lf&quot;</span>,   &amp;distance);</p><p class="s25">/* drive the specified distance based  on the radius  of the wheels */</p><p class="s17">robot.driveDistance(distance, radius);</p><p>Program 9.2: Using the input function <span style=" color: #FF1CCE;">scanf</span>() to specify the speed and distance.<br/>Program 9.2 uses the function <span style=" color: #FF1CCE;">scanf</span>() to set the variables <span class="s23">speed</span>,  <span class="s23">radius</span>,  and <span class="s23">distance </span>to the values desired by the user. As we learned in Section 5.3, the input function <span style=" color: #FF1CCE;">scanf</span>() is used to set the value of a variable from the user input at runtime. For instance, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_521.png"/></span></p><p class="s17"><span style=" color: #FF1CCE;">scanf</span>(<span style=" color: #7F007F;">&quot;%lf&quot;</span>,   &amp;radius);</p><p>is used to set the value of the variable <span class="s23">radius </span>from keyboard input at runtime.  Recall that when using <span style=" color: #FF1CCE;">scanf</span>() the address operator ‘&amp;’ must precede the variable name <span class="s23">radius </span>in order to obtain the address of that variable. Since all three variables are of <span style=" color: #F00;">double </span>type, the conversion specifier “<span class="s23">%lf</span>” is used for <span style=" color: #FF1CCE;">scanf</span>().<br/>An interactive execution of Program 9.2 is shown below.<br/><span><IMG width="624" height="88" src="chlinkbot/Image_522.png"/></span></p><p class="s17">Enter the radius  of the wheels in  inches</p><p class="s17">1.75</p><p class="s17">Enter  the speed of  the two-wheel robot in  inches per second</p><p class="s17">1</p><p class="s17">Enter the distance in inches for  the two-wheel robot to drive</p><p class="s17">5</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_523.jpg"/></span><br/>For a Linkbot-I configured as a two-wheel robot with the radius of 1.75 inches for wheels, the above execu- tion will drive the Linkbot-I forward 5 inches at the speed of 1 inch per second.<br/>Do Exercise 2 on page 133.</p><p class="s3">9.1.3   Estimate the Error in Distance and Use the Function getDistance()</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_524.png"/></span><br/>In some applications it is useful to compare the specified distance of a robot’s motion with the actual distance that it has moved. Such a comparison can indicate whether the robot is working as intended. The member<br/>121<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.1.  Move a Two-Wheel Robot with the Specified Distance<br/>function getDistance() can be used to get the distance that a Linkbot-I has moved using a specific wheel radius. The general syntax of this function is</p><p class="s23">robot.getDistance(distance, radius);</p><p>where <span class="s23">distance </span>specifies how far you the Linkbot-I has moved and <span class="s23">radius </span>specifies the radius of the currently attached wheels. The values of both <span class="s23">distance </span>and <span class="s23">radius </span>have the same units.<br/>Problem Statement:<br/>A Linkbot-I is configured as a two-wheel robot with wheels attached to joints 1 and 3.  The radius of each wheel is 1.75 inches. Write a program <span class="s23">errorindistance.ch </span>to drive the robot for 12 inches at the speed of 2.5 inches per second.  Estimate the error between the specified distance and drived distance.<br/><span><IMG width="624" height="395" src="chlinkbot/Image_525.png"/></span></p><p class="s25">/* File: errorindistance.ch</p><p class="s25">Estimate the error  in the distance between the specified  and  drived distances</p><p class="s25">using robot.getDistance()   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double  <span style=" color: #000;">speed  = 2.5;          </span><span style=" color: #009800;">// speed in  inches/second</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;         </span><span style=" color: #009800;">//  radius of the wheel</span></p><p class="s33">double <span style=" color: #000;">distance  =  12;         </span><span style=" color: #009800;">//  distance to drive in inches</span></p><p class="s33">double <span style=" color: #000;">distance2;                 </span><span style=" color: #009800;">// distance drived</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* set the robot  speed */</p><p class="s17">robot.setSpeed(speed, radius);</p><p class="s25">/* drive the specified distance based  on the radius  of the wheels */</p><p class="s17">robot.driveDistance(distance, radius);</p><p class="s25">/* get the drive distance */</p><p class="s17">robot.getDistance(distance2, radius);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   distance to drive is %.2lf   inches.\n&quot;</span>,   distance); <span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   actual distance drived is %.2lf   inches.\n&quot;</span>,   distance2); <span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   error is %lf inches.\n&quot;</span>,   distance-distance2);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   error is %lf percent.\n&quot;</span>,   (distance-distance2)/distance *100);</p><p>Program 9.3: Estimate the error between the specified distance and drived distance using getDistance().<br/>The member function getDistance() is used to get the actual distance in inches that was traveled by the<br/>Linkbot. The error of the distance that a robot has moved is defined as</p><p class="s5">error = (distance to be moved) − (distance moved)</p><p>The percentage of the error of the distance that a robot has moved is defined as<br/><span><IMG width="275" height="1" src="chlinkbot/Image_526.png"/></span></p><p class="s5">percentage of error = (distance to be moved) − (distance moved) (distance to be moved)</p><p>When Program 9.3 is executed, the following output will be displayed in the input/output pane<br/>122<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.1.  Move a Two-Wheel Robot with the Specified Distance<br/><span><IMG width="624" height="59" src="chlinkbot/Image_527.png"/></span></p><p class="s17">The distance  to drive  is  12.00 inches.</p><p class="s17">The actual   distance drived is  11.98 inches.</p><p class="s17">The error  is 0.020000 inches.</p><p class="s17">The error  is 0.016667 percent.</p><p>The output indicates that the robot actually drives about 9.98 inches, with the error of 0.02 inches and<br/><span><IMG width="23" height="16" src="chlinkbot/Image_528.jpg"/></span><br/>0.16667 percent of the distance to drive.<br/>Do Exercise 3 on page 133.<br/><span><IMG width="624" height="23" src="chlinkbot/Image_529.png"/></span></p><p class="s3">9.1.4   <span class="s40">‡ </span>Use the Functions <span style=" color: #FF1CCE;">distance2angle</span>()  and <span style=" color: #FF1CCE;">angle2distance</span>()</p><p>In the previous section, we use the member function getDistance() to get the distance that a Linkbot-I has moved. In this section, we will an alternative method to get the distance. As we learned in Chapter 7, we can get the joint angle after a Linkbot-I has stopped moving using the member function getJointAngle(). We can convert this joint angle value into the actual distance that the Linkbot-I has moved using the function <span style=" color: #FF1CCE;">angle2distance</span>().  The general syntax of this function is</p><p class="s23">distance =  angle2distance(radius, angle);</p><p>where <span class="s23">radius </span>is the radius of the wheels attached to the Linkbot-I and <span class="s23">angle </span>is the joint angle in degrees. The distance returned will be in the same units as <span class="s23">radius</span>. The function <span style=" color: #FF1CCE;">angle2distance</span>() is implemented in Ch with the code</p><p class="s23">double angle2distance(double  radius, double angle)  {</p><p class="s23">double distance;</p><p class="s23">double pi  =  3.14159265358979323846;</p><p class="s23">distance =  radius*(angle * pi/180);</p><p class="s23">return distance;</p><p class="s23">}</p><p>It is also possible to convert a distance value into a joint angle value using the counterpart function</p><p class="s11">distance2angle<span style=" color: #000;">(), which has te following syntax</span></p><p class="s23">angle  = distance2angle(radius, distance);</p><p>where <span class="s23">radius </span>is the radius of the wheels attached to the Linkbot-I and <span class="s23">distance </span>is the distance a Linkbot-I has traveled.  Both <span class="s23">radius </span>and <span class="s23">distance </span>should have the same units.  The value <span class="s23">angle </span>returned from this function is in degrees. The function <span style=" color: #FF1CCE;">distance2angle</span>() is implemented in Ch as follows</p><p class="s23">double distance2angle(double  radius, double distance)  {</p><p class="s23">double angle;</p><p class="s23">double pi  =  3.14159265358979323846;</p><p class="s23">angle  = (distance/radius)*180/pi;</p><p class="s23">return  angle</p><p class="s23">}</p><p>We will solve the same problem presented in the previous section using the member function getJoin- tAngle() and function <span style=" color: #FF1CCE;">angle2distance</span>().<br/>Problem Statement:<br/>A Linkbot-I is configured as a two-wheel robot with wheels attached to joints 1 and 3.  The radius of each wheel is 1.75 inches. Write a program <span class="s23">errorindistance.ch </span>to drive the robot for 12 inches at the speed of 2.5 inches per second.  Estimate the error between the specified distance and drived distance.<br/>123<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.1.  Move a Two-Wheel Robot with the Specified Distance<br/><span><IMG width="624" height="453" src="chlinkbot/Image_530.png"/></span></p><p class="s25">/* File: errorindistance2.ch</p><p class="s25">Estimate the error  in the distance between the specified  and  drive distances</p><p class="s25">usig robot.getJointAngle()   and  angle2distance()   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double  <span style=" color: #000;">speed  = 2.5;          </span><span style=" color: #009800;">// speed in  inches/second</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;         </span><span style=" color: #009800;">//  radius of the wheel</span></p><p class="s33">double <span style=" color: #000;">distance  =  12;         </span><span style=" color: #009800;">//  distance to drive in inches</span></p><p class="s33">double <span style=" color: #000;">angle;                         </span><span style=" color: #009800;">// angle corresponding to the drived distance in  degrees</span></p><p class="s33">double <span style=" color: #000;">distance2;                 </span><span style=" color: #009800;">// distance  drived  based on the angle</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* set the robot  speed */</p><p class="s17">robot.setSpeed(speed, radius);</p><p class="s25">/* drive the specified distance based  on the radius  of the wheels */</p><p class="s17">robot.driveDistance(distance, radius);</p><p class="s25">/* obtain the angle for joint  1 */</p><p class="s17">robot.getJointAngle(JOINT1, angle);</p><p class="s25">/* calculate the distance based on the  joint  angle */</p><p class="s17">distance2 =  angle2distance(radius, angle);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   distance to drive is %.2lf   inches.\n&quot;</span>,   distance); <span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   actual distance drived is %.2lf   inches.\n&quot;</span>,   distance2); <span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   error is %lf inches.\n&quot;</span>,   distance-distance2);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   error is %lf percent.\n&quot;</span>,   (distance-distance2)/distance *100);</p><p>Program 9.4: Estimate the error between the specified distance and drived distance using <span style=" color: #FF1CCE;">angle2distance</span>().<br/>The motion statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_531.png"/></span></p><p class="s17">robot.driveDistance(distance, radius);</p><p>is equivalent to the statements<br/><span><IMG width="624" height="29" src="chlinkbot/Image_532.png"/></span></p><p class="s17">angle  = distance2angle(radius,   distance);</p><p class="s17">robot.driveForward(angle);</p><p>The motion statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_533.png"/></span></p><p class="s17">robot.getDistance(distance, radius);</p><p>is equivalent to the statements<br/><span><IMG width="624" height="29" src="chlinkbot/Image_534.png"/></span></p><p class="s17">robot.getJointAngle(JOINT1, angle);</p><p class="s17">distance =  angle2distance(radius, angle);</p><p>The member function getJointAngle()  is used to get the value of the joint angle after the Linkbot has stopped moving, then the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_535.png"/></span></p><p class="s17">distance2 =  angle2distance(radius, angle);</p><p>gives the actual distance in inches that were traveled by the Linkbot.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_536.jpg"/></span><br/>When Program 9.4 is executed, the output will be similar to that of Program 9.3. Do Exercise 4 on page 133.<br/>124<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.1.  Move a Two-Wheel Robot with the Specified Distance</p><p class="s3">9.1.5   Get the Time for a Two-Wheel Robot to Complete its Movement with the Specified</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_537.png"/></span></p><p class="s3">Speed and Distance</p><p>In Program 8.6 we measured how long it took for a Linkbot-I to complete a motion of a specified joint for a specified angle. The member function systemTime() can be used in many other applications. One example is measuring the time it takes for a Linkbot-I to complete its movement with a specified speed and distance.<br/>Problem Statement:<br/>A Linkbot-I is configured as a two-wheel robot with wheels attached to joints 1 and 3.  The radius of each wheel is 1.75 inches. Write a program <span class="s23">gettime.ch </span>to drive the robot forward<br/>10 inches at the speed of 2.5 inches per second. The program shall measure how long it takes<br/>for the robot to complete the motion.<br/><span><IMG width="624" height="366" src="chlinkbot/Image_538.png"/></span></p><p class="s25">/* File: gettime.ch</p><p class="s25">Get the time to drive the viehcle with a specified  speed and distance  */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double  <span style=" color: #000;">speed  = 2.5;          </span><span style=" color: #009800;">// speed in  inches/second</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;         </span><span style=" color: #009800;">//  radius of the wheel</span></p><p class="s33">double <span style=" color: #000;">distance  =  10;        </span><span style=" color: #009800;">//  distance in inches</span></p><p class="s33">double <span style=" color: #000;">time1,  time2,  elapsedtime;       </span><span style=" color: #009800;">// system time and elapsed  time</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* set the robot  speed */</p><p class="s17">robot.setSpeed(speed, radius);</p><p class="s17">robot.systemTime(time1);    <span style=" color: #009800;">// get the system time since  the system starts</span></p><p class="s25">/* drive the specified distance based  on the radius  of the wheels */</p><p class="s17">robot.driveDistance(distance, radius);</p><p class="s17">robot.systemTime(time2);    <span style=" color: #009800;">// get the system time since  the system starts</span></p><p class="s17">elapsedtime = time2  - time1;    <span style=" color: #009800;">//  Calculate the time for the motion.</span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   motion for  the robot took %.2lf   seconds\n&quot;</span>,   elapsedtime);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   motion should take  %.2lf   seconds in theory.\n&quot;</span>,   distance/speed);</p><p>Program 9.5: Get the time for a two-wheel robot to complete a motion with a specified speed and distance using the member function systemTime().<br/>Similar to what was done in Program 8.6, the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_539.png"/></span></p><p class="s17">robot.systemTime(time1);    <span style=" color: #009800;">//the system time since  the system starts</span></p><p>is called before the Linkbot-I starts moving in order to record the current system time in seconds. Then the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_540.png"/></span></p><p class="s17">robot.driveDistance(distance, radius);</p><p>drives the Linkbot-I the specified distance of 10 inches at the set speed of 2.5 inches/second.  Then the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_541.png"/></span></p><p class="s17">robot.systemTime(time2);    <span style=" color: #009800;">//the system time since  the system starts</span></p><p>125<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.1.  Move a Two-Wheel Robot with the Specified Distance<br/>is called to record the system time in seconds after the Linkbot-I stops moving. The following statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_542.png"/></span></p><p class="s17">elapsedtime = time2  - time1;           <span style=" color: #009800;">//calculate  the time for the motion.</span></p><p>calculates the difference between the end time and the start time, to give the total time the Linkbot was in motion. This time is then displayed, along with the theoretical time. In the case of Linkbot movement with a specified speed and distance, the theoretical time is defined as<br/><span><IMG width="184" height="1" src="chlinkbot/Image_543.png"/></span></p><p class="s5">theoretical time =        (distance in inches) (speed in inches per second)</p><p>When Program 9.5 is executed, the following output will be displayed in the input/output pane<br/><span><IMG width="625" height="30" src="chlinkbot/Image_544.png"/></span></p><p class="s17">The motion  for  the Linkbot-I  took 4.12 seconds. The motion should take  4.00  seconds in theory.</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_545.jpg"/></span><br/>Do Exercise 5 on page 133.</p><p class="s3">9.1.6   Plot Distances versus Time for a Two-Wheel Linkbot-I with the Specified Speed and</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_546.png"/></span></p><p class="s3">Distance</p><p>As we learned in Section 8.2, we can record and plot joint angle values versus time for a Linkbot-I. It is also possible to record and plot the distance versus time for a Linkbot. To record distance data, we use the two <span style=" color: #FF1CCE;">CLinkbotI </span>member functions recordDistanceBegin() and recordDistanceEnd().<br/>The general syntax for the function recordDistanceBegin() is</p><p class="s23">robot.recordDistanceBegin(id, time, distance, radius, timeInterval);</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_547.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_548.png"/></span><br/>The first argument <span class="s23">id </span>indicates which joint to begin recording. It should be one of the enumerated values JOINT1  or JOINT3.    The second and third arguments <span class="s23">time </span>and <span class="s23">distance </span>are variables of type <span style=" color: #FF1CCE;">robotRecordData t</span>. The reason for this is the same as why the <span class="s23">timedata </span>and <span class="s23">angledata </span>arguments are of type <span style=" color: #FF1CCE;">robotRecordData t </span>in Program 8.2. Recall that the arguments <span class="s23">time </span>and <span class="s23">distance </span>are spe- cial arrays that grow to the size needed during the execution of the program. The fourth argument <span class="s23">radius </span>is the radius of the wheels attached to the Linkbot. The final argument <span class="s23">timeInterval </span>is the time interval between angle readings. The minimum possible value for <span class="s23">timeInteval </span>is 0.05 seconds.<br/>The general syntax for the function recordDistanceEnd() is</p><p class="s23">robot.recordDistanceEnd(id, num);</p><p>The argument <span class="s23">id </span>is the enumerated value of the joint to stop recording.  The argument <span class="s23">num </span>is the total number of data points that were recorded while the Linkbot-I was moving.<br/>We can use the functions recordDistanceBegin() and recordDistanceEnd() in combination with the member functions of the <span style=" color: #FF1CCE;">CPlot </span>class we learned in Section 8.2. This will enable the recording and plotting of distance versus time for a two-wheel Linkbot-I.<br/>Problem Statement:<br/>A Linkbot-I is configured as a two-wheel robot with wheels attached to joints 1 and 3.  The radius of each wheel is 1.75 inches.  Write a program <span class="s23">recorddistance.ch </span>to drive the Linkbot for 12 inches at the speed of 2.5 inches per second. Record the distance as the Linkbot moves with a time interval of 0.1 second. Plot the distance versus time.<br/>126<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.1.  Move a Two-Wheel Robot with the Specified Distance<br/><span><IMG width="624" height="526" src="chlinkbot/Image_549.png"/></span></p><p class="s25">/* File: recorddistance.ch</p><p class="s25">Record  time  and distances,   plot  the acquired data */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s27">#include &lt;chplot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double  <span style=" color: #000;">speed  = 2.5;          </span><span style=" color: #009800;">// speed in 2.5 inches/seconds</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;       </span><span style=" color: #009800;">// radius  of the wheel in  inches</span></p><p class="s33">double <span style=" color: #000;">distance  =  12;        </span><span style=" color: #009800;">//  distance in inches</span></p><p class="s33">double <span style=" color: #000;">timeInterval =  0.1; </span><span style=" color: #009800;">// time interval in 0.1 second</span></p><p class="s33">int <span style=" color: #000;">numDataPoints;         </span><span style=" color: #009800;">// number  of data points recorded</span></p><p class="s16">robotRecordData_t <span style=" color: #000;">timedata, distances; </span><span style=" color: #009800;">// recorded  time  and distances</span></p><p class="s16">CPlot <span style=" color: #000;">plot;                       </span><span style=" color: #009800;">// plotting class</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* set the robot  speed */</p><p class="s17">robot.setSpeed(speed, radius);</p><p class="s25">/* begin recording  time and distance  based on joint 1 */</p><p class="s17">robot.recordDistanceBegin(JOINT1, timedata, distances, radius, timeInterval);</p><p class="s25">/* drive the specified distance based  on the radius  of the wheels */</p><p class="s17">robot.driveDistance(distance, radius);</p><p class="s25">/* end recording  time and distance  */</p><p class="s17">robot.recordDistanceEnd(JOINT1,  numDataPoints);</p><p class="s17"><span style=" color: #009800;">/* plot the data */ </span>plot.mathCoord(); plot.title(<span style=" color: #7F007F;">&quot;Distance versus time&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_X,  <span style=" color: #7F007F;">&quot;Time (seconds)&quot;</span>); plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;Distance (inches)&quot;</span>); plot.data2DCurve(timedata, distances, numDataPoints); plot.plotting();</p><p>Program 9.6: Plotting the distance of a Linkbot-I versus time for a two-wheel robot with a specified distance.<br/>Similar to Program 8.2, we begin the recording of time and distance before the Linkbot-I starts moving. The statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_550.png"/></span></p><p class="s17">robot.recordDistanceBegin(JOINT1, timedata, distances, radius, timeInterval);</p><p>starts recording data from joint 1 of the Linkbot-I every 0.1 second. After the Linkbot stops moving, the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_551.png"/></span></p><p class="s17">robot.recordDistanceEnd(JOINT1,  numDataPoints);</p><p>stops recording data from joint 1.<br/>When a two-wheel robot moves at the speed of 2.5 inches per second, the relation between the distance<br/>(<span class="s5">d</span>) and time (<span class="s5">t</span>) in Figure 9.2 can be formulated by the following linear equation.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_552.jpg"/></span></p><p class="s5">d = 2.5t                                                                <span class="p">(9.1) Do Exercise 6 on page 133.</span></p><p>If we change the statement<br/>127<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.1.  Move a Two-Wheel Robot with the Specified Distance<br/><span><IMG width="480" height="290" src="chlinkbot/Image_553.jpg"/></span><br/>Figure 9.2: The plot for the distance versus time from Program 9.6.<br/><span><IMG width="624" height="15" src="chlinkbot/Image_554.png"/></span></p><p class="s17">robot.driveDistance(distance, radius);</p><p>in Program 9.6 to<br/><span><IMG width="624" height="15" src="chlinkbot/Image_555.png"/></span></p><p class="s17">robot.driveDistance(-distance, radius);</p><p>to drive the Linkbot-I in the opposite direction. The plot generated by such a program</p><p class="s23">recorddistanceneg.ch <span class="p">is shown in Figure 9.3.</span></p><p>If we change the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_556.png"/></span></p><p class="s17">robot.setSpeed(speed, radius);</p><p>in Program 9.6 to<br/><span><IMG width="624" height="15" src="chlinkbot/Image_557.png"/></span></p><p class="s17">robot.setSpeed(-speed, radius);</p><p>to drive the Linkbot-I in the opposite direction. the program will also generate Figure 9.3.<br/>The relation between the distance (<span class="s5">d</span>) and time (<span class="s5">t</span>) in Figure 9.3 can be formulated by the following equation.</p><p class="s5">d = −2.5t                                                           <span class="p">(9.2)</span></p><p>128<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.1.  Move a Two-Wheel Robot with the Specified Distance<br/><span><IMG width="480" height="290" src="chlinkbot/Image_558.jpg"/></span><br/>Figure 9.3: The plot for the distance versus time for a Linkbot-I moving in the negative direction from the program <span class="s23">recorddistanceneg.ch </span>with a specified distance.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_559.jpg"/></span><br/>Do Exercise 7 on page 134.</p><p class="s3">9.1.7   Plot Distances versus Time with an Offset for the Distance</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_560.png"/></span><br/>For plotting distances versus time with the specified speed and distance in the previous section, it is assumed that the robot is placed in the origin. We have learned in Chapter 4 that a robot can be placed at different locations in a coordinate system. In this section, we will learn how to plot the distances versus time with an initial offset for the distance. The ideas presented in this section can be used to handle the distance offset in other situations which will be described in the next section as well.<br/>The offset for the distance of a robot can be added by the member function recordDistanceOffset(). The general syntax for the function recordDistanceOffset() is</p><p class="s23">robot.recordDistanceOffset(offset)</p><p>The argument <span class="s23">offset </span>of type <span style=" color: #F00;">double </span>is the offset of the distance.<br/>When the member function recordDistanceBegin() is called by<br/><span><IMG width="624" height="15" src="chlinkbot/Image_561.png"/></span></p><p class="s17">robot.recordDistanceBegin(JOINT1, timedata, distances, radius, timeInterval);</p><p>the time and distances will be recorded in the variables <span class="s23">timedata </span>and <span class="s23">distances</span>.  The offset set by the member function recordDistanceOffset() will be added to the <span class="s23">distances </span>for each sampling point. Therefore, The member function recordDistanceOffset()  should be called before the member function recordDistanceBegin() is called.<br/>Problem Statement:<br/>A Linkbot-I is configured as a two-wheel robot with wheels attached to joints 1 and 3.  The radius of each wheel is 1.75 inches.  The robot is placed in an X-Y coordinate system at the coordinate (0, 4). Write a program <span class="s23">recorddistanceoffset.ch </span>to drive the Linkbot for<br/>8 inches at the speed of 2.5 inches per second. Record the distance as the Linkbot moves with<br/>a time interval of 0.1 second. Plot the distance versus time.<br/>129<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.1.  Move a Two-Wheel Robot with the Specified Distance<br/><span><IMG width="624" height="643" src="chlinkbot/Image_562.png"/></span></p><p class="s25">/* File: recorddistanceoffset.ch</p><p class="s25">Record time and distances  with an initial offset  distance by</p><p class="s25">robot.recordDistanceOffset(offset);</p><p class="s25">plot  the acquired data */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s27">#include &lt;chplot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double  <span style=" color: #000;">speed  = 2.5;          </span><span style=" color: #009800;">// speed in 2.5 inches/seconds</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;       </span><span style=" color: #009800;">// radius  of the wheel in  inches</span></p><p class="s33">double <span style=" color: #000;">distance  =  8;          </span><span style=" color: #009800;">// distance in inches</span></p><p class="s33">double <span style=" color: #000;">offset =  4;             </span><span style=" color: #009800;">// the offset for the initial distance</span></p><p class="s33">double <span style=" color: #000;">timeInterval =  0.1; </span><span style=" color: #009800;">// time interval in 0.1 second</span></p><p class="s33">int <span style=" color: #000;">numDataPoints;         </span><span style=" color: #009800;">// number  of data points recorded</span></p><p class="s16">robotRecordData_t <span style=" color: #000;">timedata, distances; </span><span style=" color: #009800;">// recorded  time  and distances</span></p><p class="s16">CPlot <span style=" color: #000;">plot;                       </span><span style=" color: #009800;">// plotting class</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* set the robot  speed */</p><p class="s17">robot.setSpeed(speed, radius);</p><p class="s25">/* set the offset  of the distance */</p><p class="s17">robot.recordDistanceOffset(offset);</p><p class="s25">/* begin recording  time and distance  based on joint 1 */</p><p class="s17">robot.recordDistanceBegin(JOINT1, timedata, distances, radius, timeInterval);</p><p class="s25">/* drive the specified distance based  on the radius  of the wheels */</p><p class="s17">robot.driveDistance(distance, radius);</p><p class="s25">/* end recording  time and distance  */</p><p class="s17">robot.recordDistanceEnd(JOINT1,  numDataPoints);</p><p class="s17"><span style=" color: #009800;">/* plot the data */ </span>plot.mathCoord(); plot.title(<span style=" color: #7F007F;">&quot;Distance versus time&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_X,  <span style=" color: #7F007F;">&quot;Time (seconds)&quot;</span>); plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;Distance (inches)&quot;</span>); plot.axisRange(PLOT_AXIS_Y, 0, 14); plot.ticsRange(PLOT_AXIS_Y, 1); plot.data2DCurve(timedata, distances, numDataPoints); plot.plotting();</p><p>Program 9.7: Plotting the distance of a Linkbot-I versus time for a two-wheel robot with a specified distance with an initial offset for the distance.<br/>Comparing Program 9.7 with Program 9.6, we changed the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_563.png"/></span></p><p class="s33">double <span style=" color: #000;">distance  =  12;        </span><span style=" color: #009800;">//  distance in inches</span></p><p>in Program 9.6 to<br/><span><IMG width="624" height="29" src="chlinkbot/Image_564.png"/></span></p><p class="s33">double <span style=" color: #000;">distance  =  8;          </span><span style=" color: #009800;">// distance in inches</span></p><p class="s33">double <span style=" color: #000;">offset =  4;             </span><span style=" color: #009800;">// the offset for the initial distance</span></p><p>in Program 9.7 with the new distance of 8 inches and the offset of 4 inches. The offset for the distance is added to each recorded distance by the statement<br/>130<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.1.  Move a Two-Wheel Robot with the Specified Distance<br/><span><IMG width="479" height="289" src="chlinkbot/Image_565.jpg"/></span><br/>Figure 9.4: The plot for the distance versus time from Program 9.7.<br/><span><IMG width="624" height="15" src="chlinkbot/Image_566.png"/></span></p><p class="s17">robot.recordDistanceOffset(offset);</p><p>When Program 9.7 is executed, the plot shown in Figure 9.4 will be displayed. The linear relation shown in<br/>Figure 9.4 can be formulated by the equation</p><p class="s5">d = 4 + 2.5t                                                             <span class="p">(9.3)</span></p><p>When <span class="s5">t </span>is 3.2 seconds, the distance is 12 inches.<br/>The offset is the y-intercept of this linear equation.  To show the y-intercept, Program 9.7 calls the member function axisRange of the plotting class <span style=" color: #FF1CCE;">CPlot </span>to set the range of the y axis . The general syntax of the member function axisRange is as follows.</p><p class="s23">plot.axisRange(axis, minimum,  maximum);</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_567.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_568.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_569.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_570.png"/></span><br/>The first argument <span class="s23">axis </span>specifies the axis. The macros PLOT  AXIS X and PLOT  AXIS Y can be used for <span class="s23">axis </span>to specify the x and y axes, respectively. The second argument <span class="s23">minimum </span>is for the minimum value on the axis. The third argument <span class="s23">maximum </span>is for the maximum value on the axis.<br/>The tick marks on an axis can be set by the member function ticsRange as follows.</p><p class="s23">plot.ticsRange(axis, incr);</p><p>Like the member function plot.axisRange(),  the first argument <span class="s23">axis </span>specifies the axis. The second argu- ment <span class="s23">incr </span>gives the increment between tick marks.<br/>The two statements<br/><span><IMG width="625" height="30" src="chlinkbot/Image_571.png"/></span></p><p class="s17">plot.axisRange(PLOT_AXIS_Y, 0, 14);</p><p class="s17">plot.ticsRange(PLOT_AXIS_Y, 1);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_572.jpg"/></span><br/>in Program 9.7 set the range for the y axis from 0 to 14 with the increment value of 1 between two tick marks.<br/>Do Exercise 8 on page 134.<br/>The offset can also be created by a separate motion statement before the data recording starts. In the program <span class="s23">recordistanceoffset2.ch </span>distributed along with the other programs in this book, the state- ment<br/>131<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.1.  Move a Two-Wheel Robot with the Specified Distance<br/><span><IMG width="624" height="15" src="chlinkbot/Image_573.png"/></span></p><p class="s17">robot.recordDistanceOffset(offset);</p><p>is replaced by the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_574.png"/></span></p><p class="s17">robot.driveDistance(offset, radius);</p><p>The program <span class="s23">recordistanceoffset2.ch </span>will generate the same plot as shown in Figure 9.4.<br/>To run Program 9.7 in RoboSim, the robot needs to be placed at the coordinate (0, 4). However, to run<br/><span><IMG width="23" height="16" src="chlinkbot/Image_575.jpg"/></span><br/>the program <span class="s23">recordistanceoffset2.ch</span>, the robot should be placed at the origin (0, 0).<br/>Do Exercise 9 on page 134.</p><p class="s3">9.1.8   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_576.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.setSpeed(speed, radius);</p><p>to set both joints 1 and 3 of a Linkbot-I to the desired speed and wheel radius.<br/>2. Call the function</p><p class="s23">distance =  angle2distance(radius, angle);</p><p>to convert a joint angle value to a distance.<br/>3. Call the function</p><p class="s23">angle  = distance2angle(radius, distance);</p><p>to convert a distance to a joint angle value.<br/>4. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.recordDistanceBegin(id, time, distance, radius, timeInterval);</p><p>to start recording time and distance values for a joint angle of a Linkbot-I, for a specified wheel radius and a specified interval between distance readings.<br/>5. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.recordDistanceEnd(id,  num);</p><p>to stop recording time and distance values for a joint angle of a Linkbot-I.<br/>6. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.recordDistanceOffset(offset);</p><p>to add an offset to the recorded distance by the member function <span class="s23">recordDistanceBegin</span>().<br/>7. Call the <span style=" color: #FF1CCE;">CPlot </span>member function<br/>132<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.1.  Move a Two-Wheel Robot with the Specified Distance</p><p class="s23">plot.axisRange(axis, minimum,  maximum);</p><p class="s23">plot.ticsRange(axis, incr);</p><p>to set the range of an axis.<br/>8. Call the <span style=" color: #FF1CCE;">CPlot </span>member function</p><p class="s23">plot.ticsRange(axis, incr);</p><p>to set the increment between tick marks for an axis.</p><p class="s3">9.1.9   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_577.png"/></span></p><p class="s11">angle2distance<span style=" color: #000;">(),  </span>distance2angle<span style=" color: #000;">(),  plot.axisRange(),  plot.ticsRange(),  robot.recordDistanceBegin(),</span></p><p>robot.recordDistanceEnd(), robot.recordDistanceOffset(). robot.setSpeed().</p><p class="s3">9.1.10   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_578.png"/></span><br/>1. A Linkbot-I is configured as a two-wheel robot with wheels attached to joints 1 and 3. The radius of each wheel is 1.75 inches. Write a program <span class="s23">setspeed2.ch </span>to drive forward 360 degrees using the member function driveForward() at the speed of 2.5 inches per second, and then drive backward 3 inches using the member function driveDistance().<br/><span><IMG width="5" height="1" src="chlinkbot/Image_579.png"/></span><br/>2. A Linkbot-I is configured as a two-wheel robot with wheels attached to joints 1 and 3. The radius of each wheel is 1.75 inches. Use the program <span class="s23">drivedistance p.ch </span>in Program 9.2 to make the Linkbot-I move 12 inches in 5 seconds (Note that the speed is defined as the distance divided by the time).<br/>3. A Linkbot-I is configured as a two-wheel robot with wheels attached to joints 1 and 3. The radius of each wheel is 1.75 inches. Write a program <span class="s23">errorindistance3.ch </span>to accept the user input of the radius of wheels, speed, and distance for moving the robot using the member function driveDis- tance(). The program shall estimate the distance that the robot has moved using the member function getDistance(). It shall also calculate the error and percentage of error of the distance moved. (a) Test your program with the input speed of 2.5 inches per second and distance of 12 inches. (b) Test your program with the input speed of 2.5 inches per second and distance of 2 inches.<br/>4. Solve the same problem described in Exercise 3 without using the member function getDistance().<br/>5. A Linkbot-I is configured as a two-wheel robot with wheels attached to joints 1 and 3.  The radius of each wheel is 1.75 inches.  Write a program <span class="s23">gettime2.ch </span>to drive the robot for 12  inches at the speed of 3.2 inches per second. The program shall measure how long it takes for the robot to complete the motion using the member function systemTime(). Also try to measure this motion using a stopwatch. Is the time measured by the program <span class="s23">gettime2.ch </span>the same as that on a stopwatch? Why?<br/>6. A Linkbot-I is configured as a two-wheel robot with wheels attached to joints 1 and 3. The radius of each wheel is 1.75 inches. Write a program <span class="s23">recorddistance2.ch </span>to drive the Linkbot 8 inches forward at the speed of 1.5 inches per second. Record the distance as the Linkbot travels with a time interval of 0.1 second. Plot the distance versus time as shown in the figure below. What is the equation of motion with the linear relation shown in the figure?<br/>133<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.1.  Move a Two-Wheel Robot with the Specified Distance<br/><span><IMG width="480" height="290" src="chlinkbot/Image_580.jpg"/></span><br/>7. Modify  the   program  <span class="s23">recorddistance2.ch  </span>developed  in   Exercise  6   as   the   program <span class="s23">recorddistanceneg2.ch </span>to drive the Linkbot 8 inches <span class="s5">backward</span>, instead of forward, at the speed of 1.5 inches per second. Plot the distance versus time. What is the equation of motion for the robot?<br/>8. A Linkbot-I is configured as a two-wheel robot with wheels attached to joints 1 and 3.  The radius of each wheel is 1.75 inches. The robot is placed in an X-Y coordinate system at the coordinate (0,<br/>3). Write a program <span class="s23">recorddistanceoffset3.ch </span>to drive the Linkbot 8 inches forward at the speed of 1.5 inches per second. Record the distance as the Linkbot travels with a time interval of 0.1 second. Plot the distance versus time as shown in the figure below. What is the equation of motion<br/>with the linear relation shown in the figure?<br/><span><IMG width="479" height="289" src="chlinkbot/Image_581.jpg"/></span><br/>9. Modify the program <span class="s23">recorddistanceoffset3.ch </span>developed in Exercise 8 as the program</p><p class="s23">recorddistanceoffset4.ch <span class="p">by replacing the statement</span></p><p>134<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.2.  Move a Two-Wheel Robot with the Specified Time<br/><span><IMG width="588" height="15" src="chlinkbot/Image_582.png"/></span></p><p class="s17">robot.recordDistanceOffset(offset);</p><p>with the statement<br/><span><IMG width="588" height="15" src="chlinkbot/Image_583.png"/></span></p><p class="s17">robot.driveDistance(offset, radius);</p><p class="s21">9.2    Move a Two-Wheel  Robot  with  the  Specified</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_584.png"/></span></p><p class="s21">Time</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_585.png"/></span></p><p class="s3">9.2.1   Control a Linkbot-I with the Speed and Time Input from the User Using the Function  <span style=" color: #FF1CCE;">scanf</span>()</p><p>In Section 9.1.2 we learned how to set the speed and distance of a Linkbot-I with user input. In this section, we will see that we can also set the speed and time of a Linkbot-I’s motion with user input.<br/>Problem Statement:<br/><span><IMG width="5" height="1" src="chlinkbot/Image_586.png"/></span><br/>A Linkbot-I is configured as a two-wheel robot with wheels attached to joints 1 and 3.  The radius of each wheel is 1.75 inches. Write a program <span class="s23">drivetime p.ch </span>to accept the user input of speed and time for moving the robot using the member function driveTime().<br/><span><IMG width="625" height="352" src="chlinkbot/Image_587.png"/></span></p><p class="s25">/* File: drivetime_p.ch</p><p class="s25">Move a two-wheel robot  with  the  user  specified radius of wheels,   speed,   and  time.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">radius;       </span><span style=" color: #009800;">// the radius  of the two wheels of the robot in  inches</span></p><p class="s33">double <span style=" color: #000;">speed;            </span><span style=" color: #009800;">// the speed in  inches per second for  a two-wheel robot</span></p><p class="s33">double <span style=" color: #000;">time ;        </span><span style=" color: #009800;">// time for  the movement</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Enter the radius  of the two wheels in  inches\n&quot;</span>);</p><p class="s17"><span style=" color: #FF1CCE;">scanf</span>(<span style=" color: #7F007F;">&quot;%lf&quot;</span>,   &amp;radius);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Enter the speed of the two-wheel robot in  inches per second\n&quot;</span>);</p><p class="s17"><span style=" color: #FF1CCE;">scanf</span>(<span style=" color: #7F007F;">&quot;%lf&quot;</span>,   &amp;speed);</p><p class="s25">/* set the speed for  a two-wheel robot  */</p><p class="s17">robot.setSpeed(speed, radius);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Enter  the time in seconds for  the two-wheel robot to drive\n&quot;</span>);</p><p class="s17"><span style=" color: #FF1CCE;">scanf</span>(<span style=" color: #7F007F;">&quot;%lf&quot;</span>,   &amp;time);</p><p class="s25">/* rotate joints 1  and 3  for the specified ’time’   */</p><p class="s17">robot.driveTime(time);</p><p>Program 9.8: Using the input function <span style=" color: #FF1CCE;">scanf</span>() to specify the speed and time.<br/>In Program 8.3, the member function moveTime() is used to move joints of a robot for a user defined amount of time.  The direction of the motion depending on the sign of the speed specified for each joint.<br/>135<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.2.  Move a Two-Wheel Robot with the Specified Time<br/>Program 9.8 uses the member function driveTime() to drive a Linkbot-I forward or backward depending on the joint speed for joint 1 or the speed specified by the member function setSpeed(). The general syntax of the function driveTime() is</p><p class="s23">robot.driveTime(seconds);</p><p>The argument, <span class="s23">seconds</span>, defines how long each joint will be moved in seconds. The robot moves forward if the speed for joint 1 is positive. The robot moves backward if the speed for joint 1 is negative.<br/>The function <span style=" color: #FF1CCE;">scanf</span>() is used to obtain the values for the variables <span class="s23">radius</span>, <span class="s23">speed</span>, and <span class="s23">time</span>.  For a review on how to use <span style=" color: #FF1CCE;">scanf</span>(), see Section 5.3.<br/>An interactive execution of Program 9.8 is shown below.<br/><span><IMG width="624" height="88" src="chlinkbot/Image_588.png"/></span></p><p class="s17">Enter the radius  of the wheels in  inches</p><p class="s17">1.75</p><p class="s17">Enter  the speed of  the two-wheel robot in  inches per second</p><p class="s17">1</p><p class="s17">Enter the time in seconds for  the two-wheel robot to drive</p><p class="s17">10</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_589.jpg"/></span><br/>For a Linkbot-I configured as a two-wheel robot with the radius of 1.75 inches for wheels, the above execu- tion will move the Linkbot at the speed of 1 inch per second for 10 seconds.<br/>Do Exercise 1 on page 140.</p><p class="s3">9.2.2   Get the Moved Distance Based on the Specified Speed and Time</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_590.png"/></span><br/>In Section 9.1.3 we learned how to get the actual distance traveled by a Linkbot using getDistance().  This distance was compared with the distance specifically given to the program to determine the error in distance. In this section the function getDistance() will be used to determine the distance traveled by a Linkbot-I when a distance is not specifically given in the program.<br/>Problem Statement:<br/>A Linkbot-I is configured as a two-wheel robot with wheels attached to joints 1 and 3.  The radius of each wheel is 1.75 inches. Write a program <span class="s23">getdistance.ch </span>to drive the robot forward 5.5 seconds at the speed of 2.5 inches per second.  The program shall measure the distance that the robot has drived.<br/>The distance to drive can be calculated using the formula</p><p class="s5">d = speed ∗ t</p><p>with the specified speed and time <span class="s23">t</span>.<br/>136<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.2.  Move a Two-Wheel Robot with the Specified Time<br/><span><IMG width="624" height="351" src="chlinkbot/Image_591.png"/></span></p><p class="s25">/* File: getdistance.ch</p><p class="s25">Get the distance drived in the specified  speed and time  using  robot.getDistance()   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double  <span style=" color: #000;">speed  = 2.5;          </span><span style=" color: #009800;">// speed in  inches/second</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;         </span><span style=" color: #009800;">//  radius of the wheel</span></p><p class="s33">double  <span style=" color: #000;">time  = 5.5;              </span><span style=" color: #009800;">//  5.5 seconds</span></p><p class="s33">double <span style=" color: #000;">distance;                  </span><span style=" color: #009800;">// distance traveled</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* set the robot  speed */</p><p class="s17">robot.setSpeed(speed, radius);</p><p class="s25">/* rotate joints 1  and 3  for the specified ’time’   */</p><p class="s17">robot.driveTime(time);</p><p class="s25">/* get the distance drived */</p><p class="s17">robot.getDistance(distance, radius);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   distance drived is %.2lf   inches.\n&quot;</span>,   distance);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   distance to drive is %.2lf   inches in theory.\n&quot;</span>,   speed*time);</p><p>Program 9.9:  Get the distance of a two-wheel robot based on the specified speed and time using <span style=" color: #FF1CCE;">an- gle2distance</span>().<br/>Program 9.3 used the member function driveDistance()  to drive the Linkbot-I for a specified distance. Program 9.9 is very similar to Program 9.3. The only difference in Program 9.9 is that the member function driveTime()  is used to drive the Linkbot-I for a specified period of time.  Because a distance was not specifically given to the program, the actual distance traveled is obtained using the function getDistance(). A theoretical distance is calculated using the variables <span class="s23">speed </span>and <span class="s23">ti me</span>,  for comparison to the actual distance moved.<br/>When Program 9.9 is executed, the following output will be displayed in the input/output pane<br/><span><IMG width="624" height="29" src="chlinkbot/Image_592.png"/></span></p><p class="s17">The distance  drived  is  13.78 inches.</p><p class="s17">The distance  to drive  is 13.75 inches in theory.</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_593.jpg"/></span><br/>Do Exercise 2 on page 140.</p><p class="s3">9.2.3   Plot Distances versus Time for a Two-Wheel Linkbot-I with the Specified Speed and</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_594.png"/></span></p><p class="s3">Time</p><p>In Section 9.1.6 we recorded and plotted distance versus time for a specified distance. In this section we will record and plot distance versus time for a specified speed. To do this we can use the member functions recordDistanceBegin() and recordDistanceEnd() that were introduced in Section 9.1.6. These functions are versatile and can be used to record distance data for a Linkbot performing many different kinds of motions.<br/>Problem Statement:<br/>A Linkbot-I is configured as a two-wheel robot with wheel attached to joints 1 and 3.  The radius of each wheel is 1.75 inches.  Write a program <span class="s23">recordspecifytime.ch </span>to drive<br/>137<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.2.  Move a Two-Wheel Robot with the Specified Time<br/>the Linkbot-I for 16 seconds at the speed of 2.5 inches per second. Record the distance as the<br/>Linkbot-I moves with a time interval of 0.1 second. Plot the distance versus time.<br/><span><IMG width="624" height="526" src="chlinkbot/Image_595.png"/></span></p><p class="s25">/* File: recordspecifytime.ch</p><p class="s25">Record  time  and distances,   plot  the acquired data */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s27">#include &lt;chplot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double  <span style=" color: #000;">speed  = 2.5;          </span><span style=" color: #009800;">// speed in 1.5 inches/seconds</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;       </span><span style=" color: #009800;">// radius  of the wheel in  inches</span></p><p class="s33">double <span style=" color: #000;">timeInterval =  0.1; </span><span style=" color: #009800;">// time interval in 0.1 second</span></p><p class="s33">double  <span style=" color: #000;">time  = 16;              </span><span style=" color: #009800;">// total travel time</span></p><p class="s33">int <span style=" color: #000;">numDataPoints;         </span><span style=" color: #009800;">// number  of data points recorded</span></p><p class="s16">robotRecordData_t <span style=" color: #000;">timedata, distances; </span><span style=" color: #009800;">// recorded  time  and distances</span></p><p class="s16">CPlot <span style=" color: #000;">plot;                       </span><span style=" color: #009800;">// plotting class</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* set the robot speed to ’speed’   */</p><p class="s17">robot.setSpeed(speed, radius);</p><p class="s25">/* begin recording  time and distance  */</p><p class="s17">robot.recordDistanceBegin(JOINT1, timedata, distances, radius, timeInterval);</p><p class="s25">/* drive the robot for  the specified ’time’   */</p><p class="s17">robot.driveTime(time);</p><p class="s25">/* end recording  time and distance  */</p><p class="s17">robot.recordDistanceEnd(JOINT1,  numDataPoints);</p><p class="s17"><span style=" color: #009800;">/* plot the data */ </span>plot.mathCoord(); plot.title(<span style=" color: #7F007F;">&quot;Distance versus time&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_X,  <span style=" color: #7F007F;">&quot;Time (seconds)&quot;</span>); plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;Distance (inches)&quot;</span>); plot.data2DCurve(timedata, distances, numDataPoints); plot.plotting();</p><p>Program 9.10: Plotting the distance of a Linkbot-I versus time for a two-wheel robot with a specified time.<br/>In Program 9.6 we recorded data for a Linkbot moving forward for 16 seconds using driveDistance(). Program 9.10 is very similar to Program 9.6.  The difference is that driveTime()  now we use to drive a Linkbot-I forward for 16 seconds. Even though a different movement function was used, recordDistance- Begin() and recordDistanceEnd() can still be used to collect data on this movement.<br/>When a two-wheel robot moves at the speed of 2.5 inches per second, the relation between the distance<br/>(<span class="s5">d</span>) and time (<span class="s5">t</span>) in Figure 9.5 can be formulated by the following linear equation.<br/><span><IMG width="624" height="15" src="chlinkbot/Image_596.png"/></span></p><p class="s5">d = 2.5t                                                                <span class="p">(9.4) Similarly, if we change the statement</span></p><p class="s17">robot.setSpeed(speed, radius);</p><p>in Program 9.10 to<br/>138<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.2.  Move a Two-Wheel Robot with the Specified Time<br/><span><IMG width="480" height="290" src="chlinkbot/Image_597.jpg"/></span><br/>Figure 9.5: The plot for the distance versus time from Program 9.10.<br/><span><IMG width="624" height="15" src="chlinkbot/Image_598.png"/></span></p><p class="s17">robot.setSpeed(-speed, radius);</p><p>to drive the Linkbot-I in the opposite direction. The plot generated by such a program <span class="s23">recordspecifytimeneg.ch </span>is shown in Figure 9.6. The relation between the distance (<span class="s5">d</span>) and time (<span class="s5">t</span>) in Figure 9.6 can be formulated by the following equation.</p><p class="s5">d = −2.5t                                                           <span class="p">(9.5)</span></p><p><span><IMG width="480" height="290" src="chlinkbot/Image_599.jpg"/></span><br/>Figure 9.6: The plot for the distance versus time for a Linkbot-I moving in the negative direction from the program <span class="s23">recordspecifytimeneg.ch </span>with a specified time .<br/><span><IMG width="23" height="16" src="chlinkbot/Image_600.jpg"/></span><br/>Do Exercise 3 on page 140.<br/>139<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.2.  Move a Two-Wheel Robot with the Specified Time</p><p class="s3">9.2.4   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_601.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.driveTime(time);</p><p>to drive a Linkbot-I for a specified time rather than a specified distance.</p><p class="s3">9.2.5   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_602.png"/></span><br/>robot.driveTime().</p><p class="s3">9.2.6   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_603.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_604.png"/></span><br/>1. A Linkbot-I is configured as a two-wheel robot with wheels attached to joints 1 and 3. The radius of each wheel is 1.75 inches. Use the program <span class="s23">drivetime p.ch </span>in Program 9.8 to make the Linkbot-I move 12 inches in 5 seconds (Note that the speed is defined as the distance divided by the time).<br/>2. A Linkbot-I is configured as a two-wheel robot with wheels attached to joints 1 and 3. The radius of each wheel is 1.75 inches. Write a program <span class="s23">getdistance3.ch </span>to drive the robot for 4.5 seconds at the speed of 3.2 inches per second. The program shall measure the distance that the robot has drived.<br/>3. A Linkbot-I is configured as a two-wheel robot with wheels attached to joints 1 and 3.  The radius of each wheel is 1.75 inches. Write a program <span class="s23">recordspecifytime2.ch </span>to drive the Linkbot backward for 15 seconds at the speed of 1.5 inches per second by the member function driveTime(). Record the distance as the Linkbot travels with a time interval of 0.1 second. Plot the distance versus time as shown in the figure below. What is the equation for the linear relation shown in the figure?<br/><span><IMG width="480" height="290" src="chlinkbot/Image_605.jpg"/></span><br/>140<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.3.  Use Different Units for Speed, Radius, and Distance<br/><span><IMG width="624" height="53" src="chlinkbot/Image_606.png"/></span></p><p class="s21">9.3    Use Different Units for Speed, Radius,  and Dis-</p><p class="s21">tance</p><p>The arguments of member functions setSpeed() and driveDistance()  of the <span style=" color: #FF1CCE;">CLinkbotI </span>class as well as functions <span style=" color: #FF1CCE;">distance2angle</span>()  and <span style=" color: #FF1CCE;">angle2distance</span>()  involve speed, radius, and distance.  They are typically used in programs in the following format.</p><p class="s23">robot.setSpeed(speed, radius); robot.driveDistance(distance, radius); distance =  angle2distance(radius, angle); angle  = distance2angle(radius, distance);</p><p>We can use different units for speed, radius, and distance conveniently to control a Linkbot-I so long as they are consistent using the same unit for length. Samples of consistent units for speed, radius, and distance are shown in Table 9.1.<br/>Table 9.1: The commonly used units for speed, radius, and distance.<br/><span><IMG width="259" height="19" src="chlinkbot/Image_607.png"/></span><br/>Speed    Radius    Distance    Description cm/s      cm          cm             centimeters m/s        m            m               meters inch/s    inch        inch           inches<br/><span><IMG width="259" height="1" src="chlinkbot/Image_608.png"/></span><br/>foot/s    foot        foot           feet<br/>Problem Statement:<br/>A Linkbot-I is configured as a two-wheel robot with wheels attached to joints 1 and 3.  The radius of each wheel is 4.445 centimeters.  Write a program <span class="s23">recorddistancecm.ch </span>to drive the Linkbot for 20 centimeters at the speed of 6.5 centimeters per second.  Record the distance as the Linkbot moves with a time interval of 0.1 second. Plot the distance versus time.<br/>141<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.3.  Use Different Units for Speed, Radius, and Distance<br/><span><IMG width="624" height="526" src="chlinkbot/Image_609.png"/></span></p><p class="s25">/* File: recorddistancecm.ch</p><p class="s25">Record  time  and distances,   plot  the acquired data,   using centimeters */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s27">#include &lt;chplot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double  <span style=" color: #000;">speed  = 6.5;          </span><span style=" color: #009800;">// speed in 6.5 centimeters/seconds</span></p><p class="s33">double <span style=" color: #000;">radius  =  4.445;      </span><span style=" color: #009800;">// radius  of the wheel in  centimeters</span></p><p class="s33">double <span style=" color: #000;">distance  =  20;        </span><span style=" color: #009800;">//  distance in centimeters</span></p><p class="s33">double <span style=" color: #000;">timeInterval =  0.1; </span><span style=" color: #009800;">// time interval in 0.1 second</span></p><p class="s33">int <span style=" color: #000;">numDataPoints;         </span><span style=" color: #009800;">// number  of data points recorded</span></p><p class="s16">robotRecordData_t <span style=" color: #000;">timedata, distances; </span><span style=" color: #009800;">// recorded  time  and distances</span></p><p class="s16">CPlot <span style=" color: #000;">plot;                       </span><span style=" color: #009800;">// plotting class</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* set the robot  speed */</p><p class="s17">robot.setSpeed(speed, radius);</p><p class="s25">/* begin recording  time and distance  */</p><p class="s17">robot.recordDistanceBegin(JOINT1, timedata, distances, radius, timeInterval);</p><p class="s25">/* drive the specified distance based  on the radius  of the wheels */</p><p class="s17">robot.driveDistance(distance, radius);</p><p class="s25">/* end recording  time and distance  */</p><p class="s17">robot.recordDistanceEnd(JOINT1,  numDataPoints);</p><p class="s17"><span style=" color: #009800;">/* plot the data */ </span>plot.mathCoord(); plot.title(<span style=" color: #7F007F;">&quot;Distance versus time&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_X,  <span style=" color: #7F007F;">&quot;Time (seconds)&quot;</span>); plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;Distance (centimeters)&quot;</span>); plot.data2DCurve(timedata, distances, numDataPoints); plot.plotting();</p><p>Program 9.11: Plotting the distance of a Linkbot-I versus time for a two-wheel robot with the specified distance in centimeters.<br/>Program 9.11 is nearly identical to Program 9.6. The only difference is the values for <span class="s23">speed</span>, <span class="s23">radius</span>, and <span class="s23">distance </span>are all in centimeters instead of inches.  Because all these values have consistent length units, they can be used as arguments of the functions setSpeed(), driveDistance(),  <span style=" color: #FF1CCE;">distance2angle</span>(),  and <span style=" color: #FF1CCE;">angle2distance</span>() without error.<br/>When a two-wheel robot moves at the speed of 6.5 centimeters per second, the relation between the distance (<span class="s5">d</span>) and time (<span class="s5">t</span>) in Figure 9.7 can be formulated by the following linear equation.</p><p class="s5">d = 6.5t                                                                <span class="p">(9.6)</span></p><p><span><IMG width="23" height="16" src="chlinkbot/Image_610.jpg"/></span><br/>Do Exercises 1, 2, and 3 on page 143.</p><p class="s3">9.3.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_611.png"/></span><br/>1. The values for speed, radius, and distance can be expressed in centimeters, meters, inches, or feet as long as the units used for length are consistent.<br/>142<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.3.  Use Different Units for Speed, Radius, and Distance<br/><span><IMG width="480" height="290" src="chlinkbot/Image_612.jpg"/></span><br/>Figure 9.7: The plot for the distance versus time from Program 9.11.</p><p class="s3">9.3.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_613.png"/></span><br/>different length units, consistent length units.</p><p class="s3">9.3.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_614.png"/></span><br/>1. A Linkbot-I is configured as a two-wheel robot with wheels attached to joints 1 and 3. The radius of each wheel is 4.445 centimeters. Write a program <span class="s23">recorddistancecm2.ch </span>to drive the Linkbot<br/>15 centimeters at the speed of 4.5 centimeters per second. Record the distance as the Linkbot-I travels<br/>with a time interval of 0.1 second. Plot the distance versus time as shown in the figure below. What is the equation for the linear relation shown in the figure?<br/><span><IMG width="480" height="290" src="chlinkbot/Image_615.jpg"/></span><br/>143<br/>Chapter 9.  Controlling a Linkbot-I as a Two-Wheel Robot<br/>9.3.  Use Different Units for Speed, Radius, and Distance<br/><span><IMG width="5" height="1" src="chlinkbot/Image_616.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_617.png"/></span><br/>2. Modify    the    program    <span class="s23">drivedistance p.ch   </span>in    Program    9.2    as    the     program <span class="s23">drivedistancecm p.ch </span>so that the user can enter the radius of wheels in centimeters, speed in centimeters per second, and distance in centimeters to drive a Linkbot-I configured as a two-wheel robot. Test your program by entering the radius of the wheel of your Linkbot, speed of 5 centimers per second, and distance of 12 centimeters.<br/><span><IMG width="5" height="1" src="chlinkbot/Image_618.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_619.png"/></span><br/>3. Modify the program <span class="s23">drivetime p.ch </span>in Program 9.8 as the program <span class="s23">drivetimecm p.ch  </span>so that the user can enter the radius of wheels, speed in centimeters per second, and time in seconds to drive a Linkbot-I configured as a two-wheel robot. Test your program by entering the radius of the wheel of your Linkbot, speed of 5 centimers per second, and time of 6 seconds.<br/>144<br/><span><IMG width="627" height="8" src="chlinkbot/Image_620.png"/></span><br/><span><IMG width="624" height="3" src="chlinkbot/Image_621.png"/></span></p><p class="s1">CHAPTER 10</p><p><span><IMG width="624" height="3" src="chlinkbot/Image_622.png"/></span></p><p class="s6">Sensory Information for a Linkbot</p><p>In this chapter, we will learn how to control the settings of various sensors on a Linkbot.  We will also learn how to retrieve sensory input from a single Linkbot.  The types of sensory information available to a Linkbot pertain to the LED, buzzer, accelerometer, and remaining battery charge. As was mentioned in Section 8.2 the ability to acquire sensory information in real time makes it possible for a robot to interact with its environment or with human users.<br/><span><IMG width="624" height="53" src="chlinkbot/Image_623.png"/></span></p><p class="s21">10.1    Set and Get the LED Color by Name Using the</p><p class="s41"><span style=" color: #000;">Data Type </span>string<u> </u> t</p><p>In Section 3.5 we learned how to set the LED color using a color name. In this section we will learn how to also get the LED color of a Linkbot using a color name. The ability to change the LED color with a computer program opens up the possibility of adding visual effects to a Linkbot choreography. Program 10.1 gives an example of how to set and get the LED color of a Linkbot using the member functions setLEDColor() and getLEDColor().<br/>Chapter 10.  Sensory Information for a Linkbot<br/><span><IMG width="5" height="1" src="chlinkbot/Image_624.png"/></span><br/>10.1.  Set and Get the LED Color by Name Using the Data Type <span style=" color: #F00;">string  t</span><br/><span><IMG width="625" height="410" src="chlinkbot/Image_625.png"/></span></p><p class="s25">/* File: color.ch</p><p class="s25">Set and get the LED color  by  name */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s16">string_t <span style=" color: #000;">color;</span></p><p class="s17">robot.connect();</p><p class="s17">robot.setLEDColor(<span style=" color: #7F007F;">&quot;magenta&quot;</span>); robot.delaySeconds(2); robot.setLEDColor(<span style=" color: #7F007F;">&quot;green&quot;</span>); robot.delaySeconds(2); robot.setLEDColor(<span style=" color: #7F007F;">&quot;blue&quot;</span>); robot.delaySeconds(2); robot.setLEDColor(<span style=" color: #7F007F;">&quot;purple&quot;</span>); robot.delaySeconds(2); robot.setLEDColor(<span style=" color: #7F007F;">&quot;aqua&quot;</span>); robot.delaySeconds(2); robot.setLEDColor(<span style=" color: #7F007F;">&quot;orange&quot;</span>); robot.delaySeconds(2); robot.setLEDColor(<span style=" color: #7F007F;">&quot;pink&quot;</span>);                <span style=" color: #009800;">// pink </span>robot.delaySeconds(2); robot.setLEDColor(<span style=" color: #7F007F;">&quot;hotPink&quot;</span>);      <span style=" color: #009800;">//  hot pink </span>robot.delaySeconds(2); robot.setLEDColor(<span style=" color: #7F007F;">&quot;deepPink&quot;</span>);   <span style=" color: #009800;">// deep pink </span>robot.getLEDColor(color);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   current color:   %s\n&quot;</span>,   color);</p><p>Program 10.1: Setting and getting the LED color for a Linkbot-I using a color name.<br/>Program 10.1 uses the <span style=" color: #FF1CCE;">CLinkbotI </span>member function setLEDColor(),  which was introduced in Section<br/>3.5, to change the LED color using a color name. The line<br/><span><IMG width="625" height="15" src="chlinkbot/Image_626.png"/></span></p><p class="s16">string_t <span style=" color: #000;">color;</span></p><p><span><IMG width="5" height="1" src="chlinkbot/Image_627.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_628.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_629.png"/></span><br/>declares a variable of <span style=" color: #F00;">string  t </span>type, which is used to retrieve the name of the LED color. <span style=" color: #F00;">string  t </span>is a special data type used in Ch for strings.  A <span style=" color: #F00;">string  t </span>data type consists of any combination of letters or numbers, surrounded by quotation marks. For example, the line<br/><span><IMG width="625" height="15" src="chlinkbot/Image_630.png"/></span></p><p class="s17">robot.setLEDColor(<span style=" color: #7F007F;">&quot;red&quot;</span>);</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_631.png"/></span><br/>uses a <span style=" color: #F00;">string  t </span>data type with the value “red” as the argument to set the LED color to red. The next line<br/><span><IMG width="625" height="15" src="chlinkbot/Image_632.png"/></span></p><p class="s17">robot.delaySeconds(2);</p><p>pauses the program in order to allow the LED to shine red for two seconds. The following lines<br/><span><IMG width="625" height="30" src="chlinkbot/Image_633.png"/></span></p><p class="s17">robot.setLEDColor(<span style=" color: #7F007F;">&quot;green&quot;</span>);</p><p class="s17">robot.delaySeconds(2);</p><p>changes the LED color to green for a duration of two seconds.  Program 10.1 continues to use setLED- Color() to change the LED color to blue, purple, aqua, orange, then three different shades of pink. The first seven colors match the default colors for lines and points in the Ch plot. As was mentioned in Section 3.5, Appendix C lists the 139 color names available for changing the LED color of a Linkbot. If a name other than those listed in Appendix C is used, setLEDColor() will print an error message to the input/output panel of ChIDE.<br/>146<br/>10.2.  Set and Get the LED Color by RGB Values<br/>Chapter 10.  Sensory Information for a Linkbot<br/>It is also possible to get the name of the LED color. The <span style=" color: #FF1CCE;">CLinkbotI </span>member function getLEDColor() is used retrieve the name of the current LED color.  Only 137 color names are available for use with ge- tLEDColor(),  and there are many more than 137 colors in existence. Therefore whenever the current LED color is not a color that is listed in Appendix C, the member function getLEDColor()  finds and returns the name of the color closest to it. In Program 10.1, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_634.png"/></span></p><p class="s17">robot.getLEDColor(color);</p><p>passes the name of the most recent LED color through its argument of the member function getLEDColor(). Since the most recent color set by setLEDColor()  is deep pink, the value of the argument <span class="s23">color </span>will be “deepPink” after getLEDColor() is called. The final line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_635.png"/></span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   current color:   %s\n&quot;</span>,   color);</p><p>prints the following message to the input/output pane:</p><p class="s19">          The current color: deepPink                                                                                                                                                                              </p><p><span><IMG width="23" height="16" src="chlinkbot/Image_636.jpg"/></span><br/>The conversion specifier <span class="s23">&quot;%s%&quot; </span>is used to print the value of the variable <span class="s23">color </span>of the string type.<br/>Do Exercise 1 on page 147.</p><p class="s3">10.1.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_637.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.getLEDColor(color);</p><p>to get the LED color for a Linkbot.</p><p class="s3">10.1.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_638.png"/></span><br/>robot.getLEDColor().</p><p class="s3">10.1.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_639.png"/></span><br/>1. Write a program <span class="s23">color2.ch </span>to command a Linkbot-I in the following sequence. Change the LED color to green, move the Linkbot forward 360 degrees, change the LED color to yellow, wait for 1 second, move the Linkbot backward 360 degrees, and finally change the LED color to red. Obtain the current color of the LED.</p><p class="s21">10.2    Set and Get the LED Color by RGB Values</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_640.png"/></span><br/>In Section 10.1 we learned how to set and get the LED color of a Linkbot by using a color name. In this section we will learn how to change the LED color of a Linkbot using RGB values. We will also learn how to receive data from the Linkbot about the red, green, and blue values of the LED color currently displayed.<br/>A Linkbot uses the RGB color model to control the color of its LED. The <span class="s20">RGB color model </span>is an additive<br/>color model, in which the three primary light colors red, green, and blue are added together in various ways to produce a broad array of colors.  The RGB color model is commonly used in cameras, television, and computer monitors to detect, store, and display images. Generally, each of the three primary colors, red, green, and blue, can vary in intensity. The possible values for the intensity of each color range from 0, which<br/>147<br/>10.2.  Set and Get the LED Color by RGB Values<br/>Chapter 10.  Sensory Information for a Linkbot<br/>is an absence of a primary color, to 255, which is the full intensity of a primary color. Figure 10.1 shows the different ways the primary colors can combine to make the secondary colors as well as white. The values of the intensities of the red, green, and blue color components is listed by each color. A few of the rules for RGB values are as follows<br/>1. If all RGB values are equal, then the color is a gray tone.<br/>2. If all RGB values are 0, the color is black (an absence of light).<br/>3. If all RGB values are 255, the color is white.<br/>The <span style=" color: #FF1CCE;">CLinkbotI </span>class uses the member function setLEDColorRGB() to change the LED color of a Linkbot. This member function has the following general syntax</p><p class="s23">robot.setLEDColorRGB(r, g, b);</p><p>The argument <span class="s23">r </span>indicates the amount of red color you want the LED to have, and can be any integer value from 0 to 255. This range of integer values also applies to the arguments <span class="s23">g </span>for green and <span class="s23">b </span>for blue. The <span style=" color: #FF1CCE;">CLinkbotI </span>class uses the member function getLEDColorRGB() to retrieve the RGB values of the current LED color. This function has the general syntax</p><p class="s23">robot.getLEDColorRGB(r, g, b);</p><p>where the arguments <span class="s23">r</span>, <span class="s23">g</span>, and <span class="s23">b </span>return the current intensity values of the primary color components. Pro- gram 10.2 shows how to set and get the Led color of a Linkbot-I using RGB values.<br/><span><IMG width="388" height="388" src="chlinkbot/Image_641.jpg"/></span><br/>Figure 10.1: The relationship between colors in the RGB color model.<br/>148<br/>10.2.  Set and Get the LED Color by RGB Values<br/>Chapter 10.  Sensory Information for a Linkbot<br/><span><IMG width="624" height="380" src="chlinkbot/Image_642.png"/></span></p><p class="s25">/* File: colorrgb.ch</p><p class="s25">Set and get the LED color  by  RGB */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">int <span style=" color: #000;">r, g, b;</span></p><p class="s17">robot.connect();</p><p class="s17">robot.setLEDColorRGB(255, 0, 0);          <span style=" color: #009800;">// red</span></p><p class="s17">robot.delaySeconds(2);</p><p class="s17">robot.setLEDColorRGB(0, 255, 0);           <span style=" color: #009800;">//  green</span></p><p class="s17">robot.delaySeconds(2);</p><p class="s17">robot.setLEDColorRGB(0, 0,  255);           <span style=" color: #009800;">// blue</span></p><p class="s17">robot.delaySeconds(2);</p><p class="s17">robot.setLEDColorRGB(255, 255, 0);       <span style=" color: #009800;">// yellow</span></p><p class="s17">robot.delaySeconds(2);</p><p class="s17">robot.setLEDColorRGB(160, 32,  240);      <span style=" color: #009800;">// purple</span></p><p class="s17">robot.delaySeconds(2);</p><p class="s17">robot.setLEDColorRGB(255, 192, 203);     <span style=" color: #009800;">// pink</span></p><p class="s17">robot.delaySeconds(2);</p><p class="s17">robot.setLEDColorRGB(255, 105, 180);     <span style=" color: #009800;">//  hot pink</span></p><p class="s17">robot.delaySeconds(2);</p><p class="s17">robot.setLEDColorRGB(255, 20,  147);      <span style=" color: #009800;">// deep pink</span></p><p class="s17">robot.getLEDColorRGB(r, g, b);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;The   RGB  value for  the current color:   %d    %d    %d\n&quot;</span>,   r, g, b);</p><p>Program 10.2: Setting and getting the LED color for a Linkbot-I using RGB values.<br/>Program 10.2 is similar to Program 10.1 in that it shows how to set and get the LED color of a Linkbot-I. In Program 10.2, however, setting and getting the LED color is done using the RGB color model. The first line of the program<br/><span><IMG width="624" height="15" src="chlinkbot/Image_643.png"/></span></p><p class="s33">int <span style=" color: #000;">r, g, b;</span></p><p>declares three <span style=" color: #F00;">int </span>type variables <span class="s23">r</span>, <span class="s23">g</span>, and <span class="s23">b </span>to hold the red, green, and blue color values of the LED. These variables will be used to retrieve the LED color values from the Linkbot-I. After the variable <span class="s23">robot </span>is connected to a Linkbot-I, the following line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_644.png"/></span></p><p class="s17">robot.setLEDColorRGB(255, 0, 0);      <span style=" color: #009800;">// red</span></p><p>sets the LED color to red using the <span style=" color: #FF1CCE;">CLinkbotI </span>member function setLEDColorRGB(). Since this function is first used in Program 10.2 to set the LED to red, the value of the argument <span class="s23">r </span>is 255. This gives the full intensity of the red color component. Since no green or blue is needed in the color mix, the arguments <span class="s23">g </span>and <span class="s23">b </span>are both 0, specifying an absence of these colors. After the LED is set to red, the next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_645.png"/></span></p><p class="s17">robot.delaySeconds(2);</p><p>pauses the program for 2 seconds. This controls the length of time that the LED continues to shine red. The following line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_646.png"/></span></p><p class="s17">robot.setLEDColorRGB(0, 255, 0);      <span style=" color: #009800;">//  green</span></p><p>changes the LED to green by setting the argument <span class="s23">g </span>to 255 while setting both the arguments <span class="s23">r </span>and <span class="s23">b </span>to 0. This gives the green color component its full intensity while red and blue have zero intensity. The program is then paused for 2 seconds using the member function delaySeconds(), to allow the LED to shine green until the next color change. The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_647.png"/></span></p><p class="s17">robot.setLEDColorRGB(0, 0,  255);      <span style=" color: #009800;">// blue</span></p><p>149<br/>10.2.  Set and Get the LED Color by RGB Values<br/>Chapter 10.  Sensory Information for a Linkbot<br/>Changes the LED to blue by setting the argument <span class="s23">b </span>to full intensity while setting the arguments <span class="s23">r </span>and <span class="s23">g </span>to zero intensity. After the LED is changed to blue, the program is paused once again for 2 seconds before the next color change. The LED color is not limited to the primary colors red, green, and blue. For instance, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_648.png"/></span></p><p class="s17">robot.setLEDColorRGB(255, 255, 0);   <span style=" color: #009800;">// yellow</span></p><p>mixes red and green to make yellow by setting the values of both <span class="s23">r </span>and <span class="s23">g </span>to their full intensity while setting the value of <span class="s23">b </span>to zero intensity. In addition to mixing primary colors at full intensity, it is possible to mix the primary color components at various intermediate values. For example, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_649.png"/></span></p><p class="s17">robot.setLEDColorRGB(255, 192, 203);             <span style=" color: #009800;">// pink</span></p><p>mixes all three primary colors at intermedate intensities necessary to make the LED pink. Furthermore, by changing the intensities of some of the primary components it is possible to make different shades of pink. For example, Program 10.2 proceeds to change the LED to hot pink and then to deep pink by changing the values of <span class="s23">g </span>and <span class="s23">b </span>while keeping <span class="s23">r </span>at full intensity. The LED is also changed to purple by increasing the intensity of blue while decreasing the intensity of red. The following line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_650.png"/></span></p><p class="s17">robot.getLEDColorRGB(r, g, b);</p><p>uses the <span style=" color: #FF1CCE;">CLinkbotI </span>member function getLEDColorRGB() to retrieve the red, green, and blue components of the current LED color. Since the last color the LED is set to is deep pink, the values returned in this case are 255 for <span class="s23">r</span>, 20 for <span class="s23">g</span>, and 147 for <span class="s23">b</span>.  The final <span style=" color: #FF1CCE;">printf</span>()  statement outputs the following content to the console.</p><p class="s19">          The RGB value for the current color: 255, 20, 147                                                                                                         </p><p><span><IMG width="23" height="16" src="chlinkbot/Image_651.jpg"/></span><br/>Do Exercises 1 on page 150.</p><p class="s3">10.2.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_652.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.setLEDColorRGB(r, g, b);</p><p>to set the color of the LED on a Linkbot.<br/>2. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.getLEDColorRGB(r, g, b);</p><p>to get the red, green, and blue values of the current LED color.</p><p class="s3">10.2.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_653.png"/></span><br/>robot.setLEDColorRGB(), robot.getLEDColorRGB(), RGB color model.</p><p class="s3">10.2.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_654.png"/></span><br/>1. Write a program <span class="s23">colorrgb2.ch </span>that takes user input for the R, G, and B color values of the LED.<br/>Then set the LED of a Linkbot-I using these user specified values.<br/>150<br/>10.3.  Set the Buzzer Frequency of a Linkbot<br/>Chapter 10.  Sensory Information for a Linkbot</p><p class="s21">10.3    Set the Buzzer Frequency of a Linkbot</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_655.png"/></span><br/>In this section, we will learn how to set the buzzer frequency of a Linkbot. We will also learn how to start the buzzer, stop the buzzer, and make the buzzer sound for a specified length of time. A Linkbot’s buzzer can be set to an integer value, which indicates the frequency of the buzzer in hertz (Hz). In terms of sound, hertz is defined as<br/><span><IMG width="72" height="1" src="chlinkbot/Image_656.png"/></span></p><p class="s5">1 H ertz = 1 vibration</p><p class="s5">second</p><p>The frequency of a sound determines its pitch. The more vibrations per second, the higher the frequency. And the higher the frequency, the higher the buzzer will sound.  The lower the frequency, the lower the buzzer will sound.  Although it is possible to use any integer value to set the frequency, generally only frequencies between 20 Hz and 20,000 Hz can be heard by the human ear.  Learning how to control the buzzer of a Linkbot enables the user to program a Linkbot to make music.</p><p class="s3">10.3.1   Set the Buzzer to a Specified Frequency</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_657.png"/></span><br/>Program 10.3 demonstrates the basics of how to turn the buzzer on at a specified frequency and how to turn it off.<br/><span><IMG width="625" height="147" src="chlinkbot/Image_658.png"/></span></p><p class="s25">/* File: buzzer.ch</p><p class="s25">Make a buzz with  the  frequency  450 for  1 second */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">int <span style=" color: #000;">freq =  450;                       </span><span style=" color: #009800;">// frequency for  the buzz.</span></p><p class="s17">robot.connect();</p><p class="s17">robot.setBuzzerFrequencyOn(freq); <span style=" color: #009800;">// set  the buzzer on</span></p><p class="s17">robot.delaySeconds(1);            <span style=" color: #009800;">// make a  buzz  for 1 second</span></p><p class="s17">robot.setBuzzerFrequencyOff();    <span style=" color: #009800;">//  set the buzzer off</span></p><p>Program 10.3: Setting the buzzer frequency for a Linkbot-I.<br/>The line<br/><span><IMG width="625" height="15" src="chlinkbot/Image_659.png"/></span></p><p class="s33">int <span style=" color: #000;">freq = 450;          </span><span style=" color: #009800;">// frequency for  the buzz.</span></p><p>declares a variable <span class="s23">freq </span>of <span style=" color: #F00;">int </span>type and assigns it the value 450. This will be the frequency of the buzz in hertz. After the program connects to a Linkbot, the line<br/><span><IMG width="625" height="15" src="chlinkbot/Image_660.png"/></span></p><p class="s17">robot.setBuzzerFrequencyOn(freq); <span style=" color: #009800;">//  set  the buzzer on</span></p><p>sets the buzzer of the Linkbot to a frequency of 450 Hz and then turns it on. This is done using the <span style=" color: #FF1CCE;">CLinkbotI </span>member function setBuzzerFrequencyOn(). The argument <span class="s23">freq </span>indicates the desired buzzer frequency. The next line<br/><span><IMG width="625" height="15" src="chlinkbot/Image_661.png"/></span></p><p class="s17">robot.delaySeconds(1);    <span style=" color: #009800;">// make a  buzz  for  1 second</span></p><p>pauses the program to allow the buzzer to sound for one second. The final program statement<br/><span><IMG width="625" height="15" src="chlinkbot/Image_662.png"/></span></p><p class="s17">robot.setBuzzerFrequencyOff();         <span style=" color: #009800;">//  set the buzzer off</span></p><p><span><IMG width="23" height="16" src="chlinkbot/Image_663.jpg"/></span><br/>uses the <span style=" color: #FF1CCE;">CLinkbotI </span>member function setBuzzerFrequencyOff() to turn off the buzzer.<br/>Do Exercise 1, on page 155.<br/>151<br/>10.3.  Set the Buzzer Frequency of a Linkbot<br/>Chapter 10.  Sensory Information for a Linkbot</p><p class="s3">10.3.2   Set the Buzzer Multiple Times Using a <span style=" color: #F00;">while </span>Loop with a User Specified Frequency</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_664.png"/></span><br/>It is also possible to change the frequency of the buzzer to different values, as specified by user input. The frequency can be changed as many times as a user wants within a single program. To do this, we will use a control structure called a loop to control the flow of the program.<br/><span><IMG width="624" height="249" src="chlinkbot/Image_665.png"/></span></p><p class="s25">/* File: buzzer2.ch</p><p class="s25">Make  a buzz with the frequency specified  by the user   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">int <span style=" color: #000;">freq;</span></p><p class="s17"><span style=" color: #FF1CCE;">string_t </span>answer  = <span style=" color: #7F007F;">&quot;yes&quot;</span>;             <span style=" color: #009800;">/* &quot;yes&quot; to continue,   others to quit */</span></p><p class="s17">robot.connect();</p><p class="s17"><span style=" color: #F00;">while</span>(answer ==  <span style=" color: #7F007F;">&quot;yes&quot;</span>) {</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Please input the frequency for  the buzzer\n&quot;</span>);</p><p class="s17"><span style=" color: #FF1CCE;">scanf</span>(<span style=" color: #7F007F;">&quot;%d&quot;</span>,   &amp;freq);</p><p class="s17">robot.setBuzzerFrequencyOn(freq);</p><p class="s17">robot.delaySeconds(1);</p><p class="s17">robot.setBuzzerFrequencyOff();</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Would   you like to enter  another frequency? Type yes or no.\n&quot;</span>);</p><p class="s17"><span style=" color: #FF1CCE;">scanf</span>(<span style=" color: #7F007F;">&quot;%s&quot;</span>,   &amp;answer);</p><p class="s17">}</p><p>Program 10.4: Using the function <span style=" color: #FF1CCE;">scanf</span>() and a <span style=" color: #F00;">while </span>loop to set the buzzer frequency multiple times.<br/>Program 10.4 asks a user to input a frequency, sounds the buzzer at that frequency, and repeats this until the user is done entering frequencies. The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_666.png"/></span></p><p class="s33">int <span style=" color: #000;">freq;</span></p><p>declares a variable <span class="s23">freq </span>of type <span style=" color: #F00;">int </span>to hold the user entered frequency. The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_667.png"/></span></p><p class="s17"><span style=" color: #FF1CCE;">string_t </span>answer  = <span style=" color: #7F007F;">&quot;yes&quot;</span>;             <span style=" color: #009800;">/* &quot;yes&quot; to continue,   others to quit */</span></p><p><span><IMG width="5" height="1" src="chlinkbot/Image_668.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_669.png"/></span><br/>declares a variable <span class="s23">answer </span>of type <span style=" color: #F00;">string  t </span>and initializes it with the string ”yes”. <span style=" color: #F00;">string  t </span>is a standard data type used for strings in Ch. The variable <span class="s23">answer </span>will be used to determine whether or not to continue asking the user for frequency values. The commands in Program 10.4 that take in user input and control the buzzer are repeated using a <span style=" color: #F00;">while </span>loop. A <span class="s20">loop </span>is a sequence of statements which is specified once but which may be carried out multiple times in succession. A loop can be an effective way of determining at run time how many times to repeat a sequence of statements. A <span style=" color: #F00;">while </span>loop repeats this sequence until the loop condition is no longer true. The general syntax of a <span style=" color: #F00;">while </span>loop is</p><p class="s23">while(condition){</p><p class="s23">/* code */</p><p class="s23">}</p><p>where the argument <span class="s23">condition </span>specifies the loop condition. A <span class="s20">loop condition </span>expression must be true in order to enter and then repeat the <span style=" color: #F00;">while </span>loop. In the case of Program 10.4 the expression<br/><span class="s23">answer  == &quot;yes&quot; </span>is used as the loop condition.  Each time the sequence of statements is about to execute, the value of <span class="s23">answer </span>is compared to the value specified in the loop condition. When the variable <span class="s23">answer </span>has the value <span class="s23">&quot;yes&quot;</span>, the loop condition evaluates as true and the program can enter and repeat the loop. <span class="s20">Entering </span>a <span style=" color: #F00;">while </span>loop refers to the first time the code sequence inside the loop is executed. If the loop condition is false before the program gets to the loop, then the loop will not be entered. For instance,<br/>152<br/>10.3.  Set the Buzzer Frequency of a Linkbot<br/>Chapter 10.  Sensory Information for a Linkbot<br/>if the variable <span class="s23">answer </span>in Program 10.4 initially had the value <span class="s23">&quot;no&quot; </span>then the program would not enter the loop at all. After entering a loop, the loop repeats until the loop condition is false. This is called <span class="s20">exiting </span>the <span style=" color: #F00;">while </span>loop. In the case of Program 10.4, when the variable <span class="s23">answer </span>has any value other than <span class="s23">&quot;yes&quot; </span>the loop condition expression evaluates as false and the program will exit the loop. In general, the argument <span class="s23">condition </span>can have the value of <span class="s23">true </span>or 1, <span class="s23">false </span>or 0, or it can be a mathematical expression that evaluates as <span class="s23">true </span>or <span class="s23">false</span>.<br/>Inside the <span style=" color: #F00;">while </span>loop of program 10.4, the lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_670.png"/></span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Please input the frequency for  the buzzer\n&quot;</span>);</p><p class="s17"><span style=" color: #FF1CCE;">scanf</span>(<span style=" color: #7F007F;">&quot;%d&quot;</span>,   &amp;freq);</p><p>prompt the user to input a frequency, and stores the input in the variable <span class="s23">freq</span>. The next lines<br/><span><IMG width="624" height="44" src="chlinkbot/Image_671.png"/></span></p><p class="s17">robot.setBuzzerFrequencyOn(freq); robot.delaySeconds(1); robot.setBuzzerFrequencyOff();</p><p>sound the buzzer at the frequency specified by the user input for one second, then the lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_672.png"/></span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Would   you like to enter  another frequency? Type yes or no.\n&quot;</span>);</p><p class="s17"><span style=" color: #FF1CCE;">scanf</span>(<span style=" color: #7F007F;">&quot;%s&quot;</span>,   &amp;answer);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_673.jpg"/></span><br/>asks the user if they want to enter another frequency. The user’s answer is stored in the variable <span class="s23">answer</span>. As long as the user enters <span class="s23">yes</span>, then the loop condition <span class="s23">answer  == &quot;yes&quot; </span>is true and the loop will repeat. Once the user enters <span class="s23">no </span>then the loop condition will be false and the loop will not repeat. The program will then finish executing. When program 10.4 is run, the buzzer can be set at a new frequency as many times as the user wants. The program also finishes when the user decides to quit.<br/>Do Exercise 2, on page 155.</p><p class="s3">10.3.3   Change the Buzzer Frequency  a Predetermined Number  of Times</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_674.png"/></span><br/>In Section 10.3.2 we learned that <span style=" color: #F00;">while </span>loops are valuable for deciding how many times to repeat a sequence of statements at runtime.  In this section we will learn that <span style=" color: #F00;">while </span>loops are also useful for repeating a sequence of statements for the number of times determined ahead of time by the programmer. Program 10.5 demonstrates how to use a <span style=" color: #F00;">while </span>loop to increase the buzzer frequency a predetermined number of times.<br/><span><IMG width="624" height="205" src="chlinkbot/Image_675.png"/></span></p><p class="s25">/* File: buzzer3.ch</p><p class="s25">Make  buzzes with the frequencies  from 1 to 10000 */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">int <span style=" color: #000;">freq =  1;</span></p><p class="s17">robot.connect();</p><p class="s33">while <span style=" color: #000;">(freq&lt;10000) {</span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;frequency   is %d\n&quot;</span>,   freq);</p><p class="s17">robot.setBuzzerFrequencyOn(freq);</p><p class="s17">robot.delaySeconds(0.05);</p><p class="s17">robot.setBuzzerFrequencyOff();</p><p class="s17">freq =  freq +  1;</p><p class="s17">}</p><p>Program 10.5: Gradually increasing the buzzer frequency using a <span style=" color: #F00;">while </span>loop.<br/>Program 10.5 increases the buzzer frequency of a Linkbot-I by 1 Hz every 50 milliseconds until the frequency of the buzzer reaches 9,999 Hz. The line<br/>153<br/>10.3.  Set the Buzzer Frequency of a Linkbot<br/>Chapter 10.  Sensory Information for a Linkbot<br/><span><IMG width="624" height="15" src="chlinkbot/Image_676.png"/></span></p><p class="s33">int <span style=" color: #000;">freq =  1;</span></p><p>declares a variable of <span style=" color: #F00;">int </span>type and assigns it a value of 1.  This is the starting frequency of the Linkbot’s buzzer. The statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_677.png"/></span></p><p class="s33">while <span style=" color: #000;">(freq&lt;10000)</span></p><p>establishes a <span style=" color: #F00;">while </span>loop with <span class="s23">freq&lt;10000 </span>as the loop condition. This loop condition will be true as long as the variable <span class="s23">freq </span>has a value less than 10,000 Hz. The loop will repeat until the variable <span class="s23">freq </span>is equal to or greater than 10,000 Hz, which will make the loop condition false. Inside the <span style=" color: #F00;">while </span>loop, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_678.png"/></span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;frequency   is %d\n&quot;</span>,   freq);</p><p>prints the current frequency of the buzzer to the console. The following lines<br/><span><IMG width="624" height="44" src="chlinkbot/Image_679.png"/></span></p><p class="s17">robot.setBuzzerFrequencyOn(freq); robot.delaySeconds(0.05); robot.setBuzzerFrequencyOff();</p><p>sets the buzzer to the current frequency value, sounds the buzzer for 0.05 seconds, and then turns it off. The final line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_680.png"/></span></p><p class="s17">freq =  freq   +  1;</p><p>increases the value of the buzzer frequency by 1 Hz. Overall, the <span style=" color: #F00;">while </span>loop in this program will repeat 9,999 times, each time buzzing at the current frequency for 50 milliseconds and then increasing the frequency by<br/><span><IMG width="23" height="16" src="chlinkbot/Image_681.jpg"/></span><br/>1 Hz. Even though the buzzer is turned off during each repetition, a very small amount of time passes before the buzzer turns on again. The time elapsed can be measured in microseconds. Because this amount of time is so small, the human ear does not detect it. This makes the buzzer sound like it is on the entire time that the frequency is increasing.<br/>Do Exercise 3, on page 155.</p><p class="s3">10.3.4   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_682.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.setBuzzerFrequencyOn(freq);</p><p>to turn on the buzzer of a Linkbot at a specified frequency.<br/>2. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.setBuzzerFrequencyOff();</p><p>to turn off the buzzer of a Linkbot.<br/>3. Use a <span style=" color: #F00;">while </span>loop to repeat a sequence of statements multiple times in succession while the  loop condition is true.</p><p class="s3">10.3.5   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_683.png"/></span><br/>robot.setBuzzerFrequencyOn(), robot.setBuzzerFrequencyOff(), loop, <span style=" color: #F00;">while </span>loop, loop condition, en- tering a loop, exiting a loop.<br/>154<br/>10.4.  Get the Accelerometer Data<br/>Chapter 10.  Sensory Information for a Linkbot</p><p class="s3">10.3.6   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_684.png"/></span><br/>1. Write a program <span class="s23">buzzer4.ch</span>, which will be based off of program <span class="s23">color2.ch </span>from Exercise 1 on page 147. Make the following change to the code: after changing the LED color to yellow, make the Linkbot buzz at a frequency of 350 Hz for one second. Then move the Linkbot-I backward 360 degrees.<br/>2. Write a program <span class="s23">buzzer5.ch </span>using a <span style=" color: #F00;">while </span>loop that repeats the following sequence of commands.<br/>Prompt the user to enter a frequency value. Set the buzzer to that user specified value for 1 second,<br/>then set the buzzer to half of that user specified frequency value for another second. Then ask the user if they want to enter another value.<br/>3. Write a program <span class="s23">buzzer6.ch </span>that plays all the odd-valued frequencies from 1 Hz to 4999 Hz on the buzzer of a Linkbot-I. Use a <span style=" color: #F00;">while </span>loop to accomplish this.</p><p class="s21">10.4    Get the Accelerometer Data</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_685.png"/></span><br/>In this section we will learn how to read the accelerometer data of a Linkbot-I. An <span class="s20">accelerometer </span>is a type of sensor that measures the acceleration, or g-force, experienced by an object such as a robot. Accelerometers have many important applications in robotics.  Because an accelerometer can sense g-forces in real time, it is useful in analyzing the way a robot moves. For example, an accelerometer can be used in a guidance system to help a robot determine the ideal path to perform a task. Accelerometers are commonly used to help robots to navigate different types of terrain and aid robots in collision detection. Consequently, it is a useful skill to be able to program a robot to receive, process, and respond to accelerometer data in real time.<br/><span><IMG width="382" height="379" src="chlinkbot/Image_686.jpg"/></span><br/>Figure 10.2: The X, Y, and Z directions of the accelerometer.<br/>155<br/>10.4.  Get the Accelerometer Data<br/>Chapter 10.  Sensory Information for a Linkbot<br/>The Linkbot accelerometer measures the magnitude and direction of g-forces along the X, Y, and Z axes.  Figure 10.2 shows the positive and negative directions of the X, Y, and Z axes as detected by the accelerometer of a Linkbot-I. These axes are the same for a Linkbot-L. This accelerometer can detect all the free falls, bumps, and tilt angles of a Linkbot. The accelerometer helps to connect two Linkbots through BumpConnect, by detecting the collision of the Linkbots. The accelerometer can also be used to control a Linkbot using the accelerometer readings of another Linkbot.<br/>The values of the X, Y, and Z components and magnitude of the accelerometer for a Linkbot can be viewed via the Sensors Panel as shown in Figure 2.11 on page 18. Program 10.6 shows how to program a Linkbot-I to retrieve the X, Y, and Z components of the data from its accelerometer. While running Program<br/>10.6, be sure to hold the Linkbot and move or tilt it in different directions.<br/><span><IMG width="624" height="220" src="chlinkbot/Image_687.png"/></span></p><p class="s25">/* File: getaccelerometer.ch</p><p class="s25">get the accelerometer data */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">x, y, z;</span></p><p class="s25">/* Connect to the robot */</p><p class="s17">robot.connect();</p><p class="s17"><span style=" color: #F00;">while</span>(1) { robot.getAccelerometerData(x, y, z); <span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Accelerometer:   x: %lf y: %lf z: %lf\n&quot;</span>,   x, y, z); robot.delaySeconds(1);</p><p class="s17">}</p><p>Program 10.6: Getting the accelerometer data of a Linkbot-I using the function getAccelerometerData().<br/>The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_688.png"/></span></p><p class="s33">double <span style=" color: #000;">x, y, z;</span></p><p>declares three variables of type <span style=" color: #F00;">double</span>, <span class="s23">x</span>, <span class="s23">y</span>, and <span class="s23">z</span>, to hold the values of the X, Y, and Z components of the accelerometer data. After connecting to the Linkbot, the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_689.png"/></span></p><p class="s33">while<span style=" color: #000;">(1)</span></p><p>starts a <span style=" color: #F00;">while </span>loop with a loop condition of 1. This condition will always be true, so the loop will repeat until the Linkbot is turned off or the user presses the <span class="s23">Stop </span>button on the debug bar in ChIDE. Inside the <span style=" color: #F00;">while </span>loop, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_690.png"/></span></p><p class="s17">robot.getAccelerometerData(x, y, z);</p><p>retrieves the current X, Y, and Z components of the accelerometer data using the <span style=" color: #FF1CCE;">CLinkbotI </span>member func- tion getAccelerometerData(). After this member function is called, the arguments <span class="s23">x</span>, <span class="s23">y</span>, and <span class="s23">z </span>will hold the values of the X, Y, and Z components of acceleration. The next two lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_691.png"/></span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Accelerometer:   x: %lf y: %lf z: %lf\n&quot;</span>,   x, y, z);</p><p class="s17">robot.delaySeconds(1);</p><p>print the X, Y, and Z values of acceleration to the console, and delay the program for one second before repeating the <span style=" color: #F00;">while </span>loop. The sequence of statements inside the loop will repeatedly get accelerometer data from the Linkbot-I and print this data to the console as long as Program 10.6 continues running.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_692.jpg"/></span><br/>An application of the accelerometer data will be illustrated by a robot relay race in section 11.8.1 on page 191.<br/>Do Exercises 1, and 2 on page 157.<br/>156<br/>10.5.  Get the Battery Voltage<br/>Chapter 10.  Sensory Information for a Linkbot</p><p class="s3">10.4.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_693.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.getAccelerometerData(x, y, z);</p><p>to get the X, Y, and Z component values from the accelerometer of a Linkbot-I.</p><p class="s3">10.4.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_694.png"/></span><br/>robot.getAccelerometerData(), accelerometer.</p><p class="s3">10.4.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_695.png"/></span><br/>1. Connect a Linkbot-I to BaroboLink. Click on the “Sensors” tab and look at sliders under ”Accelerom- eter Data”. Move the Linkbot into a position where X equals 1, while Y and Z are both approximately zero.  Then, move the Linkbot into a position where Y equals 1 while X and Z are both approxi- mately zero.  Finally, move the Linkbot into a position where Z equals 1 while X and Y are both approximately zero.<br/>2. Run Program 10.6 and move the Linkbot-I into the positions described in Exercise 1.</p><p class="s21">10.5    Get the Battery  Voltage</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_696.png"/></span><br/>In this section, we will learn how to read the battery voltage of a Linkbot-I. It is useful to have the ability to monitor how much battery life is left on a Linkbot before it needs to be recharged. Program 10.7 shows how to check the remaining battery voltage of a Linkbot-I.<br/><span><IMG width="624" height="176" src="chlinkbot/Image_697.png"/></span></p><p class="s25">/* File: getbattery.ch</p><p class="s25">get the battery  voltage */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">v;</span></p><p class="s25">/* Connect to the robot */</p><p class="s17">robot.connect();</p><p class="s17">robot.getBatteryVoltage(v);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Battery  voltage is %lf\n&quot;</span>,   v);</p><p>Program 10.7: Getting the battery voltage of a Linkbot-I using the function getBatteryVoltage().<br/>Program 10.7 retrieves the battery voltage of a Linkbot-I. The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_698.png"/></span></p><p class="s33">double <span style=" color: #000;">v;</span></p><p>declares a variable <span class="s23">v </span>of type <span style=" color: #F00;">double</span>. This variable will be used to hold the voltage value. After the program connects to a Linkbot, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_699.png"/></span></p><p class="s17">robot.getBatteryVoltage(v);</p><p>157<br/>10.5.  Get the Battery Voltage<br/>Chapter 10.  Sensory Information for a Linkbot<br/>gets the voltage of the battery using the <span style=" color: #FF1CCE;">CLinkbotI </span>member function getBatteryVoltage(). After this func- tion is called, the argument <span class="s23">v </span>will have the voltage value of the Linkbot’s battery. This value is then printed to the console by the statement below.<br/><span><IMG width="624" height="15" src="chlinkbot/Image_700.png"/></span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Battery  voltage is %lf\n&quot;</span>,   v);</p><p>The maximum voltage of a Linkbot’s lithium-ion battery pack is 4.2 volts.  The battery dies when it reaches a voltage of about 3.3 volts, and the Linkbot needs to be recharged.  Figure 10.3 shows how a fully charged battery of a Linkbot discharges over time. This graph was obtained by running Program 10.8. Some of the programming techniques used in Program 10.8 are beyond the scope of this book. Just keep in mind that Program 10.8 measures the battery voltage of a Linkbot-I every 5 minutes until the battery dies. The data is stored in a separate file, which is used to generate the graph after all measurements are taken. Between measurements, joints 1 and 3 of the Linkbot were rotated forward at the maximum speed of 240 degrees per second. This rotation of joints 1 and 3 simulates a constant workload, in order to give a better idea of how the battery will discharge under heavy use.<br/><span><IMG width="480" height="276" src="chlinkbot/Image_701.jpg"/></span><br/>Figure 10.3: The discharge profile of a Linkbot-I battery over time.<br/>Under this workload, the Linkbot-I battery lasts about 6 hours. Notice that the discharging pattern is not linear. The battery discharges slowly over a period of about 5.7 hours, then the voltage drops off quickly in the remaining half hour.<br/>158<br/>10.5.  Get the Battery Voltage<br/>Chapter 10.  Sensory Information for a Linkbot<br/><span><IMG width="624" height="804" src="chlinkbot/Image_702.png"/></span></p><p class="s25">/* File: batterytest.ch</p><p class="s25">Get the battery  voltage every 5 minutes and store  it in a file until  the battery</p><p class="s25">dies.   Then plot  voltage  vs.   time from the  file.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s27">#include &lt;chplot.h&gt;</p><p class="s27">#include &lt;stdio.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot; </span>CPlot <span style=" color: #000;">plot;</span></p><p class="s33">double <span style=" color: #000;">time  = 300;  </span><span style=" color: #009800;">// 5 minutes  == 5 *  60 seconds  == 300 seconds.</span></p><p class="s33">double  <span style=" color: #000;">hour  = 3600.0; </span><span style=" color: #009800;">//1   hour == 1 *  60 minutes  *  60 seconds  == 3600 seconds.</span></p><p class="s33">double <span style=" color: #000;">totalTime  =  0;   </span><span style=" color: #009800;">// a variable  to keep track of the total  time in seconds.</span></p><p class="s33">double <span style=" color: #000;">voltage  =  4.2;  </span><span style=" color: #009800;">//  a starting value for v,  so that the program enters  the</span></p><p class="s25">//while loop.</p><p class="s33">double <span style=" color: #000;">speed=240; </span><span style=" color: #009800;">// max  joint speed(deg/s).</span></p><p class="s17"><span style=" color: #FF1CCE;">string_t  </span>filename =  <span style=" color: #7F007F;">&quot;voltage.txt&quot;</span>;   <span style=" color: #009800;">//The   file used to store  the data.</span></p><p class="s16">FILE <span style=" color: #000;">* stream; </span><span style=" color: #009800;">// this will be the  file stream.</span></p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s17"><span style=" color: #009800;">//Set joints  to maximum  speed </span>robot.setJointSpeeds(speed,<span style=" color: #FF1CCE;">NaN</span>,speed);</p><p class="s17">stream  = fopen(<span style=" color: #7F007F;">&quot;voltage.txt&quot;</span>,   <span style=" color: #7F007F;">&quot;w&quot;</span>);   <span style=" color: #009800;">//Open   the file stream </span><span style=" color: #F00;">if</span>(stream   ==  <span style=" color: #FF1CCE;">NULL</span>)   <span style=" color: #009800;">// If file stream  does not  open successfully,</span></p><p class="s17">{                       <span style=" color: #009800;">// then exit  the program. </span><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;Error:   cannot  open ’voltage.txt’\n&quot;</span>); <span style=" color: #FF1CCE;">exit</span>(-1);</p><p class="s17">}</p><p class="s25">//  repeat the following until  v  &lt; 3.3, when  battery  should die. <span style=" color: #F00;">while </span><span style=" color: #000;">(voltage &gt;=  3.3){</span></p><p class="s25">// moveTime()   for 5 minutes <span style=" color: #000;">robot.moevTime(time);</span></p><p class="s25">// add 5 minutes  to  total  time <span style=" color: #000;">totalTime =  totalTime +  (time/hour);</span></p><p class="s25">//  get the battery voltage <span style=" color: #000;">robot.getBatteryVoltage(voltage);</span></p><p class="s17"><span style=" color: #009800;">// store  time and voltage values in  a file </span>fprintf(stream, <span style=" color: #7F007F;">&quot;%lf %lf\n&quot;</span>,   totalTime, voltage);</p><p class="s17">}</p><p class="s17">fclose(stream);</p><p class="s17">plot.mathCoord();</p><p class="s17">plot.title(<span style=" color: #7F007F;">&quot;Max   speed:   Remaining Battery  Voltage vs.   Time&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_X,  <span style=" color: #7F007F;">&quot;time (hours)&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;battery  voltage (volts)&quot;</span>);</p><p class="s17">plot.dataFile(<span style=" color: #7F007F;">&quot;voltage.txt&quot;</span>);</p><p class="s17">plot.plotting();</p><p>Program 10.8: Plotting the discharge of a Linkbot battery over time.<br/>159<br/>10.5.  Get the Battery Voltage<br/>Chapter 10.  Sensory Information for a Linkbot<br/>Do Exercise 1, and 2 on page 160.</p><p class="s3">10.5.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_703.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.getBatteryVoltage(v);</p><p>to get the battery voltage of a Linkbot-I.</p><p class="s3">10.5.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_704.png"/></span><br/>robot.getBatteryVoltage().</p><p class="s3">10.5.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_705.png"/></span><br/>1. Write a program <span class="s23">getbattery2.ch </span>to get the battery voltage of a Linkbot-I, and then calculate the percent of the battery voltage remaining. Print both the voltage and the voltage percent to the console.<br/>2. Write a program <span class="s23">getbattery3.ch </span>using a <span style=" color: #F00;">while </span>loop to get the battery voltage of a Linkbot-I every 5 minutes until the battery is fully discharged.  Each time you get the voltage, print it to the console, along with the amount of time in seconds that has passed since the program started.  In between voltage measurements, move joints 1 and 3 of the Linkbot-I for 5 minutes.<br/>160<br/><span><IMG width="627" height="8" src="chlinkbot/Image_706.png"/></span><br/><span><IMG width="624" height="3" src="chlinkbot/Image_707.png"/></span></p><p class="s1">CHAPTER 11</p><p><span><IMG width="624" height="3" src="chlinkbot/Image_708.png"/></span></p><p class="s6">Writing Programs to Control</p><p class="s6">Multiple Individual Linkbots</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_709.png"/></span></p><p class="s21">11.1    Control  Multiple  Linkbots  Using the Motion</p><p class="s21">Control  Panel</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_710.jpg"/></span><br/>A computer can connect to multiple Linkbots as described in section 2.2 in Chapter 2. The Motion Control Panel can be used to control multiple Linkbots, one at a time.  If a computer is connected to multiple Linkbots, an individual Linkbot can be selected to be controlled by picking the ZigBee serial number of the Linkbot from the drop down menu labeled as “Select a robot to control” underneath the tabs as shown in Figure 2.12 on page 20.<br/>Do Exercise 1 on page 161.</p><p class="s3">11.1.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_711.png"/></span><br/>1. Connect to multiple Linkbots from a computer through the BaroboLink and control one Linkbot at a time through the Motion Control Panel.</p><p class="s3">11.1.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_712.png"/></span><br/>Motion Control Panel.</p><p class="s3">11.1.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_713.png"/></span><br/>1. Work with your partner to connect a computer to two Linkbots. Control the connected two Linkbots using a Linkbot Control Panel of BaroboLink on the computer.<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.2.  Control Multiple Linkbots Using a Program</p><p class="s21">11.2    Control  Multiple Linkbots  Using a Program</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_714.png"/></span><br/>In Chapter 6 we learned how to control multiple Linkbots in a group with identical movements simultane- ously.  In this chapter we will learn how to control multiple Linkbots in the same program, but they will have different movements at different times. Although it is efficient to control multiple robots using a single group, there will be times when it is preferable for robots to move independently within the same program.<br/><span><IMG width="241" height="161" src="chlinkbot/Image_715.jpg"/></span><br/>Figure 11.1: Control two modules of Linkbot-I.<br/><span><IMG width="624" height="263" src="chlinkbot/Image_716.png"/></span></p><p class="s25">/* File: twomodules.ch</p><p class="s25">Control  two robots  sequentially.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2;</span></p><p class="s25">/* connect to robots.   */ <span style=" color: #000;">robot1.connect(); robot2.connect();</span></p><p class="s25">/* move  to the zero position  for  robot1 and robot2 sequentially.   */</p><p class="s17">robot1.resetToZero();</p><p class="s17">robot2.resetToZero();</p><p class="s25">/* move  joints 1 and 3 for  robot1 */</p><p class="s17">robot1.move(360, <span style=" color: #FF1CCE;">NaN</span>,   -360);</p><p class="s25">/* move  joints 1 and 3 for  robot2 */</p><p class="s17">robot2.move(360, <span style=" color: #FF1CCE;">NaN</span>,   -360);</p><p>Program 11.1: Controlling two modules of Linkbot-I in a program.<br/>Recall that Program 3.2 on page 35 moves a single Linkbot-I forward by 360 degrees. Program 11.1 moves two Linkbots forward by 360 degrees, in the same manner as Program 3.2. But each Linkbot-I moves at a different time. The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_717.png"/></span></p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2;</span></p><p>declares a separate variable for each Linkbot. Then the lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_718.png"/></span></p><p class="s17">robot1.connect();</p><p class="s17">robot2.connect();</p><p>162<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.3.  Blocking versus Non-Blocking Functions<br/>connects the two variables to Linkbots sequentially.  This means <span class="s23">robot2 </span>does not start to connect until <span class="s23">robot1 </span>has finished connecting. The subsequent commands to reset the joints of each Linkbot to zero also execute sequentially. The first of the next two lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_719.png"/></span></p><p class="s17">robot1.move(360, <span style=" color: #FF1CCE;">NaN</span>,   -360);</p><p class="s17">robot2.move(360, <span style=" color: #FF1CCE;">NaN</span>,   -360);</p><p>moves <span class="s23">robot1 </span>forward 360 degrees first. Only when <span class="s23">robot1 </span>has finished moving does <span class="s23">robot2 </span>start moving forward 360 degrees.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_720.jpg"/></span><br/>You can run the program <span class="s23">twomodules.ch </span>in Program 11.1 to control two Linkbot-Is and monitor their joint angles on the Motion Control Panel, showing one Linkbot-I at a time.<br/>Do Exercise 1 on page 163.</p><p class="s3">11.2.1   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_721.png"/></span><br/>1. Write a program <span class="s23">twomodules2.ch </span>to control two Linkbot-Is. The program will move joints 1 and<br/>3 of the first Linkbot-I to 90 degrees. Then, it will move the joints of the second Linkbot-I the same<br/>amount as the first one.</p><p class="s3">11.2.2   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_722.png"/></span><br/>1. The commands</p><p class="s23">robot1.move(360,  NaN, -360);</p><p class="s23">robot2.move(360,  NaN, -360);</p><p>move <span class="s23">robot1 </span>forward 360 degrees first. When <span class="s23">robot1 </span>has finished moving, then <span class="s23">robot2 </span>starts moving.</p><p class="s3">11.2.3   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_723.png"/></span><br/>independent movements, sequential commands.</p><p class="s21">11.3    Blocking versus Non-Blocking Functions</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_724.png"/></span><br/>All of the functions that have been introduced so far have been blocking functions. A <span class="s20">blocking function </span>is a function that must complete its execution before the next line of code can start executing. The previous program demonstrated how blocking functions work. The use of blocking functions is fine if the programmer intends for independent motions to execute sequentially. But a programmer may want to command Linkbots in independent motions simultaneously. In this section we will learn how to achieve this effect using non- blocking functions.<br/>Run the programs in these sections in ChIDE in debug mode using the command <span class="s23">Next</span>.<br/>163<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.3.  Blocking versus Non-Blocking Functions<br/><span><IMG width="624" height="176" src="chlinkbot/Image_725.png"/></span></p><p class="s25">/* File: block.ch</p><p class="s25">Use the blocking  function  moveJoint().   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* rotate joint 1 by 360 degrees  first,   then joint  2 by 30 degrees  */</p><p class="s17">robot.moveJoint(JOINT1, 360);</p><p class="s17">robot.moveJoint(JOINT3, 30);</p><p>Program 11.2: A program using all blocking functions.<br/>Program 11.3 demonstrates the use of blocking functions on the same Linkbot. The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_726.png"/></span></p><p class="s17">robot.moveJoint(JOINT1, 360);</p><p>rotates joint 1 of the Linkbot-I by 360 degrees first. Only after joint 1 has completed its rotation does the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_727.png"/></span></p><p class="s17">robot.moveJoint(JOINT3, 30);</p><p>rotate joint 3 by 30 degrees. The execution of these two functions is sequential.<br/><span><IMG width="624" height="190" src="chlinkbot/Image_728.png"/></span></p><p class="s25">/* File: nonblocka.ch</p><p class="s25">Use the non-blocking function  moveJointNB().   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* rotate joint 1 by 360 degrees  and joint 3 by 180 degrees  at  the  same   time till the  movement for joint 3 is finished.   */</p><p class="s17">robot.moveJointNB(JOINT1, 360);</p><p class="s17">robot.moveJoint(JOINT3, 180);</p><p>Program 11.3: Using the non-blocking function moveJointNB().<br/>Program 11.3 demonstrates non-blocking functions.  A <span class="s20">non-blocking function </span>does not prevent the execution of the next line of code. In other words, the next line of code can begin execution before the non- blocking function has finished its execution. This way both lines of code can execute simultaneously, as long as their actions do not overlap. The non-blocking function introduced in Program 11.3 is the <span style=" color: #FF1CCE;">CLinkbotI </span>member function moveJointNB().  The general syntax of this function is</p><p class="s23">robot.moveJointNB(id, angle);</p><p>The argument <span class="s23">id </span>specifies the joint to move. The argument <span class="s23">angle </span>is the final position of the joint angle relative to its current position.  The function moveJointNB()  moves a Linkbot-I in the same way as the function moveJoint()  does.  But when moveJointNB()  is used, the next line of code starts its execution before moveJointNB()  has finished executing. A non-blocking version of a member function for motion has the suffix NB. In Program 11.3 the line<br/>164<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.3.  Blocking versus Non-Blocking Functions<br/><span><IMG width="624" height="15" src="chlinkbot/Image_729.png"/></span></p><p class="s17">robot.moveJointNB(JOINT1, 360);</p><p>starts rotating joint 1 by 360 degrees relative to its current position. Immediately the next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_730.png"/></span></p><p class="s17">robot.moveJoint(JOINT3, 180);</p><p>begins rotating joint 3 by 180 degrees relative to its current position. As a result, joints 1 and 3 will rotate simultaneously until joint 3 has finished rotating.<br/>In Program 11.3, Joint 1 will not be able to complete the full rotation of 360 degrees before the program finishes its execution.<br/>Since the code will continue to run after calling a non-blocking function, it is sometimes desirable to wait until certain Linkbot motions have finished. For example, a program may command joint 1 to rotate<br/>360 degrees. If that rotation has not yet completed, and the next line of code commands the same joint in a different motion, then that next line would need to be delayed. Program 11.4 demonstrates how to do this.<br/><span><IMG width="624" height="249" src="chlinkbot/Image_731.png"/></span></p><p class="s25">/* File: nonblockb.ch</p><p class="s25">Use the function  moveJointWait()   to wait for  the completion of</p><p class="s25">a joint  movement.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* rotate joint 1 for  360 degrees and joint 3 for  720 degrees at the same   time. till the  movement for  joint 1 is finished,   then  move joint 1 by 30   degrees */</p><p class="s17">robot.moveJointNB(JOINT1, 360);</p><p class="s17">robot.moveJointNB(JOINT3, 720);</p><p class="s17">robot.moveJointWait(JOINT1);</p><p class="s17">robot.moveJoint(JOINT1, 30);</p><p class="s17">robot.moveJointWait(JOINT3);</p><p>Program 11.4: Using the function moveJointWait() to wait for the completion of a joint movement from<br/>moveJoint().<br/>Program 11.4 makes use of the <span style=" color: #FF1CCE;">CLinkbotI </span>member function moveJointWait().  This function pauses the program until the specified joint has finished its motion. The syntax of the function moveJointWait() is</p><p class="s23">robot.moveJointWait(id);</p><p>The argument <span class="s23">id </span>specifies the joint for which you want to pause the program until its current motion is completed.  This command only applies to the joint number for the specific Linkbot-I it is used on.  In Program 11.4 the lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_732.png"/></span></p><p class="s17">robot.moveJointNB(JOINT1, 360);</p><p class="s17">robot.moveJointNB(JOINT3, 720);</p><p>command the Linkbot-I to move joint 1 by 360 degrees and joint 3 by 720 degrees simultaneously. The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_733.png"/></span></p><p class="s17">robot.moveJointWait(JOINT1);</p><p>commands the program to pause until joint 1 has finished moving 360 degrees relative to its starting position. The next line of the program will not begin execution until joint 1 has finished moving. Note, however, that joint 3 will still be in the process of rotating 720 degrees when the program resumes execution. The next line<br/>165<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.3.  Blocking versus Non-Blocking Functions<br/><span><IMG width="624" height="15" src="chlinkbot/Image_734.png"/></span></p><p class="s17">robot.moveJoint(JOINT1, 30);</p><p>will rotate joint 1 by 30 degrees at the same time that joint 3 continues its 720 degree rotation. After joint 1 finishes its 30 degree rotation, the final line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_735.png"/></span></p><p class="s17">robot.moveJointWait(JOINT3);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_736.jpg"/></span><br/>pauses the program until joint 3 has finished rotating 720 degrees. This last line of the code ensures that joint 3 will be able to complete its full 720 degree rotation before the program finishes execution.<br/>Do Exercises 1 and 2 on page 167.<br/>There are times when it may be desirable to wait for all joints of a specific Linkbot to finish moving. Program 11.5 shows how this can be accomplished.<br/><span><IMG width="624" height="219" src="chlinkbot/Image_737.png"/></span></p><p class="s25">/* File: nonblockc.ch</p><p class="s25">Use the function  moveWait().   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* rotate joint 1 for  360 degrees and joint 3 for  720 degrees at  the same time.</p><p class="s25">till the  movement for all joints is finished,   then  move joint 1 by 30 degrees  */</p><p class="s17">robot.moveJointNB(JOINT1, 360);</p><p class="s17">robot.moveJointNB(JOINT3, 720);</p><p class="s17">robot.moveWait();</p><p class="s17">robot.moveJoint(JOINT1, 30);</p><p>Program 11.5: Using the function moveWait() to wait for the completion of all joint movement.<br/>The <span style=" color: #FF1CCE;">CLinkbotI </span>member function that will pause the program until certain motions are complete is<br/>moveWait(). The syntax of this function is</p><p class="s23">robot.moveWait();</p><p>The function moveWait() has no argument.  It pauses the program until all joints of a specific Linkbot-I<br/>have finished rotating. As in the previous program, the statements<br/><span><IMG width="624" height="29" src="chlinkbot/Image_738.png"/></span></p><p class="s17">robot.moveJointNB(JOINT1, 360);</p><p class="s17">robot.moveJointNB(JOINT3, 720);</p><p>rotate joint 1 by 360 degrees and joint 3 by 720 degrees simultaneously. The next statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_739.png"/></span></p><p class="s17">robot.moveWait();</p><p>pauses the program until both joint 1 and joint 3 have finished rotating. The last statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_740.png"/></span></p><p class="s17">robot.moveJoint(JOINT1, 30);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_741.jpg"/></span><br/>rotates joint 1 by 30 degrees. Since this last statement uses a blocking function, joint 1 is able to complete its 30 degree rotation before the program finishes execution.<br/>Do Exercise 3 on page 167.<br/>166<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.3.  Blocking versus Non-Blocking Functions</p><p class="s3">11.3.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_742.png"/></span><br/>1. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.moveJointNB(id, angle);</p><p>to move a joint with the specified angle relative to its current position. The next line of code will begin execution before the joint has finished its rotation.<br/>2. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.moveJointWait(id);</p><p>to pause the program until a specific joint of a specific Linkbot has finished rotating.<br/>3. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.moveWait();</p><p>to pause a program until all joints of a specific Linkbot have finished rotating.</p><p class="s3">11.3.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_743.png"/></span><br/>robot.moveJointNB(), robot.moveJointWait(), robot.moveWait(), blocking function, non-blocking func- tion.</p><p class="s3">11.3.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_744.png"/></span><br/>1. In Program 11.3, the motion for the rotation of 360 degrees for joint 1 will not be able to complete before the program exits. Modify Program 11.3 as a new program <span class="s23">nonblocka2.ch </span>by adding the following function call at the end of the program.</p><p class="s23">robot.moveJointWait(JOINT1);</p><p>Run programs <span class="s23">nonblocka.ch </span>and <span class="s23">nonblocka2.ch </span>while monitoring the joint angle for joint 1 on the Motion Control Panel in BaroboLink to see the different motions.<br/>2. Write a program <span class="s23">nonblockb2.ch </span>to move joint 1 of a Linkbot-I to 360 degrees and joint 3 to 180 degrees at the same time using the member function moveJointNB().  Once both joints 1 and 3 finish the motion, move joint 3 to 45 degrees.<br/>3. Write a program <span class="s23">nonblockc2.ch </span>to move joint 1 of a Linkbot-I by 360 degrees and joint 3 by<br/>180 degrees at the same time using the member function moveJointNB().  Once joint 3 finishes the<br/>motion, move joint 3 by another 45 degrees. Make sure all motions complete before the program ends<br/>(Hints: need moveWait() at the end of the program).<br/>167<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.4.  Synchronize the Motion of Multiple Linkbots</p><p class="s21">11.4    Synchronize  the Motion of Multiple Linkbots</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_745.png"/></span><br/>In the previous section we learned how to rotate joints 1 and 3 on a single Linkbot in different ways simul- taneously. It is also possible to command multiple Linkbots in independent motions simultaneously using non-blocking functions. The motions of two Linkbot-Is are considered to be synchronized if they are distinct but simultaneous.<br/><span><IMG width="624" height="512" src="chlinkbot/Image_746.png"/></span></p><p class="s25">/* File: movenb.ch</p><p class="s25">Control  two robots with motions simultaneously  using non-blocking functions.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2;</span></p><p class="s25">/* connect to robots.   */ <span style=" color: #000;">robot1.connect(); robot2.connect();</span></p><p class="s25">/* move  to the zero position  at the same  time.   */</p><p class="s17">robot1.resetToZeroNB();</p><p class="s17">robot2.resetToZeroNB();</p><p class="s25">/* wait for  both robot to finish their movements through  resetToZeroNB()   */</p><p class="s17">robot1.moveWait();</p><p class="s17">robot2.moveWait();</p><p class="s25">/* move  joints 1 and 3 for  both robots  at  the same time using moveNB()   */</p><p class="s17">robot1.moveNB(180, <span style=" color: #FF1CCE;">NaN</span>,   -180);</p><p class="s17">robot2.moveNB(360, <span style=" color: #FF1CCE;">NaN</span>,   -360);</p><p class="s25">/* wait for  both robots to finish their movements through  moveNB()   */</p><p class="s17">robot1.moveWait();</p><p class="s17">robot2.moveWait();</p><p class="s25">/* move  joints 1 and 3 for  both robots  at  the same time using moveNB()   */</p><p class="s17">robot1.moveNB(-360, <span style=" color: #FF1CCE;">NaN</span>,   360);</p><p class="s17">robot2.moveNB(-360, <span style=" color: #FF1CCE;">NaN</span>,   360);</p><p class="s25">/* wait for  both robots to finish their movements through  moveNB()   */</p><p class="s17">robot1.moveWait();</p><p class="s17">robot2.moveWait();</p><p class="s25">/* hold the position after  the  program exits */ <span style=" color: #000;">robot1.holdJointsAtExit(); robot2.holdJointsAtExit();</span></p><p>Program 11.6: Synchronize the motion of multiple Linkbots using non-blocking functions resetToZeroNB()<br/>and moveNB(), and moveWait().<br/>In Program 11.6 multiple Linkbots are moved simultaneously using the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>mem- ber functions resetToZeroNB() and moveNB(). The general syntax of the function resetToZeroNB() is</p><p class="s23">robot.resetToZeroNB();</p><p>The function resetToZeroNB() has no argument. This function allows multiple Linkbots to reset their joints to the zero position at the same time instead of one at a time. The lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_747.png"/></span></p><p class="s17">robot1.resetToZeroNB();</p><p class="s17">robot2.resetToZeroNB();</p><p>168<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.4.  Synchronize the Motion of Multiple Linkbots<br/>reset <span class="s23">robot1 </span>and <span class="s23">robot2 </span>to the zero position simultaneously. The next two lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_748.png"/></span></p><p class="s17">robot1.moveWait();</p><p class="s17">robot2.moveWait();</p><p>pauses the program until both <span class="s23">robot1 </span>and <span class="s23">robot2 </span>have finished resetting to the zero position. The next lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_749.png"/></span></p><p class="s17">robot1.moveNB(180, <span style=" color: #FF1CCE;">NaN</span>,   -180);</p><p class="s17">robot2.moveNB(360, <span style=" color: #FF1CCE;">NaN</span>,   -360);</p><p>moves <span class="s23">robot1 </span>forward by 180 degrees and <span class="s23">robot2 </span>forward by 360 degrees at the same time using<br/>moveNB(). The syntax of this function is</p><p class="s23">robot.moveNB(angle1,  NaN, angle3);</p><p>The function moveNB() moves a Linkbot in the same way that move() does, except that it is non-blocking. This allows two Linkbot-Is to move both joints 1 and 3 relative to their current positions simultaneously. The arguments <span class="s23">angle1 </span>and <span class="s23">angle3 </span>correspond to joint 1 and 3 and specify the joint angle to move both joints relative to their current positions. Since joint 2 of a Linkbot-I cannot be moved, the second argument has the value <span style=" color: #FF1CCE;">NaN</span>.<br/>The next two lines call moveWait()  on <span class="s23">robot1 </span>and <span class="s23">robot2 </span>to allow both to finish their motions before continuing. After that, the lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_750.png"/></span></p><p class="s17">robot1.moveNB(-360, <span style=" color: #FF1CCE;">NaN</span>,   360);</p><p class="s17">robot2.moveNB(-360, <span style=" color: #FF1CCE;">NaN</span>,   360);</p><p>move both <span class="s23">robot1 </span>and <span class="s23">robot2 </span>backward by 360 degrees simultaneously. Then moveWait() is called on both Linkbots to allow them to finish moving backward. The final lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_751.png"/></span></p><p class="s17">robot1.holdJointsAtExit();</p><p class="s17">robot2.holdJointsAtExit();</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_752.jpg"/></span><br/>command <span class="s23">robot1 </span>and <span class="s23">robot2 </span>to hold their poses when the program exits.<br/>Do Exercises 1 and 2 on page 172.<br/>So far we used non-blocking functions to move joints 1 and 3 of multiple Linkbots relative to their current positions. We can also use non-blocking functions to move the joints of multiple Linkbots to their absolute positions.<br/>Problem Statement:<br/>Write a program <span class="s23">movetonb.ch </span>to start the motions of two Linkbot-Is at the same time.  It rotates joint 1 to 180 degrees and joint 3 to -180 degrees for the first Linkbot-I, joint 1 to 360 degrees and joint 3 to -360 degrees for the second Linkbot-I. Then, it moves joint 1 of both Linkbot-Is by 90 degrees. Next it moves joint 1 of both Linkbot-Is to 720 degrees.<br/>169<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.4.  Synchronize the Motion of Multiple Linkbots<br/><span><IMG width="624" height="541" src="chlinkbot/Image_753.png"/></span></p><p class="s25">/* File: movetonb.ch</p><p class="s25">Control  two robots with motions simultaneously  using non-blocking functions.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2;</span></p><p class="s25">/* connect to robots.   */ <span style=" color: #000;">robot1.connect(); robot2.connect();</span></p><p class="s25">/* move  to the zero position  at the same  time.   */</p><p class="s17">robot1.resetToZeroNB();</p><p class="s17">robot2.resetToZeroNB();</p><p class="s25">/* wait for  both robot to finish their movements through  resetToZeroNB()   */</p><p class="s17">robot1.moveWait();</p><p class="s17">robot2.moveWait();</p><p class="s25">/* move  joints 1 and 3 for  both robots  at  the same time using moveNB()   */</p><p class="s17">robot1.moveToNB(180, <span style=" color: #FF1CCE;">NaN</span>,   -180);</p><p class="s17">robot2.moveToNB(360, <span style=" color: #FF1CCE;">NaN</span>,   -360);</p><p class="s25">/* wait for  both robots to finish their movements through  moveNB()   */</p><p class="s17">robot1.moveWait();</p><p class="s17">robot2.moveWait();</p><p class="s25">/* move  joint 1 for  both robots  at  the same time using moveJointNB()   */</p><p class="s17">robot1.moveJointNB(JOINT1, 90);</p><p class="s17">robot2.moveJointNB(JOINT1, 90);</p><p class="s25">/* wait for  both robots to finish their movements through  moveJointNB()   */</p><p class="s17">robot1.moveJointWait(JOINT1);</p><p class="s17">robot2.moveJointWait(JOINT1);</p><p class="s25">/* move  joint 1 for  both robots  at  the same time using moveJointToNB()   */</p><p class="s17">robot1.moveJointToNB(JOINT1, 720);</p><p class="s17">robot2.moveJointToNB(JOINT1, 720);</p><p class="s25">/* wait for  both robots to finish their movements through  moveJointNB()   */</p><p class="s17">robot1.moveJointWait(JOINT1);</p><p class="s17">robot2.moveJointWait(JOINT1);</p><p>Program 11.7: Synchronize the motion of multiple Linkbots using non-blocking functions moveToNB(),<br/>moveJointToNB(), and moveJointNB().<br/>Program 11.7 moves joints 1 and 3 of multiple Linkbot-Is to different absolute positions simultaneously. This is accomplished using the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member functions moveToNB() and moveJoint- ToNB(). The general syntax of the function moveToNB() is</p><p class="s23">robot.moveToNB(angle1,  NaN, angle3);</p><p>This function uses arguments <span class="s23">angle1 </span>and <span class="s23">angle3 </span>to store the joint angle values for joints 1 and 3, respectively. The function moveToNB() moves joints 1 and 3 of a Linkbot-I to their absolute positions. It is the non-blocking counterpart of the function moveTo() that was introduced in Section 7.2. In Program 11.7, the lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_754.png"/></span></p><p class="s17">robot1.moveToNB(180, <span style=" color: #FF1CCE;">NaN</span>,   -180);</p><p class="s17">robot2.moveToNB(360, <span style=" color: #FF1CCE;">NaN</span>,   -360);</p><p>moves <span class="s23">robot1 </span>forward to an absolute position of 180 degrees and moves <span class="s23">robot2 </span>forward to an absolute joint position of 360 degrees. Both Linkbot-Is perform these motions simultaneously. The next two lines<br/>170<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.4.  Synchronize the Motion of Multiple Linkbots<br/>call moveWait() to pause the program until <span class="s23">robot1 </span>and <span class="s23">robot2 </span>finish their motions. The next lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_755.png"/></span></p><p class="s17">robot1.moveJointNB(JOINT1, 90);</p><p class="s17">robot2.moveJointNB(JOINT1, 90);</p><p>move joint 1 of <span class="s23">robot1 </span>and <span class="s23">robot2 </span>simultaneously 90 degrees relative to their current positions. The next two lines use moveJointWait() on both Linkbots to pause the program until both have finished their motions.<br/>The next lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_756.png"/></span></p><p class="s17">robot1.moveJointToNB(JOINT1, 720);</p><p class="s17">robot2.moveJointToNB(JOINT1, 720);</p><p>move joint 1 of both <span class="s23">robot1 </span>and <span class="s23">robot2 </span>simultaneously to the absolute position of 720 degrees using the function moveJointToNB().  The syntax of this function is</p><p class="s23">robot.moveJointToNB(id, angle);</p><p>The argument <span class="s23">id </span>specifies the joint angle to move. The argument <span class="s23">angle </span>specifies the absolute position to move the joint. The function moveJointToNB()  is the non-blocking counterpart of the function move- JointTo(), which was introduced in section 7.4. It rotates a single joint of a Linkbot to its absolute position and allows the next line of code to execute before the joint finishes its rotation.<br/>Finally, moveJointWait() is used on both Linkbots to pause the program until both have finished their<br/><span><IMG width="23" height="16" src="chlinkbot/Image_757.jpg"/></span><br/>720 degree rotations.<br/>Do Exercise 3 on page 172.</p><p class="s3">11.4.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_758.png"/></span><br/>1. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.resetToZeroNB();</p><p>on multiple Linkbot-Is to simultaneously reset their joints to the zero position.<br/>2. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.moveNB(angle1,  NaN, angle3);</p><p>on multiple Linkbot-Is to simultaneously move them by different degrees relative to their current joint angle positions.<br/>3. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.moveToNB(angle1,  NaN, angle3);</p><p>on multiple Linkbot-Is to simultaneously move them to by different degrees to their absolute joint angle positions.<br/>4. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.moveJointToNB(id, angle);</p><p>on multiple Linkbots to simultaneously move single joints by different degrees to their absolute joint angle positions.<br/>171<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.5.  Move Multiple Linkbots with Specified Distances or Joint Angles</p><p class="s3">11.4.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_759.png"/></span><br/>robot.resetToZeroNB(), robot.moveNB(), robot.moveToNB(), robot.moveJointToNB().</p><p class="s3">11.4.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_760.png"/></span><br/>1. Modify the program <span class="s23">movenb.ch </span>in Program 11.6 as a new program <span class="s23">nomovewait.ch </span>by removing the last two moveWait() statements. How will the motion change?<br/>2. Write a program <span class="s23">movenb2.ch </span>using member functions moveJoint()  and moveJointNB() to move joints 1 and 3 by 360 degrees at the same time.<br/>3. Write a program <span class="s23">movetonb2.ch </span>with the synchronized motions for both Linkbot-Is. It first rotates joints 1 and 3 to 360 degrees. Then, rotate joint 1 by 90 degrees. Finally, rotate joint 3 to 720 degrees.<br/><span><IMG width="624" height="53" src="chlinkbot/Image_761.png"/></span></p><p class="s21">11.5    Move Multiple  Linkbots  with  Specified  Dis-</p><p class="s21">tances or Joint Angles</p><p>In section 9.1, we learned how to drive a Linkbot-I with the specified speed and distance using the member function driveDistance().   In some applications, we need to drive multiple Linkbots at the same time.  A non-blocking member function driveDistanceNB() can be used to drive multiple Linkbot-Is synchronously.<br/>Special consideration may need to be given to when it is more appropriate to use a blocking or a non-<br/>How to drive two Linkbots simultaneously will be illustrated by solving the following problem and corresponding Program 11.8.<br/>Problem Statement:<br/>Two Linkbot-Is are configured as two-wheel robots, as shown in Figure 11.2. The radii of the wheels are 1.75 inches. Write a program <span class="s23">drivedistancenb.ch </span>for two Linkbots racing in the following manner. Both Linkbots will drive from a starting line at different times. The first Linkbot drives for 24 inches at the speed of 1.5 inches per second. Then 8 seconds after the first Linkbot has left the starting line, the second Linkbot races for 24 inches at the speed of 3 inches per second.<br/><span><IMG width="241" height="161" src="chlinkbot/Image_762.jpg"/></span><br/>Figure 11.2: Two two-wheel drive vehicles.<br/>172<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/><span><IMG width="628" height="442" src="chlinkbot/Image_763.png"/></span><br/>11.5.  Move Multiple Linkbots with Specified Distances or Joint Angles</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td/><td><p class="s7">When two Linkbot-Is are placed on a starting line, make sure to press both buttons A and B together for</p></td></tr><tr><td><p class="s7">each Linkbot to reset</p></td><td><p class="s7">the wheels to</p></td><td><p class="s7">the zero positions before</p></td><td><p class="s7">running the program, as described in Section</p></td></tr><tr><td><p class="s7">2.1.3. Therefore, two</p></td><td><p class="s7">Linkbots will</p></td><td><p class="s7">drive at the same starting</p></td><td><p class="s7">position.</p></td><td/></tr></table><p class="s25">/* File: drivedistancenb.ch</p><p class="s25">Drive  two two-wheeled robots  with different speeds continuously</p><p class="s25">with specified  distances.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2;</span></p><p class="s33">double <span style=" color: #000;">radius1=1.75;  </span><span style=" color: #009800;">// the radius  of the two wheels of robot1 in  inches</span></p><p class="s33">double <span style=" color: #000;">radius2=1.75;  </span><span style=" color: #009800;">// the radius  of the two wheels of robot2 in  inches</span></p><p class="s33">double <span style=" color: #000;">speed1=1.5,  speed2=3; </span><span style=" color: #009800;">// speed of robots in  inches per second</span></p><p class="s33">double <span style=" color: #000;">distance1=24,  distance2=24;  </span><span style=" color: #009800;">// the travelled distances for robot1 and robot2</span></p><p class="s33">double <span style=" color: #000;">delaytime=8;                      </span><span style=" color: #009800;">// delay time in  seconds for  robot2</span></p><p class="s25">/* connect to robots and  move to the zero position  at the same  time.   */</p><p class="s17">robot1.connect();</p><p class="s17">robot2.connect();</p><p class="s17">robot1.resetToZeroNB();</p><p class="s17">robot2.resetToZeroNB();</p><p class="s17">robot1.moveWait();</p><p class="s17">robot2.moveWait();</p><p class="s25">/* set the speed for  robot1 */</p><p class="s17">robot1.setSpeed(speed1, radius1);</p><p class="s25">/* set the speed for  robot2 */</p><p class="s17">robot2.setSpeed(speed2, radius2);</p><p class="s25">/* robot1 drives for ’distances1’</p><p class="s25">’delaytime’   seconds later,   robot2 drives for ’distance2’   while robot1 also  drives  */</p><p class="s17">robot1.driveDistanceNB(distance1, radius1);</p><p class="s17">robot2.delaySeconds(delaytime);</p><p class="s17">robot2.driveDistance(distance2, radius2);</p><p class="s17">robot1.moveWait(); <span style=" color: #009800;">//  wait till robot1 drived  ’distance1’</span></p><p>Program 11.8: Driving multiple Linkbots with specified distances using driveDistanceNB().<br/><span><IMG width="628" height="33" src="chlinkbot/Image_764.png"/></span><br/>Program 11.8 drives two Linkbots by specified distances simultaneously. The lines</p><p class="s33">double <span style=" color: #000;">radius1=1.75;  </span><span style=" color: #009800;">// the radius  of the two wheels of robot1 in  inches </span>double <span style=" color: #000;">radius2=1.75;  </span><span style=" color: #009800;">// the radius  of the two wheels of robot2 in  inches</span></p><p>declare two variables of <span style=" color: #F00;">double </span>type and assign them both the wheel radius value of 1.75 inches. The next line</p><p class="s33">double <span style=" color: #000;">speed1=1.5,  speed2=3; </span><span style=" color: #009800;">// speed of robots in  inches per second</span></p><p><span><IMG width="628" height="18" src="chlinkbot/Image_765.png"/></span><br/><span><IMG width="628" height="33" src="chlinkbot/Image_766.png"/></span><br/>declares two variables of type <span style=" color: #F00;">double </span>and assigns them two different speeds in inches per second. Note that the speed of the second Linkbot-I is twice the speed of the first. Then the next two lines</p><p class="s33">double <span style=" color: #000;">distance1=24,  distance2=24;  </span><span style=" color: #009800;">// the traveled  distances  for  robot1 and robot2 </span>double <span style=" color: #000;">delaytime=8;  </span><span style=" color: #009800;">// delay time in  seconds for  robot2</span></p><p>declare two variables <span class="s23">distance1 </span>and<span class="s23">distance2  </span>of type <span style=" color: #F00;">double </span>and assign them with distances of 24 inches. Note that the distances for both robots are the same. Another variable <span class="s23">delaytime </span>of type <span style=" color: #F00;">double </span>is also declared, and assigned a value of 8 seconds. This will be used to delay the start of <span class="s23">robot2 </span>for 8 seconds after <span class="s23">robot1 </span>starts moving.<br/>173<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.5.  Move Multiple Linkbots with Specified Distances or Joint Angles<br/>The next six lines of code connect both <span class="s23">robot1 </span>and <span class="s23">robot2 </span>to Linkbots and reset both to the zero position.  The program is paused by calling moveWait() for both <span class="s23">robot1 </span>and <span class="s23">robot2 </span>until both have finished resetting. Then the next two lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_767.png"/></span></p><p class="s17">robot1.setSpeed(speed1, radius1);</p><p class="s17">robot2.setSpeed(speed2, radius2);</p><p>sequentially sets the speeds of <span class="s23">robot1 </span>and <span class="s23">robot2</span>. The following line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_768.png"/></span></p><p class="s17">robot1.driveDistanceNB(distance1, radius1);</p><p>drives the <span class="s23">robot1 </span>for a specific distance <span class="s23">distance1 </span>with the radius of <span class="s23">radius1</span>. This is done using the <span style=" color: #FF1CCE;">CLinkbotI </span>member function driveDistanceNB().  The syntax of the member function driveDistanceNB() is as follows.</p><p class="s23">robot.driveDistanceNB(distance, radius);</p><p>The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_769.png"/></span></p><p class="s17">robot2.delaySeconds(delaytime);</p><p>delays the start of <span class="s23">robot2 </span>for 8 seconds after <span class="s23">robot1 </span>starts moving. Since <span class="s23">robot1 </span>has a total movement distance of 24 inches, however, it will only be half way through its movement when <span class="s23">robot2 </span>starts to move. This makes the choice of driveDistanceNB() appropriate for <span class="s23">robot1</span>. The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_770.png"/></span></p><p class="s17">robot2.driveDistance(distance2, radius2);</p><p>drives <span class="s23">robot2 </span>forward for 24 inches at 3 inches per second. <span class="s23">robot2 </span>is the last Linkbot in the program to begin moving, and its motion depends on a specified distance and speed. Thus the choice of a blocking function is appropriate for <span class="s23">robot2</span>. After <span class="s23">robot2 </span>has completed its motion, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_771.png"/></span></p><p class="s17">robot1.moveWait(); <span style=" color: #009800;">// wait till robot1 moved  ’distance1’</span></p><p>is included to make sure that <span class="s23">robot1 </span>has completed its motion before the program finishes execution. In this case, since both robots drive the same distance of 24 inches. This synchronization statement may not be critical. However, if the traveling <span class="s23">distance2 </span>for <span class="s23">robot2 </span>is less than that for <span class="s23">robot1</span>, say 16 inches,<br/>without the last statement <span class="s23">robot1.moveWait()</span>, when <span class="s5">⁀</span>robot2 finishes its motion and the program exits.<br/>By then, <span class="s23">robot1 </span>would drive only 16 inches, instead of 24 inches.<br/>The distance traveled by two Linkbot-Is is the same. Since the speed of the second Linkbot-I is twice as<br/>fast as the first one, both Linkbot-Is shall stop at the same finishing line at the same time. For the first robot, the time to drive 24 inches can be calculated as follows.</p><p class="s5">distance</p><p><span><IMG width="55" height="1" src="chlinkbot/Image_772.png"/></span></p><p class="s5">t =            =</p><p class="s5">v</p><p class="s5">24</p><p><span><IMG width="19" height="1" src="chlinkbot/Image_773.png"/></span></p><p class="s5">1.5</p><p class="s5">= 16 seconds</p><p>The time for the second robot to drive 24 inches can be calculated as follows.</p><p class="s5">distance</p><p><span><IMG width="55" height="1" src="chlinkbot/Image_774.png"/></span></p><p class="s5">t =            =</p><p class="s5">v</p><p><span><IMG width="15" height="1" src="chlinkbot/Image_775.png"/></span></p><p class="s5">24 = 8 seconds</p><p class="s5">3</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_776.jpg"/></span><br/>Do Exercises 1 and 2 and on page 175.<br/>There are also similar non-blocking member functions</p><p class="s23">robot.driveForwardNB(angle); robot.driveBackwardNB(angle); robot.turnLeftNB(angle, radius, trackwidth); robot.turnRightNB(angle, radius, trackwidth);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_777.jpg"/></span><br/>to roll forward, roll backward, turn left, and turn right a Linkbot-I, respectively. Programs <span class="s23">driveforwardnb.ch </span>and <span class="s23">turnleftnb.ch </span>illustrate how to use these non-blocking member functions, These two programs are distributed along with other sample programs.<br/>Do Exercises 3 and 4 and on page 175.<br/>174<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.5.  Move Multiple Linkbots with Specified Distances or Joint Angles</p><p class="s3">11.5.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_778.png"/></span><br/>1. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.driveDistanceNB(distance, radius);</p><p>to drive a Linkbot-I for the specified distance. The lines of code following the non-blocking member function will begin execution before the specified distance has reached.<br/>2. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member functions driveForwardNB(), driveBackward(), turn-  LeftNB(), and turnRightNB() to roll forward, roll backward, turn left, and turn right a Linkbot-I, respectively.  The lines of code following the non-blocking member function will begin execution before the specified angle has reached.</p><p class="s3">11.5.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_779.png"/></span><br/>robot.driveDistanceNB(),  robot.driveForwardNB(), robot.driveBackwardNB(),  robot.turnLeftNB(), and robot.turnRightNB().</p><p class="s3">11.5.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_780.png"/></span><br/>1. Two Linkbot-Is are configured as two-wheel robots, as shown in Figure 11.2. The radii of the wheels are 1.75 inches. Write a program <span class="s23">drivedistancenb2.ch </span>for two Linkbots racing in the follow- ing manner. Both Linkbots will drive from a starting line at different times. The first Linkbot drives for 12 inches at the speed of 1.2 inches per second. Then 5 seconds after the first Linkbot has left the starting line, the second Linkbot races for 12 inches at the speed of 2.4 inches per second.<br/>2. Two Linkbot-Is are configured as two-wheel robots.  The radii of the wheels for the first Linkbot-I are 1.75 inches.  The radii of the wheels for the second Linkbot-I are 2 inches.  Write a program <span class="s23">drivedistancenb3.ch </span>for two Linkbot-Is racing in the following manner. Two Linkbots will drive from a starting line at the same time at the same speed of 1.5 inches per second for 20 inches.<br/>3. Two Linkbot-Is are configured as two-wheel robots.  The radii of the wheels for the first Linkbot-I are 1.75 inches.  The radii of the wheels for the second Linkbot-I are 2 inches.  Write a program <span class="s23">driveforwardnb2.ch </span>for two Linkbot-Is racing in the following manner. Two Linkbots will roll forward for 720 degrees from a starting line at the same time at the same joint speed of 45 degrees per second. You can set the joint speed of a Linkbot-I by the member function setJointSpeeds() and using the member functions driveForwardNB() and driveForward() to roll two Linkbots at the same time in RoboSim. What is the distance traveled by each Linkbot-I.<br/>4. Two Linkbot-Is are configured as two-wheel robots. The radii of the wheels for both Linkbot-Is are<br/>1.75 inches. The track width of the Linkbot-I is 3.69 inches. Write a program <span class="s23">turnleftnb2.ch </span>for two Linkbot-Is moving in the following manner simultaneously. The joint speeds for Linkbot-Is are set to 45 degrees per second.  Two Linkbots will roll forward for 360 degrees from a starting line at the same time.  Next, the first robot turns left 90 degrees and the second robot turns right<br/>90 degrees.  Then, both robots roll forward for 360 degrees.  Finally, both robots drive back to the originally positions along the same paths as shown in Figure 11.3.<br/>175<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.6.  Plot Recorded Distances and Time for Multiple Linkbots<br/><span><IMG width="237" height="188" src="chlinkbot/Image_781.jpg"/></span><br/><span><IMG width="237" height="188" src="chlinkbot/Image_782.jpg"/></span></p><p class="s22">(a) The starting and ending positions.                         (b) The position reached by two Linkbot-Is.</p><p>Figure 11.3: The trajectories for two Linkbot-Is.<br/><span><IMG width="624" height="53" src="chlinkbot/Image_783.png"/></span></p><p class="s21">11.6    Plot Recorded Distances  and Time for Multi- ple Linkbots</p><p>In Section 9.1.6 we learned how to record and plot distance versus time for a single Linkbot-I with a specified speed and distance. In this section we will learn how to do this for two Linkbot-Is in synchronous motion with a specified speed and distance or joint angle. The ability to receive and process real time data from multiple sources is valuable for comparing the performance of multiple robots. Program 11.9 extends the concepts learned from Program 9.6, except that plotting is done for multiple Linkbot-Is and non-blocking functions are used.<br/>Problem Statement:<br/>Two Linkbot-Is are configured as two-wheel robots, as shown in Figure 11.2 on page 172. The radii of the wheels are 1.75 inches. Write a program <span class="s23">recorddistancesdist.ch </span>to drive the first robot at the speed of 1.5 inches per second for 24 inches. After 8 seconds delay, the second robot drives at the speed of 3 inches per second for 24 inches. Record the distances as the robots travel with a time interval of 0.1 second. Plot the distances for both robots versus time.<br/>176<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.6.  Plot Recorded Distances and Time for Multiple Linkbots<br/><span><IMG width="624" height="804" src="chlinkbot/Image_784.png"/></span></p><p class="s25">/* File: recorddistancesdist.ch</p><p class="s25">Record time and distances  using driveDistance(),</p><p class="s25">Delay 8 seconds for  robot2.   The equations  of  motions are</p><p class="s25">d  =  1.5t</p><p class="s25">d  =  3(t-8)</p><p class="s25">Plot the acquired data for  two robots  */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s27">#include &lt;chplot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2;</span></p><p class="s33">double <span style=" color: #000;">speed1=1.5,  speed2=3; </span><span style=" color: #009800;">// speeds of robots in  inches per second</span></p><p class="s33">double <span style=" color: #000;">radius1=1.75,  radius2=1.75;  </span><span style=" color: #009800;">// the radii of two wheels of  robot1  and 2</span></p><p class="s33">double <span style=" color: #000;">distance1=24,  distance2=24;  </span><span style=" color: #009800;">// the travelled distances for robot1 and robot2</span></p><p class="s33">double <span style=" color: #000;">delaytime=8;                  </span><span style=" color: #009800;">//  delay time for robot2</span></p><p class="s33">double <span style=" color: #000;">timeInterval =  0.1;    </span><span style=" color: #009800;">// time interval in 0.1 second</span></p><p class="s33">int <span style=" color: #000;">numDataPoints1, numDataPoints2; </span><span style=" color: #009800;">// number  of data points recorded</span></p><p class="s16">robotRecordData_t <span style=" color: #000;">timedata1,  distances1; </span><span style=" color: #009800;">// recorded time and distances  for  robot1</span></p><p class="s16">robotRecordData_t <span style=" color: #000;">timedata2,  distances2; </span><span style=" color: #009800;">// recorded time and distances  for  robot2</span></p><p class="s16">CPlot <span style=" color: #000;">plot;                          </span><span style=" color: #009800;">// plotting class</span></p><p class="s25">/* connect to robots and  move to the zero position  at the same  time.   */</p><p class="s17">robot1.connect();             robot2.connect();</p><p class="s17">robot1.resetToZeroNB();   robot2.resetToZeroNB();</p><p class="s17">robot1.moveWait();            robot2.moveWait();</p><p class="s25">/* set the speeds for  robot1 and robot2 */ <span style=" color: #000;">robot1.setSpeed(speed1, radius1); robot2.setSpeed(speed2, radius2);</span></p><p class="s25">/* disable record data shift and begin recording  time and distance  */</p><p class="s17">robot1.disableRecordDataShift();</p><p class="s17">robot2.disableRecordDataShift();</p><p class="s17">robot1.recordDistanceBegin(JOINT1, timedata1, distances1, radius1, timeInterval);</p><p class="s17">robot2.recordDistanceBegin(JOINT1, timedata2, distances2, radius2, timeInterval);</p><p class="s25">/* robot1 drives for ’distances1’</p><p class="s25">’delaytime’   seconds later,   robot2 drives for ’distance2’   while robot1 also  drives  */</p><p class="s17">robot1.driveDistanceNB(distance1, radius1);</p><p class="s17">robot2.delaySeconds(delaytime);</p><p class="s17">robot2.driveDistance(distance2, radius2);</p><p class="s17">robot1.moveWait(); <span style=" color: #009800;">//  wait till robot1 moved  ’distance1’</span></p><p class="s25">/* end recording  time and distance  */ <span style=" color: #000;">robot1.recordDistanceEnd(JOINT1,  numDataPoints1); robot2.recordDistanceEnd(JOINT1,  numDataPoints2);</span></p><p class="s17"><span style=" color: #009800;">/* plot the data */ </span>plot.mathCoord(); plot.title(<span style=" color: #7F007F;">&quot;Distances versus time&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_X,  <span style=" color: #7F007F;">&quot;Time (seconds)&quot;</span>); plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;Distances (inches)&quot;</span>); plot.data2DCurve(timedata1, distances1, numDataPoints1); plot.legend(<span style=" color: #7F007F;">&quot;Distance for  robot 1&quot;</span>,   0); plot.data2DCurve(timedata2, distances2, numDataPoints2); plot.legend(<span style=" color: #7F007F;">&quot;Distance for  robot 2&quot;</span>,   1);</p><p class="s17">plot.plotting();</p><p>Program 11.9: Recording the distances of two Linkbot-Is and plotting the distances versus time. The dis- tances for both robots are specified.<br/>177<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.6.  Plot Recorded Distances and Time for Multiple Linkbots<br/><span><IMG width="480" height="290" src="chlinkbot/Image_785.jpg"/></span><br/>Figure 11.4: The plot for the distances of two Linkbot-Is versus time from Programs 11.9, 11.11, and 11.13.<br/>The member function recordDistanceBegin() described in Section 9.1.6 can be used to record the time and distances for a robot.  By default, only data points collected while the Linkbot-I is in motion will be stored in the second argument for the time and the third argument for the distance of the function recordDis- tanceBegin() for later use. Any data collected before the Linkbot-I starts moving or after it has stopped will be discarded. Effectively, the recorded data is shifted. Since we want to compare the distance versus time for both Linkbot-Is over the entire 16 second time period, we want to include the data points for <span class="s23">robot2 </span>in the first 8 seconds even when it is standing still. Thus we do not want to shift the data, since we do not want the program to discard those data points. The default shifting of the recorded data can be disabled by the mem- ber function disableRecordDataShift().  The general syntax for the function disableRecordDataShift() is</p><p class="s23">robot.disableRecordDataShift();</p><p>Similarly, the shifting can be enabled by enableRecordDataShift().  The general syntax for the function<br/>enableRecordDataShift() is</p><p class="s23">robot.enableRecordDataShift();</p><p>The two lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_786.png"/></span></p><p class="s17">robot1.disableRecordDataShift();</p><p class="s17">robot2.disableRecordDataShift();</p><p>in Program 11.9 disable the shifting for recording data for both <span class="s23">robot1 </span>and <span class="s23">robot2</span>. The two lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_787.png"/></span></p><p class="s17">robot1.recordDistanceBegin(JOINT1, timedata1, distances1, radius1, timeInterval);</p><p class="s17">robot2.recordDistanceBegin(JOINT1, timedata2, distances2, radius2, timeInterval);</p><p>initiate the recording of time and distance data from joint 1 of both <span class="s23">robot1 </span>and <span class="s23">robot2</span>. Then <span class="s23">robot1 </span>and <span class="s23">robot2 </span>are commanded to drive the same way they were commanded in Program 11.8.  After both <span class="s23">robot1 </span>and <span class="s23">robot2 </span>finished their movement, the lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_788.png"/></span></p><p class="s17">robot1.recordDistanceEnd(JOINT1,  numDataPoints1);</p><p class="s17">robot2.recordDistanceEnd(JOINT1,  numDataPoints2);</p><p>178<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.6.  Plot Recorded Distances and Time for Multiple Linkbots<br/>stop the recording of time and distance data from joint 1 of both <span class="s23">robot1 </span>and <span class="s23">robot2</span>.   At this time, <span class="s23">timedata1</span>,  <span class="s23">distances1 </span>and <span class="s23">numDataPoints1 </span>will hold the time data points, the distance data points, and the total number of data points collected for <span class="s23">robot1</span>.  In addition, the variables <span class="s23">timedata2</span>, <span class="s23">distances2</span>, and <span class="s23">numDataPoints2 </span>will hold the time data points, the distance data points, and the total number of data points collected for <span class="s23">robot2</span>.<br/>The plotting of data for both Linkbot-Is will occur in a similar manner as in previous sections. Data for both Linkbot-Is will be plotted on the same graph. The title as well as the x-axis and y-axis labels will be the same as in Program 9.6.  The <span style=" color: #FF1CCE;">CPlot </span>member function data2Curve(), however, will need to be called twice. The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_789.png"/></span></p><p class="s17">plot.data2DCurve(timedata1, distances1,  numDataPoints1);</p><p>plots the data for <span class="s23">robot1</span>. The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_790.png"/></span></p><p class="s17">plot.legend(<span style=" color: #7F007F;">&quot;Distance for  robot 1&quot;</span>,   0);</p><p>creates a legend entry for <span class="s23">robot1 </span>using the <span style=" color: #FF1CCE;">CPlot </span>member function legend(). This function has the syntax</p><p class="s23">plot.legend(legend,  num);</p><p>The argument <span class="s23">legend </span>is a string with the label you want for a particular data set.  The argument <span class="s23">num </span>indicates the number of the data set corresponding to that label. The reason for starting with the number 0 is beyond the scope of this book. In the case of plotting multiple data sets, it is sufficient to remember to start legend entries with the number 0. When the graph is generated, Ch will automatically print the graph with the legend entries starting with the number 1. Each entry of the legend will show a different color which corresponds to the data of a particular Linkbot. The next two lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_791.png"/></span></p><p class="s17">plot.data2DCurve(timedata2, distances2,  numDataPoints2);</p><p class="s17">plot.legend(<span style=" color: #7F007F;">&quot;Distance for  robot 2&quot;</span>,   1);</p><p>plots the data for <span class="s23">robot2 </span>and creates a corresponding legend entry. The final graph is generated by calling the <span style=" color: #FF1CCE;">CPlot </span>member function plotting().  The resulting graph of distance versus time for both Linkbot-Is can be seen in Figure 11.4.<br/>The first robot drives at the speed of 1.5 inches per second. The relation between the distance (<span class="s5">d</span>) and time (<span class="s5">t</span>) in Figure 11.4 for the first robot can be formulated by the following linear equation.</p><p class="s5">d = 1.5t                                                               <span class="p">(11.1) The second robot drives at the speed of 3 inches per second and starts to drive 8 seconds later. The relation</span></p><p>between the distance (<span class="s5">d</span>) and time (<span class="s5">t</span>) in Figure 11.4 for the second robot can be formulated by the following linear equation.</p><p class="s5">d = 3(t − 8)                                                          <span class="p">(11.2)</span></p><p><span><IMG width="23" height="16" src="chlinkbot/Image_792.jpg"/></span><br/>The intersection point <span class="s5">(t, d) = (16, 24) </span>of two straight lines in Figure 11.4 satisfies both equations (11.1) and (11.2). The coordinates of the intersection point are the time and location when two robots have traveled the same distance. In algebra, <span class="s5">(t, d) = (16, 24) </span>is called the solution of the system of two linear equations (11.1) and (11.2).<br/>Do Exercise 1 on page 180.</p><p class="s3">11.6.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_793.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.disableRecordDataShift();</p><p>179<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.6.  Plot Recorded Distances and Time for Multiple Linkbots<br/>to disable the shifting of the recorded data.<br/>2. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.enableRecordDataShift();</p><p>to enable the shifting of the recorded data.<br/>3. Call the <span style=" color: #FF1CCE;">CPlot </span>member function</p><p class="s23">plot.legend(legend,  num);</p><p>to create a legend entry for an individual Linkbot when plotting data for multiple Linkbots. Remember that the argument <span class="s23">num </span>should start with the number 0 for the first legend entry.</p><p class="s3">11.6.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_794.png"/></span><br/>robot.disableRecordDataShift(),  robot.enableRecordDataShift(),  plot.legend(),  legend entry, multiple data sets.</p><p class="s3">11.6.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_795.png"/></span><br/>1. Two Linkbot-Is are configured as two-wheel robots. The radii of the wheels are 1.75 inches.  Write a program <span class="s23">recorddistancesdist2.ch </span>to control two Linkbot-Is with the following motions. The first robot drives at the speed of 1.2 inches per second for 12 inches. The 5 seconds after the first robot drives, the second robot drives at the speed of 2.4 inches per second for 12 inches.  Record the distances and time during the motion of both robots. Plot the distances versus time as shown in the figure below. What are the equations for the linear relations shown in the figure? Verify that the point <span class="s5">(t, d) = (10, 12) </span>is the solution for the two equations of the linear relations.<br/><span><IMG width="480" height="290" src="chlinkbot/Image_796.jpg"/></span><br/>180<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.7.  Move Multiple Linkbots with Specified Time</p><p class="s21">11.7    Move Multiple Linkbots  with Specified Time</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_797.png"/></span><br/>In Section 9.2, we learned how to drive a single Linkbot for a specified time using driveTime().  In some applications, we need to move multiple Linkbots synchronously for a specified time, using non-blocking functions. The following problem and corresponding Program 11.10 demonstrate how this is done.<br/>Problem Statement:<br/>Two Linkbot-Is are configured as two-wheel robots as shown in Figure 11.2 on page 172, The radii of the wheels are 1.75 inches.  Write a program <span class="s23">drivetimenb.ch </span>for two Linkbots racing in the following manner. Both Linkbots will drive from a starting line at different times. The first Linkbot drives for 16 seconds at the speed of 1.5 inches per second. Then 8 seconds after the first Linkbot has left the starting line, the second Linkbot races at the speed of 3 inches per second for 8 seconds.<br/><span><IMG width="624" height="454" src="chlinkbot/Image_798.png"/></span></p><p class="s25">/* File: drivetimenb.ch</p><p class="s25">Drive  two two-wheeled robots  with different speeds continuously</p><p class="s25">with a specified  time.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2;</span></p><p class="s33">double <span style=" color: #000;">radius1=1.75;  </span><span style=" color: #009800;">// the radius  of the two wheels of robot1 in  inches</span></p><p class="s33">double <span style=" color: #000;">radius2=1.75;  </span><span style=" color: #009800;">// the radius  of the two wheels of robot2 in  inches</span></p><p class="s33">double <span style=" color: #000;">speed1=1.5,  speed2=3; </span><span style=" color: #009800;">// speed of robots in  inches per second</span></p><p class="s33">double <span style=" color: #000;">time1=16;                           </span><span style=" color: #009800;">// motion time in  seconds for  robot1</span></p><p class="s33">double <span style=" color: #000;">delaytime=8;                      </span><span style=" color: #009800;">// delay time in  seconds for  robot2</span></p><p class="s33">double <span style=" color: #000;">time2=8;                             </span><span style=" color: #009800;">// motion time in  seconds for  robot2</span></p><p class="s25">/* connect to robots and  move to the zero position  at the same  time.   */</p><p class="s17">robot1.connect();</p><p class="s17">robot2.connect();</p><p class="s17">robot1.resetToZeroNB();</p><p class="s17">robot2.resetToZeroNB();</p><p class="s17">robot1.moveWait();</p><p class="s17">robot2.moveWait();</p><p class="s25">/* set the speed for  robot1 */</p><p class="s17">robot1.setSpeed(speed1, radius1);</p><p class="s25">/* set the speed for  robot2 */</p><p class="s17">robot2.setSpeed(speed2, radius2);</p><p class="s25">/* robot1 drives first for a total  of ’time1’   seconds.   ’delaytime’   seconds   later, robot2 drives for ’time2’   seconds while robot1 also  drives  */</p><p class="s17">robot1.driveTimeNB(time1);</p><p class="s17">robot2.delaySeconds(delaytime);</p><p class="s17">robot2.driveTime(time2);</p><p class="s17">robot1.moveWait(); <span style=" color: #009800;">//  wait till robot1 moved  ’time1’   seconds</span></p><p>Program 11.10: Moving multiple Linkbots with specified times using driveTimeNB().<br/>Similar to Program 11.8, Program 11.10 sets the movement state for joints 1 and 3 of multiple Linkbots simultaneously. The lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_799.png"/></span></p><p class="s33">double <span style=" color: #000;">radius1=1.75;  </span><span style=" color: #009800;">// the radius  of the two wheels of robot1 in  inches </span>double <span style=" color: #000;">radius2=1.75;  </span><span style=" color: #009800;">// the radius  of the two wheels of robot2 in  inches</span></p><p>181<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.7.  Move Multiple Linkbots with Specified Time<br/>declare two variables of <span style=" color: #F00;">double </span>type and assigns them both the wheel radius value of 1.75 inches. The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_800.png"/></span></p><p class="s33">double <span style=" color: #000;">speed1=1.5,  speed2=3; </span><span style=" color: #009800;">// speed of robots in  inches per second</span></p><p>declares two variables of type <span style=" color: #F00;">double </span>and assigns them two different speeds in inches. Note that the speed of the second Linkbot-I is twice the speed of the first. Then the next three lines<br/><span><IMG width="624" height="44" src="chlinkbot/Image_801.png"/></span></p><p class="s33">double <span style=" color: #000;">time1=16;  </span><span style=" color: #009800;">// motion time in  seconds for  robot1 </span>double <span style=" color: #000;">delaytime=8;  </span><span style=" color: #009800;">// delay time in  seconds for  robot2 </span>double <span style=" color: #000;">time2=8;  </span><span style=" color: #009800;">// motion time in  seconds for  robot2</span></p><p>declare two variables <span class="s23">time1 </span>and<span class="s23">time2  </span>of type <span style=" color: #F00;">double </span>and assigns them two different motion times in seconds.  Note that the motion time for second Linkbot-I is half the motion time for the first.  Another variable <span class="s23">delaytime </span>of type <span style=" color: #F00;">double </span>is also declared, and assigned a value of 8 seconds. This will be used to delay the start of <span class="s23">robot2 </span>for 8 seconds after <span class="s23">robot1 </span>starts moving.<br/>The next six lines of code connect both <span class="s23">robot1 </span>and <span class="s23">robot2 </span>to Linkbots and resets both to the zero position. Then the next two lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_802.png"/></span></p><p class="s17">robot1.setSpeed(speed1, radius1);</p><p class="s17">robot2.setSpeed(speed2, radius2);</p><p>sequentially sets the speeds of <span class="s23">robot1 </span>and <span class="s23">robot2</span>. The following line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_803.png"/></span></p><p class="s17">robot1.driveTimeNB(time1);</p><p>sets the movement state of <span class="s23">robot1 </span>for a specific time. This is done using the <span style=" color: #FF1CCE;">CLinkbotI </span>member function<br/>driveTimeNB(). The syntax of this function is</p><p class="s23">robot.driveTimeNB(seconds);</p><p>The argument <span class="s23">seconds </span>specifies the length of time in seconds to drive the joints of the robot. The direction of the motion for each joint is determined by the speed of the joint.<br/>Since the speeds for both robots are positive. the <span class="s23">robot1 </span>starts moving forward for 16 seconds at 1.5 inches per second. The member function driveTimeNB()  is the non-blocking counterpart of the function driveTime().  It moves joints 1 and 3 of a Linkbot, but it allows the next line of code to execute before it<br/>finishes doing so. Therefore the next line of code<br/><span><IMG width="624" height="15" src="chlinkbot/Image_804.png"/></span></p><p class="s17">robot2.delaySeconds(delaytime);</p><p>delays the start of <span class="s23">robot2 </span>for 8 seconds after <span class="s23">robot1 </span>starts moving. Since <span class="s23">robot1 </span>has a total movement time of 16 seconds, however, it will only be half way through its movement when <span class="s23">robot2 </span>starts to move. This makes the choice of driveTimeNB() appropriate for <span class="s23">robot1</span>. The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_805.png"/></span></p><p class="s17">robot2.driveTime(time2);</p><p>drives <span class="s23">robot2 </span>forward for 8 seconds at 3 inches per second. <span class="s23">robot2 </span>is the last Linkbot in the program to begin moving, and its motion depends on a specific time.  Thus the choice of a blocking function is appropriate for <span class="s23">robot2</span>. After <span class="s23">robot2 </span>has completed its motion, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_806.png"/></span></p><p class="s17">robot1.moveWait(); <span style=" color: #009800;">// wait till robot1 moved  time1 seconds</span></p><p>is included to make sure that <span class="s23">robot1 </span>has completed its motion before the program finishes execution.<br/>Since the speed of the second Linkbot-I is twice as fast as the first one, both Linkbot-Is shall stop at the<br/>same finishing line at the same time. The distance traveled by two Linkbot-Is is the same. For the first robot, the distance can be calculated as follows.</p><p class="s5">distance = v ∗ t = 1.5 ∗ 16 = 24 inches</p><p>182<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.7.  Move Multiple Linkbots with Specified Time<br/>The distance for the second robot can be calculated as follows.</p><p class="s5">distance = v ∗ t = 3 ∗ 8 = 24 inches</p><p>There is also a non-blocking function to move a single joint for a specified time. The <span style=" color: #FF1CCE;">CLinkbotI </span>member function moveJointTimeNB()  has the following general syntax</p><p class="s23">robot.moveJointTimeNB(id, seconds);</p><p>The argument <span class="s23">id </span>indicates the joint to move.  The argument <span class="s23">seconds </span>specifies the length of time in seconds to keep the joint in motion. If in Program 11.10 we changed the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_807.png"/></span></p><p class="s17">robot1.driveTimeNB(time1);</p><p>to<br/><span><IMG width="624" height="15" src="chlinkbot/Image_808.png"/></span></p><p class="s17">robot1.moveJointTimeNB(JOINT1, time1);</p><p>then only joint 1 of <span class="s23">robot1 </span>would move for 16 seconds at 1.5 inches per second. Since<br/><span><IMG width="23" height="16" src="chlinkbot/Image_809.jpg"/></span><br/>moevJointTimeMB() is non-blocking, the next subsequent lines of code will execute simultaneously.<br/>Do Exercises 1 and 2 on page 186.<br/>Section 9.2.3 deals with the plotting of distance versus time with a specified speed and time. We can also plot distances versus time with a specified speed and time for two Linkbots. Similar to Programs 11.8 and<br/>11.9, Program 11.10 can be modified to add the data acquisition and plotting code to display the distances versus time.  Program 11.11 is very similar to Program 11.9, except that the movement states for both Linkbot-Is are set for a specified time using the member functions driveTimeNB()  and driveTime().  The lines of code moving robots are the same as those from Program 11.10.  The plot generated by Program<br/>11.11 looks identical to that generated by Program 11.9, as shown in Figure 11.4.  The distances of two<br/>Linkbots and time are related by the equations (11.1) and (11.2) as described on page 179.<br/>183<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.7.  Move Multiple Linkbots with Specified Time<br/><span><IMG width="624" height="804" src="chlinkbot/Image_810.png"/></span></p><p class="s25">/* File: recorddistancestime.ch</p><p class="s25">Record time and distances  using driveTime(),</p><p class="s25">Delay 8 seconds for  robot2.   The equations  of  motions are</p><p class="s25">d  =  1.5t</p><p class="s25">d  =  3(t-8)</p><p class="s25">plot the acquired data for  two robots  */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s27">#include &lt;chplot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2;</span></p><p class="s33">double <span style=" color: #000;">speed1=1.5,  speed2=3; </span><span style=" color: #009800;">// speeds of robots in  inches per second</span></p><p class="s33">double <span style=" color: #000;">radius1=1.75,  radius2=1.75;  </span><span style=" color: #009800;">// the radii of two wheels of  robot1  and 2</span></p><p class="s33">double <span style=" color: #000;">time1=16,  time2=8;             </span><span style=" color: #009800;">// motion time in  seconds for  robot1 and robot2</span></p><p class="s33">double <span style=" color: #000;">delaytime=8;                  </span><span style=" color: #009800;">//  delay time for robot2</span></p><p class="s33">double <span style=" color: #000;">timeInterval =  0.1;    </span><span style=" color: #009800;">// time interval in 0.1 second</span></p><p class="s33">int <span style=" color: #000;">numDataPoints1, numDataPoints2; </span><span style=" color: #009800;">// number  of data points recorded</span></p><p class="s16">robotRecordData_t <span style=" color: #000;">timedata1,  distances1; </span><span style=" color: #009800;">// recorded time and distances  for  robot1</span></p><p class="s16">robotRecordData_t <span style=" color: #000;">timedata2,  distances2; </span><span style=" color: #009800;">// recorded time and distances  for  robot2</span></p><p class="s16">CPlot <span style=" color: #000;">plot;                          </span><span style=" color: #009800;">// plotting class</span></p><p class="s25">/* connect to robots and  move to the zero position  at the same  time.   */</p><p class="s17">robot1.connect();             robot2.connect();</p><p class="s17">robot1.resetToZeroNB();   robot2.resetToZeroNB();</p><p class="s17">robot1.moveWait();            robot2.moveWait();</p><p class="s25">/* set the speeds for  robot1 and robot2 */ <span style=" color: #000;">robot1.setSpeed(speed1, radius1); robot2.setSpeed(speed2, radius2);</span></p><p class="s25">/* disable record data shift and begin recording  time and distance  */</p><p class="s17">robot1.disableRecordDataShift();</p><p class="s17">robot2.disableRecordDataShift();</p><p class="s17">robot1.recordDistanceBegin(JOINT1,timedata1,distances1,radius1,timeInterval);</p><p class="s17">robot2.recordDistanceBegin(JOINT1,timedata2,distances2,radius2,timeInterval);</p><p class="s25">/* robot1 drives first for a total  of ’time1’   seconds.   ’delaytime’   seconds   later, robot2 drives for ’time2’   seconds while robot1 also  drives  */</p><p class="s17">robot1.driveTimeNB(time1);</p><p class="s17">robot2.delaySeconds(delaytime);</p><p class="s17">robot2.driveTime(time2);</p><p class="s17">robot1.moveWait(); <span style=" color: #009800;">//  wait till robot1 moved  ’time1’   seconds</span></p><p class="s25">/* end recording  time and distance  */ <span style=" color: #000;">robot1.recordDistanceEnd(JOINT1,  numDataPoints1); robot2.recordDistanceEnd(JOINT1,  numDataPoints2);</span></p><p class="s17"><span style=" color: #009800;">/* plot the data */ </span>plot.mathCoord(); plot.title(<span style=" color: #7F007F;">&quot;Distances versus time&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_X,  <span style=" color: #7F007F;">&quot;Time (seconds)&quot;</span>); plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;Distances (inches)&quot;</span>); plot.data2DCurve(timedata1, distances1, numDataPoints1); plot.legend(<span style=" color: #7F007F;">&quot;Distance for  robot 1&quot;</span>,   0); plot.data2DCurve(timedata2, distances2, numDataPoints2); plot.legend(<span style=" color: #7F007F;">&quot;Distance for  robot 2&quot;</span>,   1);</p><p class="s17">plot.plotting();</p><p>Program 11.11:  Recording the distances of two Linkbot-Is and plotting the distances versus time.  The movement states of the Linkbot-Is are set with a specified time.<br/>184<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.7.  Move Multiple Linkbots with Specified Time<br/><span><IMG width="23" height="16" src="chlinkbot/Image_811.jpg"/></span><br/>Do Exercises 3 and 4, on page 194.<br/>If the speeds of two robots are the same, the two lines for distances versus time shall be parallel. We can change<br/><span><IMG width="624" height="15" src="chlinkbot/Image_812.png"/></span></p><p class="s33">double <span style=" color: #000;">speed1=1.5,  speed2=3;      </span><span style=" color: #009800;">// speeds of  mobots in  inches  per second</span></p><p>in Program 11.11 to<br/><span><IMG width="624" height="15" src="chlinkbot/Image_813.png"/></span></p><p class="s33">double <span style=" color: #000;">speed1=1.5,  speed2=1.5;   </span><span style=" color: #009800;">// speeds of  mobots in  inches  per second</span></p><p><span><IMG width="480" height="290" src="chlinkbot/Image_814.jpg"/></span><br/>and save the new program as <span class="s23">recordparalleltime.ch</span>. This program is distributed along with other sample programs. In this program, the speed for the second robot is the same as the first one, 1.5 inches per second. When the program is executed, it will display the output as shown in Figure 11.5.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_815.jpg"/></span><br/>Figure 11.5: The plot for the distances of two Linkbot-Is moving at the same speed. Do Exercise 5 on page 187.</p><p class="s3">11.7.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_816.png"/></span><br/>1. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.driveTimeNB(seconds);</p><p>to move joints of a Linkbot for the specified time in seconds. The lines of code following the non- blocking member function will begin execution before the specified time in seconds has elapsed.<br/>2. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.moveJointTimeNB(id, seconds);</p><p>to move one joint of a Linkbot-I for a specified time. The lines of code following the non-blocking member function will begin execution before the specified time in seconds has elapsed.<br/>185<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.7.  Move Multiple Linkbots with Specified Time</p><p class="s3">11.7.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_817.png"/></span><br/>robot.driveTimeNB(), robot.moveJointTimeNB().</p><p class="s3">11.7.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_818.png"/></span><br/>1. Two Linkbot-Is are configured as two-wheel robots. The radii of the wheels are 1.75 inches.  Write a program <span class="s23">drivetimenb2.ch </span>for two Linkbot-Is racing in the following manner. Two Linkbot-Is will drive from a starting line at different times. The first Linkbot-I drives for 10 seconds at the speed of 1.2 inches per second. Then 5 seconds after the first Linkbot-I has left the starting line, the second Linkbot-I races at the speed of 2.4 inches per second for 5 seconds.<br/>2. Two Linkbot-Is are configured as two-wheel robots.  The radii of the wheels for the first Linkbot-I are 1.75 inches.  The radii of the wheels for the second Linkbot-I are 2 inches.  Write a program <span class="s23">drivetimenb3.ch </span>for two Linkbot-Is racing in the following manner. Two Linkbots will drive from a starting line at the same time at the same speed of 1.5 inches per second for 10 seconds.<br/>3. Two Linkbot-Is are configured as two-wheel robots. The radii of the wheels are 1.75 inches.  Write a program <span class="s23">recorddistancestime2.ch </span>to control two Linkbot-Is with the following motions. The first robot drives at the speed of 1.2 inches per second. Then 5 seconds later, the second robot drives at the speed of 2.4 inches per second.  Then 5 seconds later, both robots stop.   Record the distances and time during the motion of both robots. Plot the distances versus time as shown in the figure below. What are the equations for the linear relations shown in the figure? Verify that the point <span class="s5">(t, d) = (10, 12) </span>is the solution for the two equations of the linear relations.<br/><span><IMG width="480" height="290" src="chlinkbot/Image_819.jpg"/></span><br/>4. Two Linkbot-Is are configured as two-wheel robots. The radii of the wheels are 1.75 inches.  Write a program <span class="s23">recorddistancestime3.ch </span>to control two robots with the following motions.  The first robot drives at the speed of 1.2 inches per second for 15 seconds. The 5 seconds after the first robot drives, the second robot drives at the speed of 2.4 inches per second for 10 seconds. Both robots stop at the same time.  Record the distances and time during the motion of both robots.  Plot the distances versus time as shown in the figure below.<br/>186<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.8.  Move Multiple Linkbots Forever<br/><span><IMG width="480" height="290" src="chlinkbot/Image_820.jpg"/></span><br/>5. Two Linkbot-Is are configured as two-wheel robots. The radii of the wheels are 1.75 inches.  Write a program <span class="s23">recordparalleltime2.ch </span>to control two robots with the following motions.  Both robots drive at the same speed of 2.4 inches per second. The first robot drives first. Then 5 seconds later, the second robot drives. Then 5 seconds later, both robots stop. Record the distances and time during the motion of both robots. Plot the distances versus time as shown in the figure below.<br/><span><IMG width="624" height="53" src="chlinkbot/Image_821.png"/></span><br/><span><IMG width="480" height="290" src="chlinkbot/Image_822.jpg"/></span></p><p class="s21">11.8    Move Multiple Linkbots  Forever</p><p>In some situations, moving a robot for a specified time may not be desirable. In addition to moving joints with a specified time, a robot can be moved indefinitely with the member function driveForeverNB(). The motion problem for two two-wheel drive vehicles, as shown in Figure 11.2 on page 172 and described in section 11.7, can be solved using this function.<br/>187<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.8.  Move Multiple Linkbots Forever<br/><span><IMG width="624" height="483" src="chlinkbot/Image_823.png"/></span></p><p class="s25">/* File: driveforevernb.ch</p><p class="s25">Drive  two two-wheeled robots  with different speeds continuously</p><p class="s25">with a specified  time using drivForeverNB().   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2;</span></p><p class="s33">double <span style=" color: #000;">radius1=1.75;  </span><span style=" color: #009800;">// the radius  of the two wheels of robot1 in  inches</span></p><p class="s33">double <span style=" color: #000;">radius2=1.75;  </span><span style=" color: #009800;">// the radius  of the two wheels of robot2 in  inches</span></p><p class="s33">double <span style=" color: #000;">speed1=1.5,  speed2=3; </span><span style=" color: #009800;">// speed of robots in  inches per second</span></p><p class="s33">double <span style=" color: #000;">time=16;                         </span><span style=" color: #009800;">// motion time in  seconds for  robot1</span></p><p class="s33">double <span style=" color: #000;">delaytime=8;                  </span><span style=" color: #009800;">//  delay time for robot2</span></p><p class="s25">/* connect to robots and  move to the zero position  at the same  time.   */</p><p class="s17">robot1.connect();</p><p class="s17">robot2.connect();</p><p class="s17">robot1.resetToZeroNB();</p><p class="s17">robot2.resetToZeroNB();</p><p class="s17">robot1.moveWait();</p><p class="s17">robot2.moveWait();</p><p class="s25">/* set the speed for  robot1 */</p><p class="s17">robot1.setSpeed(speed1, radius1);</p><p class="s25">/* set the speed for  robot2 */</p><p class="s17">robot2.setSpeed(speed2, radius2);</p><p class="s25">/* robot1 drives first,   ’delaytime’   seconds later,   robot2 drives.</p><p class="s25">Both robots drive for  ’time-delaytime’   seconds at  the same time.</p><p class="s25">Then,   both robots  stop */</p><p class="s17">robot1.driveForeverNB();</p><p class="s17">robot2.delaySeconds(delaytime);</p><p class="s17">robot2.driveForeverNB();</p><p class="s17">robot2.delaySeconds(time-delaytime);</p><p class="s17">robot1.holdJoints();</p><p class="s17">robot2.holdJoints();</p><p>Program 11.12: Moving multiple Linkbots with specified times using driveForeverNB().<br/>In Program 11.12, the variable <span class="s23">time </span>of type <span style=" color: #F00;">double </span>is declared and assigned a value of 16 seconds. Since motion states for both Linkbots will not be set for a specific time, the variable <span class="s23">time </span>will be used to calculate delay. The <span style=" color: #FF1CCE;">CLinkbotI </span>member function driveForeverNB() has the general syntax</p><p class="s23">robot.driveForeverNB();</p><p>Unlike the function driveTimeNB(),  the function driveForeverNB() will move joints of the robot indefi- nitely. In other words, joints 1 and 3 of the Linkbot-I will move until another function call changes the joint states. driveForeverNB() is a non-blocking function, which means that the next line of code will start to execute immediately afterward. The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_824.png"/></span></p><p class="s17">robot1.driveForeverNB();</p><p>starts moving <span class="s23">robot1 </span>forward at a speed of 1.5 inches per second. The resulting movement is the same as in Program 11.10, except that there is no time limit. Whereas in Program 11.10 <span class="s23">robot1 </span>was commanded to move forward for only 16 seconds, in Program 11.12 <span class="s23">robot1 </span>will continue moving forward until the movement state is changed.  The next line of code calls the member function delaySeconds()  to delay execution of the next line of code for 8 seconds, as in Program 11.10. The following line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_825.png"/></span></p><p class="s17">robot2.driveForeverNB();</p><p>188<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.8.  Move Multiple Linkbots Forever<br/>starts moving <span class="s23">robot2 </span>forward at a speed of 3 inches per second. As it is for <span class="s23">robot1</span>, the motion time for <span class="s23">robot2 </span>is also unlimited. At this point both <span class="s23">robot1 </span>and <span class="s23">robot2 </span>will be moving forward simultane- ously. Since the movement state of <span class="s23">robot2 </span>has been set using a non-blocking function, the next program statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_826.png"/></span></p><p class="s17">robot2.delaySeconds(time-delaytime);</p><p>is called to delay the execution of the next line of code for <span class="s23">time-delaytime </span>seconds, which equals 8 seconds.<br/>You can hold all joint angles of a Linkbot by calling the member function holdJoints().   The general syntax of this function is</p><p class="s23">robot.holdJoints();</p><p>The lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_827.png"/></span></p><p class="s17">robot1.holdJoints();</p><p class="s17">robot2.holdJoints();</p><p>hold joints 1 and 3 of <span class="s23">robot1 </span>and <span class="s23">robot2</span>. This will stop the motion of both <span class="s23">robot1 </span>and <span class="s23">robot2</span>. Both Linkbots will hold their current positions as the program finishes execution, until they run out of power or are turned off manually.<br/>As in Program 11.10, the speed of the second Linkbot-I is twice as fast as the first one. Both Linkbot-Is shall stop at the same finishing line at the same time, and the distance traveled by two Linkbot-Is is the same.<br/>There is also a non-blocking function to move a single joint for an indefinite period of time.  The</p><p class="s11">CLinkbotI <span style=" color: #000;">member function moveJointForeverNB() has the following general syntax</span></p><p class="s23">robot.moveJointForeverNB(id);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_828.jpg"/></span><br/>The argument <span class="s23">id </span>indicates the joint to move. Since this function is non-blocking, the next line of code will execute simultaneously.<br/>Do Exercises 1 and 2 on page 194.<br/>Similar to Programs 11.8 and 11.9, and Programs 11.10 and 11.11, Program 11.12 can be modified to add the data acquisition and plotting code to display the distances versus time. Program 11.13 is very similar to Program 11.11, except that the movement states for both Linkbot-Is are set for a specified time using the member function driveForeverNB(). The lines of code moving robots are the same as those from Program<br/>11.12. The plot generated by Program 11.13 looks identical to that generated by Programs 11.9 and 11.11, as shown in Figure 11.4. The distances of two Linkbots and time are also related by the equations (11.1) and (11.2) as described on page 179.<br/>189<br/><span><IMG width="624" height="848" src="chlinkbot/Image_829.png"/></span><br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.8.  Move Multiple Linkbots Forever</p><p class="s25">/* File: recorddistances.ch</p><p class="s25">Record  time  and distances,   plot the acquired data for  two  robots.</p><p class="s25">The equations  of  motions are</p><p class="s25">d  =  1.5t</p><p class="s25">d  =  3(t-8)</p><p class="s25">*/</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s27">#include &lt;chplot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2;</span></p><p class="s33">double <span style=" color: #000;">speed1=1.5,  speed2=3; </span><span style=" color: #009800;">// speeds of robots in  inches per second</span></p><p class="s33">double <span style=" color: #000;">radius1=1.75,  radius2=1.75;  </span><span style=" color: #009800;">// the radii of two wheels of  robot1  and 2</span></p><p class="s33">double <span style=" color: #000;">time=16;                         </span><span style=" color: #009800;">// motion time in  seconds for  robot1</span></p><p class="s33">double <span style=" color: #000;">delaytime=8;                  </span><span style=" color: #009800;">//  delay time for robot2</span></p><p class="s33">double <span style=" color: #000;">timeInterval =  0.1;    </span><span style=" color: #009800;">// time interval in 0.1 second</span></p><p class="s33">int <span style=" color: #000;">numDataPoints1, numDataPoints2; </span><span style=" color: #009800;">// number  of data points recorded</span></p><p class="s16">robotRecordData_t <span style=" color: #000;">timedata1,  distances1; </span><span style=" color: #009800;">// recorded time and distances  for  robot1</span></p><p class="s16">robotRecordData_t <span style=" color: #000;">timedata2,  distances2; </span><span style=" color: #009800;">// recorded time and distances  for  robot2</span></p><p class="s16">CPlot <span style=" color: #000;">plot;                          </span><span style=" color: #009800;">// plotting class</span></p><p class="s25">/* connect to robots and  move to the zero position  at the same  time.   */</p><p class="s17">robot1.connect();             robot2.connect();</p><p class="s17">robot1.resetToZeroNB();   robot2.resetToZeroNB();</p><p class="s17">robot1.moveWait();            robot2.moveWait();</p><p class="s25">/* set the speeds for  robot1 and robot2 */ <span style=" color: #000;">robot1.setSpeed(speed1, radius1); robot2.setSpeed(speed2, radius2);</span></p><p class="s25">/* disable record data shift and begin recording  time and distance  */</p><p class="s17">robot1.disableRecordDataShift();</p><p class="s17">robot2.disableRecordDataShift();</p><p class="s17">robot1.recordDistanceBegin(JOINT1, timedata1, distances1, radius1, timeInterval);</p><p class="s17">robot2.recordDistanceBegin(JOINT1, timedata2, distances2, radius2, timeInterval);</p><p class="s25">/* robot1 drives first,   ’delaytime’   seconds later,   robot2 drives.</p><p class="s25">Both robots drive for  ’time-delaytime’   seconds at  the same time.</p><p class="s25">Then,   both robots  stop */</p><p class="s17">robot1.driveForeverNB();</p><p class="s17">robot2.delaySeconds(delaytime);</p><p class="s17">robot2.driveForeverNB();</p><p class="s17">robot2.delaySeconds(time-delaytime);</p><p class="s17">robot1.holdJoints();</p><p class="s17">robot2.holdJoints();</p><p class="s25">/* end recording  time and distance  */ <span style=" color: #000;">robot1.recordDistanceEnd(JOINT1,  numDataPoints1); robot2.recordDistanceEnd(JOINT1,  numDataPoints2);</span></p><p class="s17"><span style=" color: #009800;">/* plot the data */ </span>plot.mathCoord(); plot.title(<span style=" color: #7F007F;">&quot;Distances versus time&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_X,  <span style=" color: #7F007F;">&quot;Time (seconds)&quot;</span>); plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;Distances (inches)&quot;</span>); plot.data2DCurve(timedata1, distances1, numDataPoints1); plot.legend(<span style=" color: #7F007F;">&quot;Distance for  robot 1&quot;</span>,   0); plot.data2DCurve(timedata2, distances2, numDataPoints2); plot.legend(<span style=" color: #7F007F;">&quot;Distance for  robot 2&quot;</span>,   1);</p><p class="s17">plot.plotting();</p><p>Program 11.13: Recording the distances of two Linkbot-Is and plotting the distances versus time.<br/>190<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.8.  Move Multiple Linkbots Forever<br/><span><IMG width="23" height="16" src="chlinkbot/Image_830.jpg"/></span><br/>Do Exercises 3 and 4 on page 194.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_831.jpg"/></span><br/>Similar to the program <span class="s23">recordparalleltime.ch </span>which generates Figure 11.5,  the program <span class="s23">recordparallel.ch </span>generates the same output using the member function driveForeverNB().  This program is distributed along with other sample programs.<br/>Do Exercise 5 on page 194.</p><p class="s3">11.8.1   A Baton Passing Robot Relay Race</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_832.png"/></span><br/>An application of using multiple robots can be illustrated by a robot relay race. In this example, accelerom- eter data as described in section 10.4 is used to detect the motion of a robot.<br/>An Application Example:<br/>Write a program <span class="s23">batonpass.ch </span>to simulate the passing of a baton in a relay race using two two-wheel robots configured and oriented as shown in Figure 11.6. Both robots begin with red LEDs. When the first robot begins to move, its LED changes to green, while the second robot remains stationary with a red LED. The first robot should be able to travel any distance to reach the second. When the first robot runs into the second one, the accelerometer of the second robot responds to the bump. The first robot then stops and changes its LED back to red as the second robot begins traveling forward with a green LED for 6 inches.<br/><span><IMG width="241" height="160" src="chlinkbot/Image_833.jpg"/></span><br/>Figure 11.6: Passing a baton in a relay race with two robots.<br/>191<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.8.  Move Multiple Linkbots Forever<br/><span><IMG width="624" height="439" src="chlinkbot/Image_834.png"/></span></p><p class="s25">/* File: batonpass.ch</p><p class="s25">Pass  a baton (green  light) in a relay  race with two  Linkbot-Is   using accelerometer data.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2;</span></p><p class="s33">double <span style=" color: #000;">distance=6;     </span><span style=" color: #009800;">// the distance  of 6 inches to drive  forward</span></p><p class="s33">double <span style=" color: #000;">radius=1.75;   </span><span style=" color: #009800;">// the radius  of 1.75 inches of the two wheels of the robot</span></p><p class="s33">double <span style=" color: #000;">x, y1, y2, z; </span><span style=" color: #009800;">// acceleromter values in x, y, and z  components</span></p><p class="s25">/* connect to robots and  move to the zero position  at the same  time.   */</p><p class="s17">robot1.connect();             robot2.connect();</p><p class="s17">robot1.resetToZeroNB();   robot2.resetToZeroNB();</p><p class="s17">robot1.moveWait();            robot2.moveWait();</p><p class="s17">robot1.setLEDColor(<span style=" color: #7F007F;">&quot;red&quot;</span>); robot2.setLEDColor(<span style=" color: #7F007F;">&quot;red&quot;</span>); robot1.driveForeverNB(); robot1.setLEDColor(<span style=" color: #7F007F;">&quot;green&quot;</span>);</p><p class="s25">/* while the y component  of  the accelerometer does not change,   keep reading  it. */</p><p class="s17">robot2.getAccelerometerData(x, y1,  z);</p><p class="s17">y2=y1;</p><p class="s17"><span style=" color: #F00;">while</span>(<span style=" color: #FF1CCE;">abs</span>(y2-y1)&lt;0.03)   {</p><p class="s17">robot2.getAccelerometerData(x, y2,  z);</p><p class="s17">} robot2.setLEDColor(<span style=" color: #7F007F;">&quot;green&quot;</span>); robot2.driveDistanceNB(distance, radius); robot1.holdJoints(); robot1.setLEDColor(<span style=" color: #7F007F;">&quot;red&quot;</span>); robot2.moveWait(); robot2.setLEDColor(<span style=" color: #7F007F;">&quot;red&quot;</span>);</p><p>Program 11.14: Passing a baton (green light) in a relay race with two robots using the accelerometer data.<br/>When the first robot runs into the second one, the y component of the accelerometer of the second robot as shown in Figure 10.2 should change. We can use this information to control the motion and LED colors of both robots accordingly.<br/>Program 11.14 use two variables <span class="s23">y1 </span>and <span class="s23">y2 </span>to keep the y components of the accelerometer for the second robot at different time for comparison. Program 11.14 first set the LED colors of two Linkbot-Is to red using the member function setLEDColor().  The statements<br/><span><IMG width="624" height="29" src="chlinkbot/Image_835.png"/></span></p><p class="s17">robot1.driveForeverNB();</p><p class="s17">robot1.setLEDColor(<span style=" color: #7F007F;">&quot;green&quot;</span>);</p><p>then move the first robot forward and set its LED color to green. The lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_836.png"/></span></p><p class="s17">robot2.getAccelerometerData(x, y1,  z);</p><p class="s17">y2=y1;</p><p>obtain the accelerometer data for the second robot and make sure the variables <span class="s23">y1 </span>and <span class="s23">y2 </span>contain the same value for the y component of the accelerometer before the comparison is made. The <span style=" color: #F00;">while </span>loop<br/><span><IMG width="624" height="44" src="chlinkbot/Image_837.png"/></span></p><p class="s17"><span style=" color: #F00;">while</span>(<span style=" color: #FF1CCE;">abs</span>(y2-y1)&lt;0.03)   {</p><p class="s17">robot2.getAccelerometerData(x, y2,  z);</p><p class="s17">}</p><p>monitors the change of the y component of the accelerometer of the second robot. The mathematics function <span style=" color: #FF1CCE;">abs</span>() returns the absolute value of its argument.  For example, <span style=" color: #FF1CCE;">abs</span>(1.5) returns 1.5 and <span style=" color: #FF1CCE;">abs</span>(<span class="s5">−1.5</span>) also returns 1.5. Due to the noise, the difference expression <span class="s5">y2 − y1 </span>could be negative or positive at each reading<br/>192<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.8.  Move Multiple Linkbots Forever<br/>of the accelerometer data. The condition expression <span class="s5">abs(y2 − y1) &lt; 0.03 </span>uses the function <span style=" color: #FF1CCE;">abs</span>() to obtain the absolute value of the difference between the values of the two variables <span class="s23">y1 </span>and <span class="s23">y2</span>.  When the second robot is not bumped, the absolute value for the difference for each reading of the accelerometer should be less than 0.03. In this case, the <span style=" color: #F00;">while </span>loop keeps reading the accelerometer and pass the y component to the variable <span class="s23">y2 </span>for comparison. When the second robot is bumped by the first robot, the result <span class="s23">abs(y2-y1) </span>should be greater than 0.03. The control of the flow of the program will move to the following statements<br/><span><IMG width="624" height="59" src="chlinkbot/Image_838.png"/></span></p><p class="s17">robot2.setLEDColor(<span style=" color: #7F007F;">&quot;green&quot;</span>); robot2.driveDistanceNB(distance, radius); robot1.holdJoints(); robot1.setLEDColor(<span style=" color: #7F007F;">&quot;red&quot;</span>);</p><p>The above statements will set the LED color of the second robot to green, move the second robot for the specified <span class="s23">distance </span>and at the same time hold the first robot, and change the LED color of the first robot to red. The next statements<br/><span><IMG width="624" height="29" src="chlinkbot/Image_839.png"/></span></p><p class="s17">robot2.moveWait();</p><p class="s17">robot2.setLEDColor(<span style=" color: #7F007F;">&quot;red&quot;</span>);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_840.jpg"/></span><br/>will wait for the second robot to finish its motion before its color is changed to red and the program exits.<br/>Do Exercises 6, and 7 on page 194.</p><p class="s3">11.8.2   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_841.png"/></span><br/>1. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.driveForeverNB();</p><p>to move joints of a Linkbot, for an unlimited amount of time.  The following lines of code begin execution immediately before the statement containing<br/>driveForeverNB() has finished executing.<br/>2. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.moveJointForeverNB(id);</p><p>move a joint of a Linkbot, for an unlimited amount of time.  The following lines of code begin execution immediately before the statement containing<br/>moveJointForeverNB() has finished executing.<br/>3. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.holdJoints();</p><p>to relax all joint of a Linkbot.<br/>4. Call the function</p><p class="s23">abs(x)</p><p>to get the absolute value of its argument <span class="s23">x</span>.<br/>193<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.8.  Move Multiple Linkbots Forever</p><p class="s3">11.8.3   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_842.png"/></span><br/>robot.driveForeverNB(), robot.moveJointForeverNB(), absolute value, <span style=" color: #FF1CCE;">abs</span>().</p><p class="s3">11.8.4   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_843.png"/></span><br/>1. Write a program <span class="s23">driveforevernb2.ch </span>to control two Linkbot-Is with the following motions.<br/>The first Linkbot drives joints 1 and 3 continuously until the second Linkbot-I finishes rotating forward<br/>by 360 degrees.<br/>2. Two Linkbot-Is are configured as two-wheel robots. The radii of the wheels are 1.75 inches. (a) Write a program <span class="s23">driveforevernb3.ch </span>to control two Linkbot-Is with the following motions. The first Linkbot drives at the speed of 1.2 inches per second. 5 seconds later, the second Linkbot drives at the speed of 2.4 inches per second. 5 seconds later, both Linkbots stop.<br/>3. Modify the program <span class="s23">recorddistancestime2.ch </span>developed in Exercise 3 on page 186 as the program <span class="s23">recorddistances2.ch </span>using the member function driveTimeNB().<br/>4. Modify the program <span class="s23">recorddistancestime3.ch </span>developed in Exercise 4 on page 186 as the program <span class="s23">recorddistances3.ch </span>using the member functions driveTimeNB() and driveForeverNB().<br/>5. Modify the program <span class="s23">recordparalleltime2.ch </span>developed in Exercise 5 on page 187 as the pro- gram <span class="s23">recordparallel2.ch </span>using the member functions driveTimeNB() and driveForeverNB().<br/>6. Modify Program 11.14 as the program <span class="s23">batonpass2.ch </span>to simulate the passing of a baton in a relay race using two robots as shown in Figure 11.6. Change the <span style=" color: #F00;">while </span>in Program 11.14 to the code below<br/><span><IMG width="588" height="88" src="chlinkbot/Image_844.png"/></span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;y1  =  %lf\n&quot;</span>,   y1);</p><p class="s17"><span style=" color: #F00;">while</span>(<span style=" color: #FF1CCE;">abs</span>(y2-y1)&lt;0.03)   {</p><p class="s17">robot2.getAccelerometerData(x, y2,  z);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;y2  inside the while loop  =  %lf\n&quot;</span>,   y2);</p><p class="s17">}</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;y2  after the while loop  =  %lf\n&quot;</span>,   y2);</p><p>to watch the y component of the accelerometer for the second robot before and when it is bumped by the first robot. Also modify the program so that when the second robot is bumped by the first robot, the buzzer will be set on with the frequency of 450 till the second robot drives for 8 inches to reach its finish line.<br/>7. Write a program <span class="s23">batonpass3.ch </span>to simulate the passing of a baton in a relay race using three robots as shown in Figure 11.7. All robots begin with red LEDs. When the first robot begins to move, its LED changes to green, while the second and third robots remain stationary with red LEDs. The first and second robots should be able to travel any distance to reach the next. When the first robot runs into the second one, the the accelerometer of the second robot responds to the bump.  The first robot then stops and change s its LED back to red as the second robot begins travelling forward with a green LED. The second robot travels to run into the third robot, passes the baton (the second robot LED turns red and the third robot LED turns green), and the third robot carries the baton for 6 inches to the finish and then changes its LED back to red. You may view the video <span class="s23">batonpass.mp4 </span>distributed along with other C-STEM videos.<br/>194<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.9.  Plot Recorded Distances and Time for Multiple Linkbots with an Offset for the Distance<br/><span><IMG width="288" height="193" src="chlinkbot/Image_845.jpg"/></span><br/>Figure 11.7: Passing a baton in a relay race with three robots.<br/><span><IMG width="624" height="53" src="chlinkbot/Image_846.png"/></span></p><p class="s21">11.9    Plot Recorded Distances  and Time for Multi-</p><p class="s21">ple Linkbots  with an Offset for the Distance</p><p>In Section 9.1.7 we learned how to record and plot distance versus time for a single Linkbot-I with a specified speed and distance with an offset. In this section we will learn how to plot the distances versus time for two Linkbot-Is with an offset for the distance of a robot through an application example.<br/>Problem Statement:<br/>Two Linkbot-Is are configured as two-wheel robots, as shown in Figure 11.2 on page 172. The radii of the wheels are 1.75 inches. The first robot is placed in an X-Y coordinate system at the coordinate  (0,   6).       The   second   robot   is   placed   at   (6,   0).       Write   a   program <span class="s23">recorddistancesoffset.ch </span>to move the first robot at the speed of 1.5 inches per sec- ond for 12 seconds. After 4 seconds delay, the second robot moves at the speed of 3 inches per second. Both robots move together for 8 seconds. Record the distances as the robots travel with a time interval of 0.1 second. Plot the distances for both robots versus time.<br/>195<br/><span><IMG width="624" height="848" src="chlinkbot/Image_847.png"/></span><br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.9.  Plot Recorded Distances and Time for Multiple Linkbots with an Offset for the Distance</p><p class="s25">/* File: recorddistancesoffset.ch</p><p class="s25">Record time and distances  using driveTime(),   with  an offset  distance by</p><p class="s25">robot1.recordDistanceOffset(offset);</p><p class="s25">Delay 4 seconds for  robot2.   The equations  of  motions are</p><p class="s25">d  =  6  +  1.5t</p><p class="s25">d  =  3(t-4)</p><p class="s25">Plot the acquired data for  two robots  */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s27">#include &lt;chplot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2;</span></p><p class="s33">double <span style=" color: #000;">speed1=1.5,  speed2=3; </span><span style=" color: #009800;">// speeds of robots in  inches per second</span></p><p class="s33">double <span style=" color: #000;">radius1=1.75,  radius2=1.75;  </span><span style=" color: #009800;">// the radii of two wheels of  robot1 and robot2</span></p><p class="s33">double <span style=" color: #000;">offset=6;                    </span><span style=" color: #009800;">//  the offset  for the distance of robot1</span></p><p class="s33">double <span style=" color: #000;">time1=12,  time2=8;             </span><span style=" color: #009800;">// motion time in  seconds for  robot1 and robot2</span></p><p class="s33">double <span style=" color: #000;">delaytime=4;                  </span><span style=" color: #009800;">//  delay time for robot2</span></p><p class="s33">double <span style=" color: #000;">timeInterval =  0.1;    </span><span style=" color: #009800;">// time interval in 0.1 second</span></p><p class="s33">int <span style=" color: #000;">numDataPoints1, numDataPoints2; </span><span style=" color: #009800;">// number  of data points recorded</span></p><p class="s16">robotRecordData_t <span style=" color: #000;">timedata1,  distances1; </span><span style=" color: #009800;">// recorded time and distances  for  robot1</span></p><p class="s16">robotRecordData_t <span style=" color: #000;">timedata2,  distances2; </span><span style=" color: #009800;">// recorded time and distances  for  robot2</span></p><p class="s16">CPlot <span style=" color: #000;">plot;                          </span><span style=" color: #009800;">// plotting class</span></p><p class="s25">/* connect to robots and  move to the zero position  at the same  time.   */</p><p class="s17">robot1.connect();             robot2.connect();</p><p class="s17">robot1.resetToZeroNB();   robot2.resetToZeroNB();</p><p class="s17">robot1.moveWait();            robot2.moveWait();</p><p class="s25">/* set the speeds for  robot1 and robot2 */ <span style=" color: #000;">robot1.setSpeed(speed1, radius1); robot2.setSpeed(speed2, radius2);</span></p><p class="s25">/* set the offset  of the distance for robot1 */</p><p class="s17">robot1.recordDistanceOffset(offset);</p><p class="s25">/* disable record data shift and begin recording  time and distance  */</p><p class="s17">robot1.disableRecordDataShift();</p><p class="s17">robot2.disableRecordDataShift();</p><p class="s17">robot1.recordDistanceBegin(JOINT1, timedata1, distances1, radius1, timeInterval);</p><p class="s17">robot2.recordDistanceBegin(JOINT1, timedata2, distances2, radius2, timeInterval);</p><p class="s25">/* robot1 drives first for a total  of ’time1’   seconds.</p><p class="s25">’delaytime’   seconds later,   robot2 drives for ’time2’   seconds while robot1 also  drives  */</p><p class="s17">robot1.driveTimeNB(time1);</p><p class="s17">robot2.delaySeconds(delaytime);</p><p class="s17">robot2.driveTime(time2);</p><p class="s17">robot1.moveWait(); <span style=" color: #009800;">//  wait till robot1 moved  ’time1’   seconds</span></p><p class="s17">robot1.recordDistanceEnd(JOINT1,  numDataPoints1);</p><p class="s17">robot2.recordDistanceEnd(JOINT1,  numDataPoints2);</p><p class="s17"><span style=" color: #009800;">/* plot the data */ </span>plot.mathCoord(); plot.title(<span style=" color: #7F007F;">&quot;Distances versus time&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_X,  <span style=" color: #7F007F;">&quot;Time (seconds)&quot;</span>); plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;Distances (inches)&quot;</span>); plot.data2DCurve(timedata1, distances1, numDataPoints1); plot.legend(<span style=" color: #7F007F;">&quot;Distance for  robot 1&quot;</span>,   0); plot.data2DCurve(timedata2, distances2, numDataPoints2); plot.legend(<span style=" color: #7F007F;">&quot;Distance for  robot 2&quot;</span>,   1);</p><p class="s17">plot.plotting();</p><p>Program 11.15: Recording the distances of two Linkbot-Is and plotting the distances versus time with an offset for the distance of robot 1.<br/>196<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.9.  Plot Recorded Distances and Time for Multiple Linkbots with an Offset for the Distance<br/><span><IMG width="479" height="289" src="chlinkbot/Image_848.jpg"/></span><br/>Figure 11.8: The plot for the distances of two Linkbot-Is versus time from Program 11.15.<br/>Program 11.15 is written based on Program 11.11.We only changed the code<br/><span><IMG width="624" height="29" src="chlinkbot/Image_849.png"/></span></p><p class="s33">double <span style=" color: #000;">time1=16,  time2=8; </span><span style=" color: #009800;">// motion time in  seconds for  robot1 and robot2 </span>double <span style=" color: #000;">delaytime=8;             </span><span style=" color: #009800;">//  delay time for robot2</span></p><p>in Program 11.11 to<br/><span><IMG width="624" height="44" src="chlinkbot/Image_850.png"/></span></p><p class="s33">double <span style=" color: #000;">offset=6;               </span><span style=" color: #009800;">//  the offset  for the distance of robot1</span></p><p class="s33">double <span style=" color: #000;">time1=12,  time2=8; </span><span style=" color: #009800;">// motion time in  seconds for  robot1 and robot2</span></p><p class="s33">double <span style=" color: #000;">delaytime=4;             </span><span style=" color: #009800;">//  delay time for robot2</span></p><p>in Program 11.15. In addition, we added the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_851.png"/></span></p><p class="s17">robot1.recordDistanceOffset(offset);</p><p>for the offset of the distance for robot 1. The resulting graph of distance versus time for both Linkbot-Is is shown in Figure 11.8.<br/>As shown in Figure 11.8, the relation between the distance (<span class="s5">d</span>) and time (<span class="s5">t</span>) for the first robot can be<br/>formulated by the following linear equation.</p><p class="s5">d = 6 + 1.5t                                                           <span class="p">(11.3) The second robot moves at the speed of 3 inches per second and starts to move 4 seconds later. The linear</span></p><p>relation between the distance (<span class="s5">d</span>) and time (<span class="s5">t</span>) can be formulated by the equation.</p><p class="s5">d = 3(t − 4)                                                          <span class="p">(11.4) The intersection point </span>(t, d) = (12, 24) <span class="p">of two straight lines in Figure 11.8 satisfies both equations (11.3)</span></p><p><span><IMG width="23" height="16" src="chlinkbot/Image_852.jpg"/></span><br/>and (11.4). Physically, the first robot moves at the position 6 inches ahead of the second robot for 12 seconds and travels for 18 inches to reach the position 24 inches. The second robot moves at 6 inches behind the first robot after the first robot moved for 4 seconds. 8 seconds after the second robot moves, the second robot also reaches the position 24 inches. The total distance traveled by the second robot is 24 inches.<br/>Do Exercise 1 on page 201.<br/>197<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.9.  Plot Recorded Distances and Time for Multiple Linkbots with an Offset for the Distance<br/>Problem Statement:<br/>The first robot is placed in an X-Y coordinate system at the coordinate (0, 6). The second robot is placed at (6, 0), Write a program <span class="s23">recorddistancesoffset2.ch </span>to move the first robot at the speed of 1.5 inches per second for 12 seconds and the second robot at the speed of 3 inches per second for 10 seconds. Both robots start to move at the same time. Record the distances as the robots travel with a time interval of 0.1 second. Plot the distances for both robots versus time.<br/>The program <span class="s23">recordistancesoffset2.ch </span>distributed along with the other programs in this book is the same as Program 11.15, except that the statements<br/><span><IMG width="624" height="73" src="chlinkbot/Image_853.png"/></span></p><p class="s17">robot1.driveTimeNB(time1); robot2.delaySeconds(delaytime); robot2.driveForeverNB(time2); robot1.recordDistanceEnd(JOINT1,  numDataPoints1); robot2.recordDistanceEnd(JOINT1,  numDataPoints2);</p><p>in Program 11.15 are changed to<br/><span><IMG width="624" height="73" src="chlinkbot/Image_854.png"/></span></p><p class="s17">robot1.driveTimeNB(time1); robot2.driveTime(time2); robot1.moveWait();</p><p class="s17">robot1.recordDistanceEnd(JOINT1,  numDataPoints1);</p><p class="s17">robot2.recordDistanceEnd(JOINT1,  numDataPoints2);</p><p>in the program <span class="s23">recordistancesoffset2.ch </span>so that both robots 1 and 2 move at the same time. Since robot 1 moves for 12 seconds and robot 2 moves for 8 seconds, the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_855.png"/></span></p><p class="s17">robot1.moveWait();</p><p>is used to wait till robot 1 has moved for 12 seconds before the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_856.png"/></span></p><p class="s17">robot1.recordDistanceEnd(JOINT1,  numDataPoints1);</p><p>is called to terminate the motion of robot 1. The plot from the program <span class="s23">recordistancesoffset2.ch</span><br/>is shown in Figure 11.9.<br/>As shown in Figure 11.9, the linear relation between the distance (<span class="s5">d</span>) and time (<span class="s5">t</span>) for the first robot is as follows.</p><p class="s5">d = 6 + 1.5t                                                           <span class="p">(11.5)</span></p><p>The linear relation between the distance (<span class="s5">d</span>) and time (<span class="s5">t</span>) for the second robot can be formulated as follows.</p><p class="s5">d = 3t                                                               <span class="p">(11.6) The intersection point </span>(t, d) = (4, 12) <span class="p">of two straight lines in Figure 11.9 satisfies both equations (11.5) and</span></p><p>(11.6). Physically, it means that 4 seconds after the motion starts for both robots 1 and 2, robot 1 has moved<br/><span><IMG width="23" height="16" src="chlinkbot/Image_857.jpg"/></span><br/>8 inches and robot 2 have moved 12 inches. Because robot 1 is placed 4 inches ahead of robot2, they both reach the position 12 inches.<br/>Do Exercise 2 on page 202.<br/>The program <span class="s23">recorddistancesoffset22.ch </span>removed the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_858.png"/></span></p><p class="s17">robot1.moveWait();</p><p>It generates the plot shown in Figure 11.10.  In this case, the data recording for robot 1 only lasts for 8 seconds although robot 1 moves for 12 seconds.<br/>The program <span class="s23">recorddistancesoffset23.ch </span>uses the following statements for motion synchro- nization.<br/>198<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.9.  Plot Recorded Distances and Time for Multiple Linkbots with an Offset for the Distance<br/><span><IMG width="480" height="302" src="chlinkbot/Image_859.jpg"/></span><br/>Figure   11.9:     The   plot   for   the   distances  of   two   Linkbot-Is  versus   time   from   the   program</p><p class="s23">recorddistancesoffset2.ch <span class="p">without the time delay.</span></p><p><span><IMG width="480" height="302" src="chlinkbot/Image_860.jpg"/></span><br/>Figure  11.10:     The  plot  for  the  distances  of  two  Linkbot-Is  versus  time  from  the  program</p><p class="s23">recorddistancesoffset22.ch <span class="p">without the moveWait() statement.</span></p><p>199<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.9.  Plot Recorded Distances and Time for Multiple Linkbots with an Offset for the Distance<br/><span><IMG width="480" height="302" src="chlinkbot/Image_861.jpg"/></span><br/>Figure  11.11:     The  plot  for  the  distances  of  two  Linkbot-Is  versus  time  from  the  program</p><p class="s23">recorddistancesoffset23.ch<span class="p">.</span></p><p><span><IMG width="624" height="73" src="chlinkbot/Image_862.png"/></span></p><p class="s17">robot1.driveTimeNB(time1); robot2.driveTime(time2); robot2.recordDistanceEnd(JOINT1,  numDataPoints2); robot1.moveWait(); robot1.recordDistanceEnd(JOINT1,  numDataPoints1);</p><p>Once the motion for robot 2 finishes, the data recording is stopped while robot 1 is still moving. The program<br/><span><IMG width="23" height="16" src="chlinkbot/Image_863.jpg"/></span></p><p class="s23">recorddistancesoffset23.ch <span class="p">generates the plot shown in Figure 11.11.</span></p><p>Do Exercise 3 on page 202.<br/>You can call the member functions driveTime() and driveTimeNB() to move a Linkbot-I backward if the speed of a robot is negative.  For example, the program <span class="s23">recordinterceptoffset.ch</span>, uses the statements below to move a Linkbot-I backward, with the generated plot shown in Figure 11.12.<br/><span><IMG width="624" height="44" src="chlinkbot/Image_864.png"/></span></p><p class="s17">robot1.setSpeed(-speed1, radius1); <span style=" color: #009800;">// negative speed for  robot1</span></p><p class="s17">...</p><p class="s17">robot.driveTimeNB(time);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_865.jpg"/></span><br/>The program is distributed along with other sample programs, Do Exercise 4 on page 203.<br/>Instead of using the member functions driveTime()  and driveTimeNB()  with the specified time, the<br/><span><IMG width="23" height="16" src="chlinkbot/Image_866.jpg"/></span><br/>distances and time for multiple Linkbots with an offset for the distance can be solved using the member func- tions    driveDistance()     and    driveDistanceNB()     with    the    specified    distance.           Programs <span class="s23">recorddistancesdistoffset.ch </span>and <span class="s23">recordinterceptdistoffset.ch </span>demonstrate how to use these member functions with an offset for the distance. These programs are distributed along with other sample programs,<br/>Do Exercises 5 and 6 on page 203<br/>200<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.9.  Plot Recorded Distances and Time for Multiple Linkbots with an Offset for the Distance<br/><span><IMG width="479" height="297" src="chlinkbot/Image_867.jpg"/></span><br/>Figure  11.12:     The  plot  for  the  distances  of  two  Linkbot-Is  versus  time  from  the  program</p><p class="s23">recordinterceptoffset.ch<span class="p">.</span></p><p class="s3">11.9.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_868.png"/></span><br/>1. Plot the distances versus time for multiple robots with an offset for the distance.</p><p class="s3">11.9.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_869.png"/></span></p><p class="s3">11.9.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_870.png"/></span><br/>1. Two Linkbot-Is are configured as two-wheel robots. The radii of the wheels are 1.75 inches. The first robot is placed in an X-Y coordinate system at the coordinate (0, 6). The second robot is placed at (6,<br/>0). Write a program <span class="s23">recorddistancesoffset3.ch </span>to drive the first robot at the speed of 1.2 inches per second for 15 seconds. After 5 seconds delay, the second robot drives at the speed of 2.4 inches per second. Both robots drive together for 10 seconds. Record the distances as the robots travel<br/>with a time interval of 0.1 second. Plot the distances versus time as shown in the figure below. What are the equations for the linear relations shown in the figure? Verify that the point <span class="s5">(t, d) = (15, 24) </span>is the solution for the two linear equations.<br/>201<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.9.  Plot Recorded Distances and Time for Multiple Linkbots with an Offset for the Distance<br/><span><IMG width="479" height="289" src="chlinkbot/Image_871.jpg"/></span><br/>Figure 11.13: Two robots moving in the same direction.<br/>2. Two Linkbot-Is are configured as two-wheel robots. The radii of the wheels are 1.75 inches. The first robot is placed in an X-Y coordinate system at the coordinate (0, 6). The second robot is placed at (6,<br/>0). Write a program <span class="s23">recorddistancesoffset4.ch </span>to drive the first robot at the speed of 1.2 inches per second for 15 seconds. and the second robot at the speed of 2.4 inches per second for 10 seconds. Record the distances as the robots travel with a time interval of 0.1 second. Plot the distances<br/>versus time as shown in the figure below. What are the equations for the linear relations shown in the figure? Verify that the point <span class="s5">(t, d) = (5, 12) </span>is the solution for the two linear equations.<br/><span><IMG width="480" height="302" src="chlinkbot/Image_872.jpg"/></span><br/>3. Modify   the    program   <span class="s23">recorddistancesoffset4.ch  </span>developed   in    Exercise   2    as</p><p class="s23">recorddistancesoffset43.ch <span class="p">to produce a plot shown below.</span></p><p>202<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.9.  Plot Recorded Distances and Time for Multiple Linkbots with an Offset for the Distance<br/><span><IMG width="480" height="302" src="chlinkbot/Image_873.jpg"/></span><br/>4. Two Linkbots are configured as two-wheel robots. The radii of the wheels are 1.75 inches. The first robot is placed in an X-Y coordinate system at the coordinate (0, 21).  The second robot is placed at (6, 0). Write a program <span class="s23">recordinterceptoffset2.ch </span>to drive the first Linkbot backward using the member function driveTimeNB() at the speed of 1.5 inches per second for 6 seconds. Then<br/>2 seconds after the first Linkbots drives, the second Linkbot drives forward at the speed of 3 inches per second for 4 seconds using the member function driveTime().  Record the distances as the robots travel with a time interval of 0.1 second. Plot the distances for both Linkbots versus time similar to the one shown in the figure below. What are the equations for the linear relations shown in the figure? Verify that the point <span class="s5">(t, d) = (6, 12) </span>is the solution for two linear equations.<br/><span><IMG width="480" height="290" src="chlinkbot/Image_874.jpg"/></span><br/>Figure 11.14: Two robots moving in opposite directions.<br/>5. Write a program <span class="s23">recorddistancesdistoffset2.ch </span>using the member functions driveDis-<br/>203<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.10.  <span class="s5">‡ </span>Copy Motions of a Controller Linkbot to a Controlled Linkbot<br/>tanceNB() and driveDistance()  to reproduce Figure 11.13 shown in Exercise 1.<br/>6. Write a program <span class="s23">recordinterceptdistoffset2.ch </span>using the member functions driveDis- tanceNB() and driveDistance()  to reproduce Figure 11.14 shown in Exercise 4.<br/><span><IMG width="624" height="53" src="chlinkbot/Image_875.png"/></span></p><p class="s21">11.10    <span class="s36">‡ </span>Copy Motions of a Controller Linkbot  to a</p><p class="s21">Controlled Linkbot</p><p class="s3">11.10.1   Repeat Actions Using a <span style=" color: #F00;">while </span>Loop</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_876.png"/></span><br/>Another way to control multiple Linkbots with a single program is by making one Linkbot copy the actions of another Linkbot which is being controlled manually. In this section we will learn how to accomplish this with a <span style=" color: #F00;">while </span>loop to help control the flow of the program.<br/><span><IMG width="624" height="453" src="chlinkbot/Image_877.png"/></span></p><p class="s25">/* File: copycat.ch</p><p class="s25">Copy the motion of  the 1st  robot to  the 2nd robot by moving joints of</p><p class="s25">the 1st  robot manually */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2;</span></p><p class="s33">double <span style=" color: #000;">angle1, angle3;</span></p><p class="s25">/* connect to robots and  move to the zero position  at the same  time.   */</p><p class="s17">robot1.connect();</p><p class="s17">robot2.connect();</p><p class="s17">robot1.resetToZeroNB();</p><p class="s17">robot2.resetToZeroNB();</p><p class="s17">robot1.moveWait();</p><p class="s17">robot2.moveWait();</p><p class="s25">/* Set colors for robots.   Use the green robot to control  the red one */</p><p class="s17">robot1.setLEDColor(<span style=" color: #7F007F;">&quot;green&quot;</span>);</p><p class="s17">robot2.setLEDColor(<span style=" color: #7F007F;">&quot;red&quot;</span>);</p><p class="s25">/* relax all joints of robot1 */</p><p class="s17">robot1.relaxJoints();</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;You   can  now move joints of robot1 manually to control  robot2\n&quot;</span>);</p><p class="s33">while<span style=" color: #000;">(1) {</span></p><p class="s25">/* get the 1st robot joint  angles */</p><p class="s17">robot1.getJointAngles(angle1, <span style=" color: #FF1CCE;">NaN</span>,   angle3);</p><p class="s25">/* drive the 2nd robot  to  the  same position of the 1st robot */</p><p class="s25">/* replace robot2.jumpToNB()   by robot2.moveToByTrackPosNB()   in BaroboLink 1.6.9 */</p><p class="s25">/* robot2.jumpToNB(angle1,   NaN,   angle3);   */</p><p class="s17">robot2.moveToByTrackPosNB(angle1, <span style=" color: #FF1CCE;">NaN</span>,   angle3);</p><p class="s17">}</p><p>Program 11.16: Copying motions of a controller Linkbot to a controlled Linkbot using the function move- ToByTrackPosNB().<br/>Program 11.16 copies the motions of one Linkbot-I to another Linkbot-I. In order to distinguish between<br/>Linkbots, the statements<br/>204<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.10.  <span class="s5">‡ </span>Copy Motions of a Controller Linkbot to a Controlled Linkbot<br/><span><IMG width="380" height="253" src="chlinkbot/Image_878.jpg"/></span><br/>Figure 11.15: Copying the motion from one Linkbot to the other Linkbot.<br/><span><IMG width="624" height="29" src="chlinkbot/Image_879.png"/></span></p><p class="s17">robot1.setLEDColor(<span style=" color: #7F007F;">&quot;green&quot;</span>);</p><p class="s17">robot2.setLEDColor(<span style=" color: #7F007F;">&quot;red&quot;</span>);</p><p>sets the LED color of <span class="s23">robot1 </span>to green and the LED color of <span class="s23">robot2 </span>to red. The Linkbot-I with the green<br/>LED will control the Linkbot-I with the red LED. The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_880.png"/></span></p><p class="s17">robot1.relaxJoints();</p><p>relaxes joints 1 and 3 of <span class="s23">robot1</span>. This allows the user to turn each joint freely. Finally, the lines<br/><span><IMG width="624" height="88" src="chlinkbot/Image_881.png"/></span></p><p class="s33">while<span style=" color: #000;">(1) {</span></p><p class="s25">/* get the 1st robot joint  angles */</p><p class="s17">robot1.getJointAngles(angle1, <span style=" color: #FF1CCE;">NaN</span>,   angle3);</p><p class="s25">/* drive the 2nd robot  to  the  same position of the 1st robot */</p><p class="s17">robot2.moveToByTrackPosNB(angle1, <span style=" color: #FF1CCE;">NaN</span>,   angle3);</p><p class="s17">}</p><p>copy the joint angles of the manually controlled Linkbot-I to the other Linkbot-I. The commands to copy motions are repeated with the help of a <span style=" color: #F00;">while </span>loop. Recall from Section 10.3.2 that a <span style=" color: #F00;">while </span>loop repeats a sequence of statements multiple times until the loop condition expression is no longer true. In Program<br/>11.16 the loop condition is 1, so it is always true. The loop repeats until either the user presses the <span class="s23">Stop </span>button on the debug bar in ChIDE or until the user turns the robot off. Inside the <span style=" color: #F00;">while </span>loop, the first line of code<br/><span><IMG width="624" height="15" src="chlinkbot/Image_882.png"/></span></p><p class="s17">robot1.getJointAngles(angle1, <span style=" color: #FF1CCE;">NaN</span>,   angle3);</p><p>gets the angle values for joints 1 and 3 from the manually controlled <span class="s23">robot1</span>. The second line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_883.png"/></span></p><p class="s17">robot2.moveToByTrackPosNB(angle1, <span style=" color: #FF1CCE;">NaN</span>,   angle3);</p><p>moves joints 1 and 3 of <span class="s23">robot2 </span>to the absolute joint angle positions copied from <span class="s23">robot1</span>. The <span style=" color: #FF1CCE;">CLinkbotI</span><br/>member function moveToByTrackPosNB() has the general syntax</p><p class="s23">robot.moveToByTrackPosNB(angle1,  NaN, angle3);</p><p>where <span class="s23">angle1 </span>and <span class="s23">angle3 </span>are the joint angle values used to drive joints 1 and 3 to their absolute joint angle positions.  The member function moveToByTrackPosNB() is used instead of moveToNB() in this case because the joint positions of <span class="s23">robot2 </span>are being tracked instead of joint speeds.<br/>205<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.10.  <span class="s5">‡ </span>Copy Motions of a Controller Linkbot to a Controlled Linkbot<br/>The function moveToByTrackPosNB() is non-blocking, so it allows the loop to repeat immediately instead of waiting for <span class="s23">robot2 </span>to complete its action.  The blocking version of this function is moveTo- ByTrackPos().  For the position control, instead of velocity control, use the member function moveToBy- TrackPos().<br/><span><IMG width="23" height="16" src="chlinkbot/Image_884.jpg"/></span><br/>When you run Program 11.16, you may open the Motion Control Panel of the BaroboLink to watch the joint angles of the controlled robot.<br/>Do Exercise 1, 2, 3, and 4, on page 208.<br/>We can also use sensor data from a controller Linkbot-I to determine the motion of a second Linkbot- I. Program 11.17 shows an example using accelerometer data from one Linkbot to control the motions of another Linkbot. You do not need to attach wheels to the controller Linkbot in order to run this program. The controlled Linkbot, however, will need wheels attached.<br/><span><IMG width="624" height="483" src="chlinkbot/Image_885.png"/></span></p><p class="s25">/* File: accelcontrol.ch</p><p class="s25">The accelerometer value for  the 1st  robot in  green color  will determine</p><p class="s25">the  motion for the 2nd robot in  red color.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2;</span></p><p class="s33">double <span style=" color: #000;">x, y, z;</span></p><p class="s33">int <span style=" color: #000;">motorPower, motorOffset;</span></p><p class="s25">/* Connect to robots */ <span style=" color: #000;">robot1.connect(); robot2.connect();</span></p><p class="s25">/* Set colors for robots.   Use the green robot to control  the red one */</p><p class="s17">robot1.setLEDColor(<span style=" color: #7F007F;">&quot;green&quot;</span>);</p><p class="s17">robot2.setLEDColor(<span style=" color: #7F007F;">&quot;red&quot;</span>);</p><p class="s25">/* relax all joints of robot2 */</p><p class="s17">robot2.relaxJoints();</p><p class="s33">while<span style=" color: #000;">(1) {</span></p><p class="s25">/* Get the accelerometer values  */</p><p class="s17">robot1.getAccelerometerData(x, y, z);</p><p class="s25">/* Calculate forward-backward */</p><p class="s17">motorPower  = 200  * y;</p><p class="s17">motorOffset = 50  * x;</p><p class="s25">/* replace robot2.setJointPower()   by robot2.moveJointByPowerNB()   in BaroboLink 1.6.9</p><p class="s25">robot2.setJointPower(JOINT1,   -motorPower - motorOffset);</p><p class="s25">robot2.setJointPower(JOINT3,   motorPower - motorOffset);</p><p class="s25">*/</p><p class="s17">robot2.moveJointByPowerNB(JOINT1,  -motorPower - motorOffset);</p><p class="s17">robot2.moveJointByPowerNB(JOINT3, motorPower - motorOffset);</p><p class="s17">}</p><p>Program 11.17: Using the accelerometer of one Linkbot to determine the motion of a second Linkbot.<br/>Program 11.17 uses the X and Y component values of the controller Linkbot’s accelerometer to calculate the joint motor power of the controlled Linkbot.  This program works the same way that TiltDrive mode works between two Linkbots connected using BumpConnect. The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_886.png"/></span></p><p class="s33">int <span style=" color: #000;">motorPower, motorOffset;</span></p><p>206<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.10.  <span class="s5">‡ </span>Copy Motions of a Controller Linkbot to a Controlled Linkbot<br/>declares the variables of type <span style=" color: #F00;">int</span>, <span class="s23">motorPower </span>and <span class="s23">motorOffset</span>. The value for the variable <span class="s23">motorPower</span><br/>will be calculated using the Y component of acceleration and <span class="s23">motorOffset </span>will be calculated using the<br/>X component of acceleration from <span class="s23">robot1</span>.  The difference between <span class="s23">motorPower </span>and <span class="s23">motorOffset</span><br/>will determine the power of each joint motor of <span class="s23">robot2</span>. As in Program 11.16, the LED of <span class="s23">robot1 </span>is set<br/>to green and the LED of <span class="s23">robot2 </span>is set to red. Then the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_887.png"/></span></p><p class="s17">robot2.relaxJoints();</p><p>relaxes joints 1 and 3 of <span class="s23">robot2</span>. Since the accelerometer data of <span class="s23">robot1 </span>is being used as the controlling input instead of manual wheel motions, relaxJoints() does not need to be called on <span class="s23">robot1</span>.  Then, as in Program 11.16, a <span style=" color: #F00;">while </span>loop is used to set the motor power of <span class="s23">robot2 </span>using the accelerometer data of <span class="s23">robot1</span>.  Since the loop condition equals 1, this loop will keep repeating until the user turns off the Linkbots or presses the <span class="s23">Stop </span>button on the ChIDE debug panel. Inside the <span style=" color: #F00;">while </span>loop, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_888.png"/></span></p><p class="s17">robot1.getAccelerometerData(x, y, z);</p><p>retrieves the X, Y, and Z components of the acceleration of <span class="s23">robot1</span>. The next lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_889.png"/></span></p><p class="s17">motorPower  = 200  * y;</p><p class="s17">motorOffset = 50  * x;</p><p>use <span class="s23">y </span>from the accelerometer data to calculate <span class="s23">motorPower </span>and <span class="s23">x </span>to calculate <span class="s23">motorOffset</span>. The final two lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_890.png"/></span></p><p class="s17">robot2.moveJointByPowerNB(JOINT1,  -motorPower - motorOffset);</p><p class="s17">robot2.moveJointByPowerNB(JOINT3, motorPower - motorOffset);</p><p>move joints by setting the motor power of joints 1 and 3 of <span class="s23">robot2 </span>using the calculated difference between <span class="s23">motorPower </span>and <span class="s23">motorOffset</span>.  This is done for each joint using the <span style=" color: #FF1CCE;">CLinkbotI </span>member function moveJointByPowerNB(). The general syntax of this function is as follows</p><p class="s23">robot.moveJointByPowerNB(id, power);</p><p>The argument <span class="s23">id </span>specifies the joint to set the power. For a Linkbot-I this argument can have the values JOINT1  or JOINT3.  The argument <span class="s23">power </span>indicates the power at which to set the specified joint. This argument can have any integer value from -100 to 100.<br/>To give an example of how the motion of <span class="s23">robot1 </span>affects the motion of <span class="s23">robot2</span>,  tilt <span class="s23">robot1 </span>so that joint 1 is facing the floor.  In this position, the X component of acceleration will be close to 1, and <span class="s23">motorOffset </span>will equal 100. The Y component of acceleration will be close to zero, so <span class="s23">motorPower</span><br/>will equal zero. According to Program 11.17 the power of both joints 1 and 3 of <span class="s23">robot2 </span>will be set to <span class="s5">−60</span>.<br/>As a result <span class="s23">robot2 </span>will left turn. As <span class="s23">robot1 </span>is gradually tilted back into a position where both joints 1<br/>and 3 are facing outward, <span class="s23">robot2 </span>will turn left more slowly until it stops. At this point the X component of<br/>acceleration will be close to zero. In a similar manner, if <span class="s23">robot1 </span>is tilted so that joint 3 is facing the floor,</p><p class="s23">robot2 <span class="p">will turn right. Tilting </span>robot1 <span class="p">so that the curved part of the Linkbot is facing up makes the Y</span></p><p>component of acceleration almost equal to 1. This will make <span class="s23">motorPower </span>equal 500. The X component<br/>will be close to zero in this position, so <span class="s23">motorOffset </span>will equal zero. Since the argument <span class="s23">power </span>can be no more than 100 and no less than <span class="s5">−100</span>, then the power of joint 1 of <span class="s23">robot2 </span>will be rounded up to <span class="s5">−100</span><br/>and the power of joint 3 will rounded down to 100. As a result <span class="s23">robot2 </span>will move forward quickly. Tilting <span class="s23">robot1 </span>forward gradually until the curved part of this Linkbot is facing forward will make <span class="s23">robot2 </span>move forward more slowly until it stops. Similarly, tilting <span class="s23">robot1 </span>so that the curved part is facing the floor will make <span class="s23">robot2 </span>move backward quickly.<br/>When you run Program 11.17, you may open the Motion Control Panel of the BaroboLink to watch<br/><span><IMG width="23" height="16" src="chlinkbot/Image_891.jpg"/></span><br/>the joint angles of the controlled robot or the Sensors Panel to view the x, y, and z components of the accelerometer of the controlling robot.<br/>Do Exercises 5, 6, and 7 on page 5.<br/>207<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.10.  <span class="s5">‡ </span>Copy Motions of a Controller Linkbot to a Controlled Linkbot</p><p class="s3">11.10.2   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_892.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.relaxJoints();</p><p>to relax all joints of a Linkbot.<br/>2. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.moveToByTrackPosNB(angle1,  NaN, angle3);</p><p>to rotate the joint positions of a Linkbot-I to their absolute joint angle positions. The blocking version of this function is moveToByTrackPos().<br/>3. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.moveJointByPowerNB(id, power);</p><p>to move a joint by setting the power for the joint motor of a Linkbot-I.</p><p class="s3">11.10.3   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_893.png"/></span><br/>robot.setLEDColor(), robot.relaxJoints(), robot.moveToByTrackPos(), robot.moveToByTrackPosNB(),<br/>robot.moveJointByPowerNB().</p><p class="s3">11.10.4   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_894.png"/></span><br/>1. What is the difference between moveToByTrackPos() and moveTo()?<br/>2. Run the program <span class="s23">copycat.ch </span>in Program 11.16 to move the controlled Linkbot. Open the Motion<br/>Control Panel of the BaroboLink to watch the joint angles of the controlled robot.<br/>3. Two group of students, each run the program <span class="s23">copycat.ch </span>in Program 11.16 in their own computers collaboratively using two controlled Linkbots controlled by two controller Linkbots to accomplish a common task, For example, race to see which controlled Linkbot crosses the finish line first or crosses an obstacle course first.<br/>4. Write a program <span class="s23">copycat2.ch</span>, based on the program <span class="s23">copycat.ch </span>in Program 11.16, to copy the motion of the controller Linkbot-I to three controlled Linkbot-Is.<br/>5. Run the program <span class="s23">accelcontrol.ch </span>in Program 11.17 to move the controlled Linkbot. Open the Motion Control Panel of the BaroboLink to watch the joint angles of the controlled robot, then open the Sensors Panel to view the x, y, and z components of the accelerometer of the controlling robot.<br/>6. Write a program <span class="s23">accelcolor.ch </span>to use the accelerometer data of one Linkbot-I to set the LED color of another Linkbot-I. First, sound the buzzer of the first Linkbot at 450 Hz and set its LED to green. Then use a <span style=" color: #F00;">while </span>loop to do the following multiple times in succession: Get the X, Y, and Z components of the accelerometer data. Then calculate the R, G, and B values using these components. And then finally set the LED using these RGB values.<br/>208<br/>Chapter 11.  Writing Programs to Control Multiple Individual Linkbots<br/>11.10.  <span class="s5">‡ </span>Copy Motions of a Controller Linkbot to a Controlled Linkbot<br/>7. Write a program <span class="s23">accelcontrol2.ch </span>based on the program <span class="s23">accelcontrol.ch </span>in Program<br/>11.17. This program will drive the Linkbot forward and backward at half the speed of the original<br/>program but turn the Linkbot left or right at least twice as fast as the original program. To do this, change the power and offset as follows:</p><p class="s23">motorPower  = 100  * y;</p><p class="s23">motorOffset = 100  * x;</p><p>209<br/><span><IMG width="627" height="8" src="chlinkbot/Image_895.png"/></span><br/><span><IMG width="624" height="3" src="chlinkbot/Image_896.png"/></span></p><p class="s1">CHAPTER 12</p><p><span><IMG width="624" height="3" src="chlinkbot/Image_897.png"/></span></p><p class="s6">Writing Programs to Control One or Multiple Groups of Linkbots</p><p>In Chapter 6, we learned how to control a group of Linkbots withe identical movements.  In Chapter<br/>11, we learned how to control multiple individual Linkbots in synchronous motions.  In this chapter, we will learn how to control multiple groups of Linkbots in synchronous motions. Many of the non-blocking <span style=" color: #FF1CCE;">CLinkbot  </span>member functions from Chapter 11 have <span style=" color: #FF1CCE;">CLinkbotIGroup </span>counterparts. With these functions, choreographed synchronized motions can be achieved simply using a few lines of code.<br/><span><IMG width="624" height="53" src="chlinkbot/Image_898.png"/></span></p><p class="s21">12.1    Copy Motions from  One Linkbot  to Multiple</p><p class="s21">Linkbots  with Identical  Movements</p><p><span><IMG width="627" height="193" src="chlinkbot/Image_899.png"/></span><br/>In Section 11.10 we learned how to copy the motions of one Linkbot to another.  In this section we will extend Program 11.16 to copy the motions of one Linkbot to a group of Linkbots. The following program allows the user to control two Linkbot-Is simultaneously using a single Linkbot-I as a controller.</p><p class="s25">/* File: copycatgrouptwo.ch</p><p class="s25">One  robot controls  two  robots,   either individually  or connected.</p><p class="s25">robot1 is the controller</p><p class="s25">*/</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2, robot3;</span></p><p class="s16">CLinkbotIGroup <span style=" color: #000;">group;</span></p><p class="s25">/* angles from robot1 */</p><p class="s33">double <span style=" color: #000;">angle1, angle3;</span></p><p class="s17">group.addRobot(robot2);</p><p class="s17">group.addRobot(robot3);</p><p>Chapter 12.  Writing Programs to Control One or Multiple Groups of Linkbots<br/>12.1.  Copy Motions from One Linkbot to Multiple Linkbots with Identical Movements</p><p class="s25">/* connect to robots and  move to the zero position  at the same  time.   */</p><p class="s17">robot1.connect();</p><p class="s17">group.connect();</p><p class="s17">robot1.resetToZeroNB();</p><p class="s17">group.resetToZeroNB();</p><p class="s17">robot1.moveWait();</p><p class="s17">group.moveWait();</p><p class="s25">/* relax all joints of robot1 */</p><p class="s17">robot1.relaxJoints();</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;You   can  now move joints of robot1 to control  robot2 and 3\n&quot;</span>);</p><p class="s33">while<span style=" color: #000;">(1){</span></p><p class="s25">/* get joint angles of robot1 */</p><p class="s17">robot1.getJointAngles(angle1, <span style=" color: #FF1CCE;">NaN</span>,   angle3);</p><p class="s25">/* move    robots  in  the group by the angles  from robot1 */</p><p class="s17">group.jumpToNB(angle1, <span style=" color: #FF1CCE;">NaN</span>,   angle3);</p><p class="s25">/* group.moveToByPIDNB(angle1,   NaN,   angle3);   */</p><p class="s17">}</p><p>Program 12.1: Copying motions of a controller Linkbot to a group of two controlled Linkbots.<br/><span><IMG width="624" height="322" src="chlinkbot/Image_900.png"/></span><br/>You can run Program 12.1 to copy the motion of a Linkbot to two Linkbots in a group simultane- ously.  The <span style=" color: #FF1CCE;">CLinkbotIGroup </span>class includes non-blocking member functions that are similar to those in class <span style=" color: #FF1CCE;">CLinkbotI</span>. Examples seen in Program 12.1 include resetToZero(),  moveWait(),  and moveToBy- TrackPosNB().   The <span style=" color: #FF1CCE;">CLinkbotIGroup </span>versions of these member functions move all the Linkbot-Is in a group identically, instead of only a single Linkbot-I.<br/>In Program 12.1 <span class="s23">robot2 </span>and <span class="s23">robot3 </span>are added to <span class="s23">group</span>. This group is used to copy the motions of</p><p class="s23">robot1 <span class="p">to </span>robot2 <span class="p">and </span>robot3 <span class="p">simultaneously. The line</span></p><p><span><IMG width="624" height="15" src="chlinkbot/Image_901.png"/></span></p><p class="s17">group.resetToZeroNB();</p><p>is similar to the preceding statement robot1.resetToZeroNB(). The only difference is that multiple Linkbot- Is are reset to the zero position using only one line of code. This non-blocking function allows the next line of code to execute simultaneously. The next two lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_902.png"/></span></p><p class="s17">robot1.moveWait();</p><p class="s17">group.moveWait();</p><p>pause the program until the joints of all Linkbots are finished resetting to zero. The statement group.moveWait() is similar to the previous line of code. The only difference is that group.moveWait() pauses the program for multiple Linkbot-Is using only one line of code. Once the joints of <span class="s23">robot1 </span>are set to neutral, the loop<br/><span><IMG width="624" height="103" src="chlinkbot/Image_903.png"/></span></p><p class="s33">while<span style=" color: #000;">(1){</span></p><p class="s25">/* get joint angles of robot1 */</p><p class="s17">robot1.getJointAngles(angle1, <span style=" color: #FF1CCE;">NaN</span>,   angle3);</p><p class="s25">/* move  robots  in  the group by the angles  from robot1 */</p><p class="s17">group.moveToByTrackPosNB(angle1, <span style=" color: #FF1CCE;">NaN</span>,   angle3);</p><p class="s17">}</p><p>copies the joint motions from the controller Linkbot-I to the Linkbot-Is in <span class="s23">group</span>. This <span style=" color: #F00;">while </span>loop is similar to the <span style=" color: #F00;">while </span>loop in Program 11.16. The key difference is the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_904.png"/></span></p><p class="s17">group.moveToByTrackPosNB(angle1, <span style=" color: #FF1CCE;">NaN</span>,   angle3);</p><p>211<br/>Chapter 12.  Writing Programs to Control One or Multiple Groups of Linkbots<br/>12.2.  Control Multiple Groups of Linkbots<br/><span><IMG width="23" height="16" src="chlinkbot/Image_905.jpg"/></span><br/>which drives the joints of all the Linkbot-Is in <span class="s23">group </span>to the absolute joint angle position copied from <span class="s23">robot1</span>.  Thus <span class="s23">robot2 </span>and <span class="s23">robot3 </span>will copy <span class="s23">robot1 </span>in identical motions. Since moveToByTrack- PosNB() is non-blocking, the loop will start to repeat before <span class="s23">robot2 </span>and <span class="s23">robot3 </span>have completed their motions.<br/>Do Exercises 1 and 2 on page 212.</p><p class="s3">12.1.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_906.png"/></span><br/>1. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotIGroup </span>member function</p><p class="s23">group.resetToZeroNB();</p><p>to reset joints 1 and 3 of all Linkbot-Is in a group to the zero position. The next line of code will begin executing before the function resetToZeroNB() has finished.<br/>2. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotIGroup </span>member function</p><p class="s23">group.moveWait();</p><p>to pause the program until all Linkbot-Is in the group have finished their motions.<br/>3. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotIGroup </span>member function</p><p class="s23">group.moveToByTrackPosNB(angle1,  NaN, angle3);</p><p>to rotate the joint positions of all Linkbot-Is in a group to their absolute joint angle positions by tracking their positions. The next line of code will begin executing before the function moveToBy- TrackPosNB()  has finished.</p><p class="s3">12.1.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_907.png"/></span><br/>group.resetToZeroNB(), group.moveWait(), group.moveToByTrackPosNB().</p><p class="s3">12.1.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_908.png"/></span><br/>1. Run the program <span class="s23">copycatgrouptwo.ch </span>in Program 12.1 to copy the motion of a controller<br/>Linkbot to two controlled Linkbots.<br/>2. Write a program <span class="s23">copycatgroupthree.ch</span>, based on the program <span class="s23">copycatgrouptwo.ch </span>in<br/>Program 12.1, to copy the motion of the controller Linkbot to three controlled Linkbots.</p><p class="s21">12.2    Control  Multiple Groups  of Linkbots</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_909.png"/></span><br/>It is also possible for a single Linkbot-I to belong to multiple groups.  Any command given to a group where a Linkbot is a part of that group will result in that Linkbot moving. Using multiple groups can help synchronize Linkbots in more complex patterns of movements.<br/>212<br/>Chapter 12.  Writing Programs to Control One or Multiple Groups of Linkbots<br/>12.2.  Control Multiple Groups of Linkbots<br/><span><IMG width="285" height="190" src="chlinkbot/Image_910.jpg"/></span><br/>Figure 12.1: Controlling multiple Linkbot groups.<br/>213<br/><span><IMG width="624" height="848" src="chlinkbot/Image_911.png"/></span><br/>Chapter 12.  Writing Programs to Control One or Multiple Groups of Linkbots<br/>12.2.  Control Multiple Groups of Linkbots</p><p class="s25">/* File: groups.ch</p><p class="s25">Control  multiple  robot groups simultaneously  using the CLinkbotGroup class */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2, robot3, robot4;</span></p><p class="s16">CLinkbotIGroup  <span style=" color: #000;">groupA, groupB,  groupC, groupD;</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;         </span><span style=" color: #009800;">//  radius of 1.75 inches</span></p><p class="s33">double <span style=" color: #000;">trackwidth  =  3.69;   </span><span style=" color: #009800;">// the track width,   the distance  between two wheels</span></p><p class="s25">/* connect to the robots listed in the configuration  file.   */</p><p class="s17">robot1.connect();</p><p class="s17">robot2.connect();</p><p class="s17">robot3.connect();</p><p class="s17">robot4.connect();</p><p class="s25">/* add the robots  to  groups.   The groups are organized as   such: Group A:  1,  2,  3,  4</p><p class="s25">Group B: 1,  2</p><p class="s25">Group C:  3,  4</p><p class="s25">Group D:  1,  2,  3 */</p><p class="s25">/* Group  A */</p><p class="s17">groupA.addRobot(robot1);</p><p class="s17">groupA.addRobot(robot2);</p><p class="s17">groupA.addRobot(robot3);</p><p class="s17">groupA.addRobot(robot4);</p><p class="s25">/* Group  B */</p><p class="s17">groupB.addRobot(robot1);</p><p class="s17">groupB.addRobot(robot2);</p><p class="s25">/* Group  C */</p><p class="s17">groupC.addRobot(robot3);</p><p class="s17">groupC.addRobot(robot4);</p><p class="s25">/* Group D   */</p><p class="s17">groupD.addRobot(robot1);</p><p class="s17">groupD.addRobot(robot2);</p><p class="s17">groupD.addRobot(robot3);</p><p class="s17">groupA.resetToZero();</p><p class="s25">/* make group  B  roll forward  and group C roll backward at  the same time */</p><p class="s17">groupB.driveForwardNB(360);</p><p class="s17">groupC.driveBackwardNB(360);</p><p class="s17">groupB.moveWait();</p><p class="s17">groupC.moveWait();</p><p class="s25">/* make  all robots roll forward */</p><p class="s17">groupA.driveForward(360);</p><p class="s25">/* make robots  1 and 2 (Group B)  turn  left,   and robots  3 and 4 (Group C)  turn  right.   */</p><p class="s17">groupB.turnLeftNB(90, radius, trackwidth);</p><p class="s17">groupC.turnRightNB(90, radius, trackwidth);</p><p class="s17">groupB.moveWait();</p><p class="s17">groupC.moveWait();</p><p class="s25">/* make robot  4 roll forward</p><p class="s25">while three robots in  group D   drive backward.   */</p><p class="s17">groupD.driveBackwardNB(360);</p><p class="s17">robot4.driveForwardNB(360);</p><p class="s17">groupD.moveWait();</p><p class="s17">robot4.moveWait();</p><p>Program 12.2: A program with multiple groups.<br/>214<br/>Chapter 12.  Writing Programs to Control One or Multiple Groups of Linkbots<br/>12.2.  Control Multiple Groups of Linkbots<br/>Program 12.2 coordinates four Linkbot-Is using four different groups to perform independent, syn- chronous motions.   All four Linkbot-Is are added to <span class="s23">groupA </span>using addRobot().    Then <span class="s23">robot1 </span>and <span class="s23">robot2 </span>are added to <span class="s23">groupB</span>. Similarly, <span class="s23">robot3 </span>and <span class="s23">robot4 </span>are added to <span class="s23">groupC</span>. Finally <span class="s23">robot1</span>, <span class="s23">robot2</span>, and <span class="s23">robot3 </span>are added to <span class="s23">groupD</span>. Then the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_912.png"/></span></p><p class="s17">groupA.resetToZero();</p><p>resets all Linkbot-Is to the zero position. Since all four Linkbot-Is are in <span class="s23">groupA</span>, there is no need to call<br/>resetToZero() on any of the other groups. The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_913.png"/></span></p><p class="s17">groupB.driveForwardNB(360);</p><p>drives <span class="s23">robot1 </span>and <span class="s23">robot2 </span>forward 360 by degrees at the same time using the <span style=" color: #FF1CCE;">CLinkbotIGroup </span>member function driveForwardNB(). The general syntax of this function is</p><p class="s23">group.driveForwardNB(angle);</p><p>where the argument <span class="s23">angle </span>specifies the amount to roll the wheels forward relative to their current positions. Since this function is non-blocking, the next line of code starts executing immediately. The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_914.png"/></span></p><p class="s17">groupC.driveBackwardNB(360);</p><p>drives <span class="s23">robot3 </span>and <span class="s23">robot4 </span>backward 360 by degrees at the same time that <span class="s23">robot1 </span>and <span class="s23">robot2 </span>roll forward. The <span style=" color: #FF1CCE;">CLinkbotIGroup </span>member function driveBackwardNB() has the following syntax</p><p class="s23">group.driveBackwardNB(angle);</p><p>where <span class="s23">angle </span>specifies the amount to roll the wheels relative to their current positions. Since both<br/>driveForwardNB() and driveBackwardNB() are non-blocking, the next two lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_915.png"/></span></p><p class="s17">groupB.moveWait();</p><p class="s17">groupC.moveWait();</p><p>are required to pause the program until <span class="s23">groupB </span>and <span class="s23">groupC </span>are done with their movements. Then the following line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_916.png"/></span></p><p class="s17">groupA.driveForward(360);</p><p>drives all four Linkbot-Is forward by 360 degrees. The blocking version of the function is used in this case, since all four Linkbots have the same motion. The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_917.png"/></span></p><p class="s17">groupB.turnLeftNB(90, radius, trackwidth);</p><p>causes <span class="s23">robot1 </span>and <span class="s23">robot2 </span>to turn left by 90 degrees at the same time. The <span style=" color: #FF1CCE;">CLinkbotIGroup </span>member function turnLeftNB() has the following general syntax</p><p class="s23">group.turnLeftNB(angle, radius, trackwidth);</p><p>The argument <span class="s23">angle </span>specifies the amount to turn left. The argument <span class="s23">radius </span>specifies the radius of the two wheels. The argument <span class="s23">trackwidth </span>specifies the distance between the two wheels. The units must be the same for <span class="s23">radius </span>and <span class="s23">trackwidth</span>. Since turnLeftNB() is non-blocking, the next line of code<br/><span><IMG width="624" height="15" src="chlinkbot/Image_918.png"/></span></p><p class="s17">groupC.turnRightNB(90, radius, trackwidth);</p><p>will execute synchronously. Thus <span class="s23">robot3 </span>and <span class="s23">robot4 </span>will turn right by 90 degrees at the same time that</p><p class="s23">robot1 <span class="p">and </span>robot2 <span class="p">are turning left. The general syntax of the member function turnRightNB() is</span></p><p class="s23">group.turnRightNB(angle, radius, trackwidth);</p><p>215<br/>Chapter 12.  Writing Programs to Control One or Multiple Groups of Linkbots<br/>12.2.  Control Multiple Groups of Linkbots<br/>The argument <span class="s23">angle </span>specifies the amount to turn right. The argument <span class="s23">radius </span>specifies the radius of the two wheels. The argument <span class="s23">trackwidth </span>specifies the distance between the two wheels. Since turnRightNB() is a non-blocking function, then moveWait() needs to be called on <span class="s23">groupB </span>and <span class="s23">groupC </span>to pause the program. Once both groups have finished their motions, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_919.png"/></span></p><p class="s17">groupD.driveBackwardNB(360);</p><p>drives <span class="s23">robot1</span>, <span class="s23">robot2</span>, and <span class="s23">robot3 </span>backward by 360 degrees at the same time. The following line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_920.png"/></span></p><p class="s17">robot4.driveForwardNB(360);</p><p>drives <span class="s23">robot4 </span>forward by 360 degrees at the same time the Linkbot-Is in <span class="s23">groupD </span>are moving forward. Note that the member function driveForwardNB() is being used on a single Linkbot-I instead of a group. The member functions driveBackwardNB(), turnLeftNB(), and turnRightNB() also have counterparts in the <span style=" color: #FF1CCE;">CLinkbotI </span>class. Finally, the lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_921.png"/></span></p><p class="s17">groupD.moveWait();</p><p class="s17">robot4.moveWait();</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_922.jpg"/></span><br/>pause the program until <span class="s23">groupD </span>and <span class="s23">robot4 </span>finish their motions.<br/>Do Exercises 1 2 on page 217.</p><p class="s3">12.2.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_923.png"/></span><br/>1. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.driveForwardNB(angle);</p><p>to drive a single Linkbot-I forward by the specified angle relative to its current position. The next line of code begins execution before this motion has finished.<br/>2. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotIGroup </span>member function</p><p class="s23">group.driveForwardNB(angle);</p><p>to drive all Linkbot-Is in a group forward by the specified angle relative to its current position. The next line of code begins execution before this motion has finished.<br/>3. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.driveBackwardNB(angle);</p><p>to drive a single Linkbot-I backward by the specified angle relative to its current position. The next line of code begins execution before this motion has finished.<br/>4. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotIGroup </span>member function</p><p class="s23">group.driveBackwardNB(angle);</p><p>to drive all Linkbot-Is in a group backward by the specified angle relative to its current position. The next line of code begins execution before this motion has finished.<br/>5. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member function<br/>216<br/>Chapter 12.  Writing Programs to Control One or Multiple Groups of Linkbots<br/>12.2.  Control Multiple Groups of Linkbots</p><p class="s23">robot.turnLeftNB(angle, radius, trackwidth);</p><p>to turn a single Linkbot-I left by the specified angle. The next line of code begins execution before this motion has finished.<br/>6. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotIGroup </span>member function</p><p class="s23">group.turnLeftNB(angle, radius, trackwidth);</p><p>to turn all Linkbot-Is in a group left by the specified angle. The next line of code begins execution before this motion has finished.<br/>7. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.turnRightNB(angle, radius, trackwidth);</p><p>to turn a single Linkbot-I right by the specified angle. The next line of code begins execution before this motion has finished.<br/>8. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotIGroup </span>member function</p><p class="s23">group.turnRightNB(angle, radius, trackwidth);</p><p>to turn turn all Linkbot-Is in a group right by the specified angle.  The next line of code begins execution before this motion has finished.</p><p class="s3">12.2.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_924.png"/></span><br/>robot.driveForwardNB(), robot.driveBackwardNB(), robot.turnLeftNB(), robot.turnRightNB(), group.driveForwardNB(), group.driveBackwardNB(), group.turnLeftNB(), group.turnRightNB(), multiple groups.</p><p class="s3">12.2.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_925.png"/></span><br/>1. Run the program <span class="s23">groups.ch </span>in Program 12.2 to control multiple Linkbot groups.<br/>2. Based on the program <span class="s23">groups.ch </span>in Program 12.2, write a program <span class="s23">groups2.ch </span>to control four Linkbots. The program <span class="s23">groups2.ch </span>has four Linkbot groups of A, B, C, and D, similar to groups in Program 12.2.  These groups will complete the following motions in order: First, Group A rolls forward for two full rotations of 720 degrees, then Group B turns left for 90 degrees, afterwards Group C turns right for 180 degrees, next Group D rolls forward for 360 degrees, and finally Linkbot 4 rolls backward for 360 degrees.<br/>217<br/><span><IMG width="627" height="8" src="chlinkbot/Image_926.png"/></span><br/><span><IMG width="624" height="3" src="chlinkbot/Image_927.png"/></span></p><p class="s1">CHAPTER 13</p><p><span><IMG width="624" height="3" src="chlinkbot/Image_928.png"/></span></p><p class="s6">Controlling Multiple Connected</p><p class="s6">Linkbots</p><p>In Chapters 11 and 12, we learned how to control multiple individual Linkbots and multiple groups of Linkbots in synchronous motions, respectively.  In this chapter, we will learn how to control connected Linkbots as well as groups of connected Linkbots in synchronous motions.</p><p class="s21">13.1    Control  Multiple Connected  Linkbots</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_929.png"/></span><br/>In this section, we will learn how to write various programs for controlling multiple connected Linkbot-Is. Program 13.1 controls two Linkbot-Is connected in the four-wheel drive configuration shown in Figure 13.1. To assemble this configuration, connect two simple connectors to opposite sides of a cubic connector. Then attach joint 2, which is the non-moving joint, of the two Linkbot-Is to the simple connectors on the cubic connector. Be sure to attach wheels to joints 1 and 3 of both Linkbot-Is.<br/><span><IMG width="241" height="161" src="chlinkbot/Image_930.jpg"/></span><br/>Figure 13.1: A four-wheel drive configured with two Linkbot-Is.<br/>13.1.  Control Multiple Connected Linkbots<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/><span><IMG width="624" height="483" src="chlinkbot/Image_931.png"/></span></p><p class="s25">/* File name:   fourwheeldrive.ch</p><p class="s25">* Four wheel drive  configuration  with two  Linkbot-Is</p><p class="s25">*                  Top view</p><p class="s25">*</p><p class="s25">*                 |----|</p><p class="s25">*                 |<u>   </u> | &lt;- robot1</p><p class="s25">*                  |--|</p><p class="s25">*                  |<u> </u> | &lt;- cubic connector</p><p class="s25">*                 |----|</p><p class="s25">*                 |<u>   </u> | &lt;- robot2</p><p class="s25">*</p><p class="s25">* Note:   attach wheels for  two  Linkbot-I’s   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2;</span></p><p class="s17">robot1.connect();</p><p class="s17">robot2.connect();</p><p class="s17">robot1.resetToZero();</p><p class="s17">robot2.resetToZero();</p><p class="s25">/* drive forward */ <span style=" color: #000;">robot1.driveForwardNB(360); robot2.driveBackwardNB(360); robot1.moveWait(); robot2.moveWait();</span></p><p class="s25">/* drive backward */ <span style=" color: #000;">robot1.driveBackwardNB(360); robot2.driveForwardNB(360); robot1.moveWait(); robot2.moveWait();</span></p><p>Program 13.1: Controlling two Linkbot-Is as a four-wheel drive vehicle.<br/>Program 13.1 moves the four-wheel drive forward by 360 degrees, then backward by 360 degrees. The lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_932.png"/></span></p><p class="s17">robot1.driveForwardNB(360);</p><p class="s17">robot2.driveBackwardNB(360);</p><p>use non-blocking functions to drive <span class="s23">robot1 </span>forward by 360 degrees and <span class="s23">robot2 </span>backward by 360 degrees simultaneously. The simultaneous motions of <span class="s23">robot1 </span>and <span class="s23">robot2 </span>result in the four-wheel drive moving forward. The program pauses until both <span class="s23">robot1 </span>and <span class="s23">robot2 </span>have finished their motions. Then the lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_933.png"/></span></p><p class="s17">robot1.driveBackwardNB(360);</p><p class="s17">robot2.driveForwardNB(360);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_934.jpg"/></span><br/>use non-blocking functions to drive <span class="s23">robot1 </span>backward by 360 degrees and <span class="s23">robot2 </span>forward by 360 de- grees simultaneously. The simultaneous motions of both Linkbot-Is result in the four-wheel drive moving backward.<br/>Do Exercise 1, on page 226.<br/>Other considerations may arise when dealing with multiple-configuration designs. To accomplish certain motions, it may be necessary to perform motions in steps, with delays and pauses for motions to finish, before doing the next motion. The next program demonstrates how to address this consideration, controlling four Linkbot-Is in lifting and lowering motions as shown in Figure 13.2.<br/>219<br/>13.1.  Control Multiple Connected Linkbots<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>To assemble the configuration in Figure 13.2, connect <span class="s23">robot1 </span>and <span class="s23">robot2 </span>with a bridge connector at joint 1 of both Linkbot-Is. Then connect <span class="s23">robot1 </span>and <span class="s23">robot2 </span>with another bridge connector at joint 3 of both Linkbot-Is. <span class="s23">robot3 </span>and <span class="s23">robot4 </span>will be connected in the same way as <span class="s23">robot1 </span>and <span class="s23">robot2</span>. Then connect <span class="s23">robot2 </span>and <span class="s23">robot3 </span>with a simple connector at joint 2 of both Linkbot-Is.<br/><span><IMG width="627" height="84" src="chlinkbot/Image_935.png"/></span></p><p class="s22">(a) original position                (b) First lift                    (c) Second lift                    (d) Third lift               (e) original position</p><p>Figure 13.2: Lifting and unlifting motions with four connected modules.<br/>220<br/>13.1.  Control Multiple Connected Linkbots<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/><span><IMG width="624" height="790" src="chlinkbot/Image_936.png"/></span></p><p class="s25">/* File: lift.ch</p><p class="s25">* Lift four  connected Linkbot-Is</p><p class="s25">*                       Top View</p><p class="s25">*</p><p class="s25">*            -----        -----</p><p class="s25">*          +--+ +--+    +--+ +--+</p><p class="s25">*         | 1| | 2| | | 3| | 4|</p><p class="s25">*          +--+ +--+    +--+ +--+</p><p class="s25">*            -----        -----</p><p class="s25">*               ˆ     ˆ</p><p class="s25">*               |    |</p><p class="s25">*                         Bridge      |<u>    </u></p><p class="s25">Simple</p><p class="s25">*            Connecter      Connecter</p><p class="s25">* The joint 1’s of both robot 1 and robot 2   are  connected with the bridge  connecter</p><p class="s25">* The joint 3’s of both robot 1 and robot 2   are  connected with the bridge  connecter</p><p class="s25">*  The same configuration  for  connecting robot 3 and robot 4.</p><p class="s25">* Also,   robot  2 and robot  3 are  connected by a simple  connecter  at joint 2’s</p><p class="s25">* of both robots.</p><p class="s25">*/</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2, robot3, robot4;</span></p><p class="s25">/* connect to  the paired  robot and set joints  to zero */</p><p class="s17">robot1.connect();</p><p class="s17">robot2.connect();</p><p class="s17">robot3.connect();</p><p class="s17">robot4.connect();</p><p class="s17">robot1.resetToZeroNB();</p><p class="s17">robot2.resetToZeroNB();</p><p class="s17">robot3.resetToZeroNB();</p><p class="s17">robot4.resetToZero();</p><p class="s17"><span style=" color: #009800;">/* first lift */ </span>robot1.moveToNB(90, <span style=" color: #FF1CCE;">NaN</span>,   -90); robot4.moveTo(-90, <span style=" color: #FF1CCE;">NaN</span>,   90); robot1.delaySeconds(1);</p><p class="s17"><span style=" color: #009800;">/* second lift */ </span>robot1.moveToNB(45, <span style=" color: #FF1CCE;">NaN</span>,   -45); robot4.moveToNB(-45, <span style=" color: #FF1CCE;">NaN</span>,   45); robot2.moveToNB(-45, <span style=" color: #FF1CCE;">NaN</span>,   45); robot3.moveTo(45, <span style=" color: #FF1CCE;">NaN</span>,   -45); robot1.delaySeconds(1);</p><p class="s17"><span style=" color: #009800;">/* third lift */ </span>robot1.moveToNB(0, <span style=" color: #FF1CCE;">NaN</span>,   0); robot4.moveToNB(0, <span style=" color: #FF1CCE;">NaN</span>,   0); robot2.moveToNB(-90, <span style=" color: #FF1CCE;">NaN</span>,   90); robot3.moveTo(90, <span style=" color: #FF1CCE;">NaN</span>,   -90); robot1.delaySeconds(1);</p><p class="s17"><span style=" color: #009800;">/* unlift */ </span>robot2.moveToNB(0, <span style=" color: #FF1CCE;">NaN</span>,   0); robot3.moveTo(0, <span style=" color: #FF1CCE;">NaN</span>,   0);</p><p>Program 13.2: Lifting for four connected Linkbot-Is.<br/>Program 13.2 controls four connected Linkbot-Is in lifting and unlifting motions. The lines<br/>221<br/>13.1.  Control Multiple Connected Linkbots<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/><span><IMG width="624" height="59" src="chlinkbot/Image_937.png"/></span></p><p class="s17">robot1.resetToZeroNB(); robot2.resetToZeroNB(); robot3.resetToZeroNB(); robot4.resetToZero();</p><p>resets joints 1 and 3 of all four Linkbot-Is simultaneously. Notice that the blocking version of the member function resetToZero() is used to reset <span class="s23">robot4</span>.  This eliminates the need to call moveWait() on the four Linkbot-Is, since the next line of code will not begin executing until <span class="s23">robot4 </span>has finished resetting to the zero position. Using a blocking version of a motion function for the last robot in a configuration can sometimes help reduce the size of the program. The next lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_938.png"/></span></p><p class="s17">robot1.moveToNB(90, <span style=" color: #FF1CCE;">NaN</span>,   -90);</p><p class="s17">robot4.moveTo(-90, <span style=" color: #FF1CCE;">NaN</span>,   90);</p><p>perform the first stage of the lift. The feet of this configuration, <span class="s23">robot1 </span>and <span class="s23">robot4</span>, rotate simultaneously to absolute joint angle positions of 90 degrees and <span class="s5">−90 </span>degrees respectively.  This puts the feet of the configuration in the correct position for the second stage of the lift.  Since the blocking version of the member function moveTo() is used on <span class="s23">robot4</span>, there is no need to use moveWait() to pause the program. However, the next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_939.png"/></span></p><p class="s17">robot1.delaySeconds(1);</p><p>inserts a one-second pause after the first stage of the lift to help differentiate between the lift stages. Pausing between stages gives more stability to the motions of this particular configuration. The following lines<br/><span><IMG width="624" height="73" src="chlinkbot/Image_940.png"/></span></p><p class="s17">robot1.moveToNB(45, <span style=" color: #FF1CCE;">NaN</span>,   -45); robot4.moveToNB(-45, <span style=" color: #FF1CCE;">NaN</span>,   45); robot2.moveToNB(-45, <span style=" color: #FF1CCE;">NaN</span>,   45); robot3.moveTo(45, <span style=" color: #FF1CCE;">NaN</span>,   -45); robot1.delaySeconds(1);</p><p>perform the second stage of the lift. The feet of the configuration, <span class="s23">robot1 </span>and <span class="s23">robot4</span>, rotate simulta- neously to absolute joint angle positions of 45 degrees and <span class="s5">−45 </span>degrees respectively.  At the same time, <span class="s23">robot2 </span>and <span class="s23">robot3 </span>also rotate to absolute joint angle positions of <span class="s5">−45 </span>degrees and 45 degrees respec- tively. The simultaneous motions of the four Linkbot-Is help lift <span class="s23">robot2 </span>and <span class="s23">robot3 </span>up off the ground. The program is then delayed for another second, to help stabilize the connected Linkbot-Is in this position. The next lines<br/><span><IMG width="624" height="73" src="chlinkbot/Image_941.png"/></span></p><p class="s17">robot1.moveToNB(0, <span style=" color: #FF1CCE;">NaN</span>,   0); robot4.moveToNB(0, <span style=" color: #FF1CCE;">NaN</span>,   0); robot2.moveToNB(-90, <span style=" color: #FF1CCE;">NaN</span>,   90); robot3.moveTo(90, <span style=" color: #FF1CCE;">NaN</span>,   -90); robot1.delaySconds(1);</p><p>perform the third stage of the lift. The feet of the configuration, <span class="s23">robot1 </span>and <span class="s23">robot4</span>, rotate simultane- ously to absolute joint angle positions of 0 degree. Meanwhile <span class="s23">robot2 </span>and <span class="s23">robot3 </span>also rotate to absolute joint angle positions of <span class="s5">−90 </span>degrees and 90 degrees respectively. After the simultaneous motions of the four Linkbot-Is have completed, the configuration will be standing with its legs completely upright, feet touching each other. Another one second delay helps stabilize the configuration in this position. Then the final lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_942.png"/></span></p><p class="s17">robot2.moveToNB(0, <span style=" color: #FF1CCE;">NaN</span>,   0);</p><p class="s17">robot3.moveTo(0, <span style=" color: #FF1CCE;">NaN</span>,   0);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_943.jpg"/></span><br/>lower all four Linkbot-Is back down to their original positions. Since <span class="s23">robot1 </span>and <span class="s23">robot4 </span>already have their joints in the zero position after stage three of the lift, they do not need to be moved during the lowering stage. So only the joints of <span class="s23">robot2 </span>and <span class="s23">robot3 </span>need to be moved back to the zero position in order to lower the configuration back down to the floor.<br/>Do Exercise 2 on page 227.<br/>222<br/>13.1.  Control Multiple Connected Linkbots<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>Program 13.3 moves five connected Linkbot-Is in a snake configuration. To assemble the snake config- uration, attach joints 1 and 3 of <span class="s23">robot5 </span>and <span class="s23">robot4 </span>with bridge connectors. Be sure that joint 3 of both Linkbot-Is are connected with the same bridge connector. Connect <span class="s23">robot3 </span>and <span class="s23">robot2 </span>in the same way as <span class="s23">robot5 </span>and <span class="s23">robot4</span>. Attach the upper part of the claw to joint 1 of <span class="s23">robot1 </span>and the lower part to joint<br/>3. This will be the head of the snake. Connect <span class="s23">robot3 </span>and <span class="s23">robot4 </span>with a simple connector at joint 2 of both Linkbot-Is to form the body of the snake. Make sure that all four Linkbot-Is in the body of the snake are connected so that joint 3 of each Linkbot is on the same side. Connect the head of the snake to the body with a simple connector at joint 2 of <span class="s23">robot1 </span>and <span class="s23">robot2</span>.  The head of the snake should have joint 3 on the same side as all the Linkbots in the body of the snake. Finally, connect a caster to joint 2 of <span class="s23">robot5 </span>to give the snake a tail. Wrap rubber bands around the tail to give the snake the right amount of friction.<br/>223<br/>13.1.  Control Multiple Connected Linkbots<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>The video for the snake motion can be viewed in a video file SnakeMotin.mp4 available at c-stem.ucdavis.edu.<br/><span><IMG width="576" height="96" src="chlinkbot/Image_944.png"/></span></p><p class="s22">(a) Snake position 1               (b) Snake position 2               (c) Snake position 3               (d) Snake position 1</p><p>Figure 13.3: The snake motion with five Linkbot-Is.<br/><span><IMG width="575" height="165" src="chlinkbot/Image_945.jpg"/></span><br/>Figure 13.4: The configuration for a snake with five Linkbot-Is. Joint 3 for all Linkbot-Is are on the same side.<br/><span><IMG width="624" height="395" src="chlinkbot/Image_946.png"/></span></p><p class="s25">/* File: snake.ch</p><p class="s25">* This program uses  5 Linkbot-Is   for  snake motion.</p><p class="s25">* The linkbots  are connected by bridges  and simple  connectors.</p><p class="s25">* The robot1 has a claw attached  as a mouth.   The robot5 has a caster  on</p><p class="s25">* the back as a tail.   The rubber-bands  on the  tail provide  the  needed friction.</p><p class="s25">*</p><p class="s25">* Initial configuration:   Joint  3 for all Linkbot-Is   are  on the  same side</p><p class="s25">*  as  shown in  snake.jpg.</p><p class="s25">*</p><p class="s25">*                       Top View</p><p class="s25">*</p><p class="s25">*            -----        -----</p><p class="s25">*          +--+ +--+    +--+ +--+    +--+</p><p class="s25">*    _| | 5| | 4| | | 3| | 2| | | 1|   &lt;- Claw</p><p class="s25">*          +--+ +--+    +--+ +--+    +--+</p><p class="s25">*      ˆ   -----       -----</p><p class="s25">*      |     ˆ                 ˆ</p><p class="s25">* Caster    |               |</p><p class="s25">*             Bridge                    Simple</p><p class="s25">*            Connecter              Connecter</p><p class="s25">*/</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2, robot3, robot4,   robot5;</span></p><p class="s17">robot1.connect(); robot2.connect(); robot3.connect();</p><p>224<br/>13.1.  Control Multiple Connected Linkbots<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/><span><IMG width="624" height="702" src="chlinkbot/Image_947.png"/></span></p><p class="s17">robot4.connect();</p><p class="s17">robot5.connect();</p><p class="s17">robot1.resetToZeroNB(); robot2.resetToZeroNB(); robot3.resetToZeroNB(); robot4.resetToZeroNB(); robot5.resetToZeroNB(); robot1.moveWait(); robot2.moveWait(); robot3.moveWait(); robot4.moveWait(); robot5.moveWait();</p><p class="s25">/* Lift the tail up  */</p><p class="s17">robot5.moveTo(-30, <span style=" color: #FF1CCE;">NaN</span>,   30);</p><p class="s17"><span style=" color: #009800;">/* Move the  body of the snake together */ </span>robot1.moveToNB(-10, <span style=" color: #FF1CCE;">NaN</span>,   -30); robot2.moveToNB(95, <span style=" color: #FF1CCE;">NaN</span>,   -95); robot3.moveToNB(95, <span style=" color: #FF1CCE;">NaN</span>,   -95); robot4.moveToNB(-95, <span style=" color: #FF1CCE;">NaN</span>,   95); robot5.moveToNB(-110, <span style=" color: #FF1CCE;">NaN</span>,   110); robot1.moveWait();</p><p class="s17">robot2.moveWait(); robot3.moveWait(); robot4.moveWait(); robot5.moveWait();</p><p class="s17"><span style=" color: #009800;">/* Set the tail down  */ </span>robot3.moveToNB(85, <span style=" color: #FF1CCE;">NaN</span>,   -85); robot4.moveToNB(-100, <span style=" color: #FF1CCE;">NaN</span>,   100); robot5.moveToNB(-85, <span style=" color: #FF1CCE;">NaN</span>,   85); robot3.moveWait(); robot4.moveWait(); robot5.moveWait();</p><p class="s25">/* Set  the body flat to  moves it forward */ <span style=" color: #000;">robot1.resetToZeroNB(); robot2.resetToZeroNB(); robot3.resetToZeroNB(); robot4.resetToZeroNB(); robot5.resetToZeroNB();</span></p><p class="s17">robot1.moveWait(); robot2.moveWait(); robot3.moveWait(); robot4.moveWait(); robot5.moveWait();</p><p>Program 13.3: The Snake motion with five connected Linkbot-Is.<br/>Program 13.3 moves five connected Linkbot-Is in the motion of a snake. The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_948.png"/></span></p><p class="s17">robot5.moveTo(-30, <span style=" color: #FF1CCE;">NaN</span>,   30);</p><p>lift up the tail of the snake by rotating <span class="s23">robot5 </span>to an absolute joint angle position of 30 degrees. The next lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_949.png"/></span></p><p class="s25">/* Move the  body of the snake together */</p><p class="s17">robot1.moveToNB(-10, <span style=" color: #FF1CCE;">NaN</span>,   -30);</p><p>225<br/>13.1.  Control Multiple Connected Linkbots<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/><span><IMG width="624" height="59" src="chlinkbot/Image_950.png"/></span></p><p class="s17">robot2.moveToNB(95, <span style=" color: #FF1CCE;">NaN</span>,   -95); robot3.moveToNB(95, <span style=" color: #FF1CCE;">NaN</span>,   -95); robot4.moveToNB(-95, <span style=" color: #FF1CCE;">NaN</span>,   95); robot5.moveToNB(-110, <span style=" color: #FF1CCE;">NaN</span>,   110);</p><p>move all five Linkbot-Is synchronously to move the body to position 2 shown in Figure 13.4. The head opens its claw by rotating joints 1 and 3 of <span class="s23">robot1 </span>by <span class="s5">−10 </span>degrees and <span class="s5">−30 </span>degrees respectively. The front half of the body moves by rotating <span class="s23">robot2 </span>and <span class="s23">robot3 </span>to an absolute joint angle position of 95 degrees. The back half of the body moves by rotating <span class="s23">robot4 </span>and <span class="s23">robot5 </span>to absolute joint angle positions of <span class="s5">−95 </span>and</p><p class="s5">−110 <span class="p">respectively. Then moveWait() is called on all Linkbots to pause the program until all parts of the</span></p><p>snake have finished their motions. The next lines<br/><span><IMG width="624" height="44" src="chlinkbot/Image_951.png"/></span></p><p class="s17">robot3.moveToNB(85, <span style=" color: #FF1CCE;">NaN</span>,   -85); robot4.moveToNB(-100, <span style=" color: #FF1CCE;">NaN</span>,   100); robot5.moveToNB(-85, <span style=" color: #FF1CCE;">NaN</span>,   85);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_952.jpg"/></span><br/>set the tail back down by synchronously rotating the joints of <span class="s23">robot3</span>, <span class="s23">robot4</span>, and <span class="s23">robot5 </span>to absolute joint angle positions of 85 degrees, <span class="s5">−100 </span>degrees, and <span class="s5">−85 </span>degrees respectively.  The snake is now in position 3, shown in Figure 13.4.  The joint rotations are small, but they help position the snake for the final movement back to position 1. The function moveWait() is called on all Linkbots to pause the program until all parts of the snake have finished their motions for this position. Finally, all five Linkbots are reset to zero simultaneously. This results in the snake moving its body forward into a flat position. The function moveWait() is called on all Linkbot-Is one final time, to pause the program until the final motion is finished.<br/>Do Exercises 3 and 4 on page 227.</p><p class="s3">13.1.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_953.png"/></span><br/>1. Perform motions in steps, using either the member function delaySeconds() or the member function<br/>moveWait() to pause the program between each step.<br/>2. Use the blocking version of a <span style=" color: #FF1CCE;">CLinkbotI </span>member function for the last Linkbot-I in a configuration, for each step in a series of motions.  This can reduce the program size when controlling multiple connected Linkbots.</p><p class="s3">13.1.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_954.png"/></span><br/>connected Linkbots-Is, movement in steps, delay between steps.</p><p class="s3">13.1.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_955.png"/></span><br/>1. Run the program <span class="s23">fourwheeldrive.ch </span>in Program 13.1 with two Linkbot-Is connected as shown<br/>in Figure 13.1. Modify the program <span class="s23">fourwheeldrive.ch </span>as the program <span class="s23">fourwheeldrive2.ch</span><br/>by adding the following statements for turning Linkbots left and right.</p><p class="s23">/* turn left at  the same time */ robot1.turnLeftNB(90, radius, trackwidth); robot2.turnLeftNB(90, radius, trackwidth); robot1.moveWait();</p><p class="s23">robot2.moveWait();</p><p class="s23">/* turn right for robot1, then robot2. */</p><p class="s23">robot1.turnRight(90, radius,  trackwidth);</p><p>226<br/>13.2.  Program Linkbots with Pose Teaching<br/>Chapter 13.  Controlling Multiple Connected Linkbots</p><p class="s23">robot2.turnRight(90, radius,  trackwidth);</p><p>2. Modify the program <span class="s23">lift.ch </span>in Program 13.2 as a program <span class="s23">lift2.ch </span>by changing 45 to 60 and</p><p class="s5">−45 <span class="p">to </span>−60<span class="p">. Run this new lifting program.</span></p><p>3. Modify the program <span class="s23">snake.ch </span>in Program 13.3 as the program <span class="s23">snake2.ch </span>to move the snake forward continuously using a <span style=" color: #F00;">while </span>loop.<br/>4. Write a program <span class="s23">snake3.ch </span>with five Linkbot-Is for the snake motion shown in Figure 13.3.  The program shall begin with the following comments on how the snake robot is configured.<br/><span><IMG width="588" height="249" src="chlinkbot/Image_956.png"/></span></p><p class="s25">/* File: snake3.ch</p><p class="s25">* This program uses  5 Linkbot-Is   for  snake motion.</p><p class="s25">* The linkbots  are connected by bridges  and simple  connectors.</p><p class="s25">* The robot5 has a claw attached  as a mouth.   The robot1 has a caster  on</p><p class="s25">* the back as a tail.   The rubber-bands  on the  tail provides  the needed friction.</p><p class="s25">*                       Top View</p><p class="s25">*</p><p class="s25">*            -----        -----</p><p class="s25">*          +--+ +--+    +--+ +--+    +--+</p><p class="s25">*    _| | 1| | 2| | | 3| | 4| | | 5|   &lt;- Claw</p><p class="s25">*          +--+ +--+    +--+ +--+    +--+</p><p class="s25">*      ˆ   -----       -----</p><p class="s25">*      |     ˆ                 ˆ</p><p class="s25">* Caster    |               |</p><p class="s25">*             Bridge                    Simple</p><p class="s25">*            Connector              Connector</p><p class="s25">*/</p><p class="s21">13.2    Program Linkbots  with Pose Teaching</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_957.png"/></span><br/>Programming multiple Linkbots connected with different configurations may become quite complicated. This is especially true for a robot configured with many Linkbots. The programming with multiple Linkbots can be simplified with PoseTeaching, which is the process of training a robot to perform motions by phys- ically moving the robot into desired positions.  The motions can be repeated after the pose teaching.  A Linkbot program can also be generated through the pose teaching so that the motions can be repeated by running the program later. The user may also modify the Linkbot program generated by the pose teaching for other applications.<br/>To pose teach a robot or multiple robots, first connect all of the Linkbots that will be trained by pose teaching to a computer through the Connection Panel of the BaroboLink, as described in section 2.2. Then switch to the “Pose Teaching” tab to bring up the Pose Teaching Panel, as shown in Figure 13.5.  When BaroboLink displays the Pose Teaching Panel, the function of the Linkbot’s on-board buttons will change to Pose Teaching mode. In Pose Teaching mode, the Linkbot buttons have the following functions:</p><p class="s5">•  <span class="p">Button A: Record pose. This takes the position readings of all of the connected Linkbots and saves them as a single recorded pose.</span></p><p class="s5">•  <span class="p">Button B: Play the current recorded motions in order, or stop if motions are currently being played.</span></p><p class="s5">•  <span class="p">Buttons A and B together: Clear all of the recorded poses.</span></p><p>227<br/>13.2.  Program Linkbots with Pose Teaching<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/><span><IMG width="432" height="372" src="chlinkbot/Image_958.jpg"/></span><br/>Figure 13.5: The Pose Teaching Panel.<br/>Note that when the Linkbots are being used in this mode, all of the Linkbot buttons are connected together and do the same functions. In other words, if both Linkbot 1 and Linkbot 2 are connected to the computer, pressing the ’A’ button on Linkbot 1 is identical to pressing the ’A’ button on Linkbot 2; They will both result in a new recorded pose of both Linkbots being created in BaroboLink.<br/>The joints of the Linkbots can be set to either “Neutral” mode or “Hold” mode by clicking on either the “Set Joints Neutral” button or the ”Hold Joints” button, respectively. To pose teach the robot, click the “Set Joints Neutral” so that joints of Linkbots can be moved.<br/>Each time a pose is recorded, an indicator for that pose will appear inside the Pose Teaching Panel under “Recorded Poses”. As the poses are played, the pose icon changes for each pose to indicate the current pose being played. To delete a specific pose, select the indicator for that pose and then click the “Delete Selected Pose” button.<br/>Delays may be added between poses by using the “Add Delay” button.  The length of the delay (in seconds) should be entered in the text box next to the “Add Delay” button.<br/>By default, when a program finishes its execution, all joints will be set to the state of neutral.  This default behavior can be changed by clicking the “Hold” button in the entry for “Set Exit State” so that all Linkbots hold their final positions at the end of the program.  This instructs the program to end with the following statement for each Linkbot.</p><p class="s23">robot.holdJointsAtExit();</p><p>The details about holding the joints at the exit have been described in section 8.4.<br/>You can also save the recorded motions as a program by clicking on the “Save to Program” button. The generated program is a standard Linkbot program which can be executed in ChIDE.<br/>As an example, you can connect to a Linkbot from BaroboLink. Then switch to the pose teaching mode in BaroboLink. Click the “Set Joints Neutral” button to start pose teaching. Next, pose teach the Linkbot by<br/>228<br/>13.2.  Program Linkbots with Pose Teaching<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>moving the Linkbot joints and press the button ’A’ for several different poses. Then, click the “Play” button to play back the recorded motions. Finally, click “Save to Program” and save the program as a new program <span class="s23">teachrobot.ch</span>.  You can then open the program <span class="s23">teachrobot.ch </span>in ChIDE and run the program to repeat the motions again. The saved program can be modified for different applications. For example, you may modify the program to change the joint speed.<br/>As another example, we wrote the program <span class="s23">lift.ch </span>in Program 13.2 to lift four connected Linkbot-Is as shown in Figure 13.2. We can pose teaching the robot as shown in Figure 13.2 to lift the Linkbot-Is in the sequence as presented in Program 13.2. Save the recorded motion as a program by clicking on the “Save to Program” button on the Pose Teaching Panel. A sample program is shown in Program 13.4. Compare Program 13.4 with Program 13.2.  You may notice that the angles recorded in Program 13.4 may not be exactly as those in Program 13.2.  However, the motion of these two programs will be very similar.  The program generated with Pose Teaching uses the member function moveWait() to synchronize the motion of multiple modules.<br/>229<br/>13.2.  Program Linkbots with Pose Teaching<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/><span><IMG width="624" height="746" src="chlinkbot/Image_959.png"/></span></p><p class="s25">/* Program generated  by BaroboLink  */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1; </span>CLinkbotI <span style=" color: #000;">robot2; </span>CLinkbotI <span style=" color: #000;">robot3; </span>CLinkbotI <span style=" color: #000;">robot4; robot1.connect(); robot2.connect(); robot3.connect(); robot4.connect();</span></p><p class="s25">/* Pose */</p><p class="s17">robot1.moveToNB(0.38, <span style=" color: #FF1CCE;">NaN</span>,   -2.28);</p><p class="s17">robot2.moveToNB(-4.93, <span style=" color: #FF1CCE;">NaN</span>,   1.14);</p><p class="s17">robot3.moveToNB(1.52, <span style=" color: #FF1CCE;">NaN</span>,   -1.90);</p><p class="s17">robot4.moveToNB(-2.28, <span style=" color: #FF1CCE;">NaN</span>,   -0.76);</p><p class="s17">robot1.moveWait();</p><p class="s17">robot2.moveWait();</p><p class="s17">robot3.moveWait();</p><p class="s17">robot4.moveWait();</p><p class="s25">/* Pose */</p><p class="s17">robot1.moveToNB(-94.11, <span style=" color: #FF1CCE;">NaN</span>,   86.27);</p><p class="s17">robot2.moveToNB(-4.93, <span style=" color: #FF1CCE;">NaN</span>,   -1.14);</p><p class="s17">robot3.moveToNB(-0.76, <span style=" color: #FF1CCE;">NaN</span>,   0.76);</p><p class="s17">robot4.moveToNB(88.04, <span style=" color: #FF1CCE;">NaN</span>,   -85.76);</p><p class="s17">robot1.moveWait();</p><p class="s17">robot2.moveWait();</p><p class="s17">robot3.moveWait();</p><p class="s17">robot4.moveWait();</p><p class="s25">/* Pose */</p><p class="s17">robot1.moveToNB(-43.26, <span style=" color: #FF1CCE;">NaN</span>,   38.46);</p><p class="s17">robot2.moveToNB(52.37, <span style=" color: #FF1CCE;">NaN</span>,   -54.64);</p><p class="s17">robot3.moveToNB(-45.92, <span style=" color: #FF1CCE;">NaN</span>,   42.12);</p><p class="s17">robot4.moveToNB(39.84, <span style=" color: #FF1CCE;">NaN</span>,   -47.05);</p><p class="s17">robot1.moveWait();</p><p class="s17">robot2.moveWait();</p><p class="s17">robot3.moveWait();</p><p class="s17">robot4.moveWait();</p><p class="s25">/* Pose */</p><p class="s17">robot1.moveToNB(-3.79, <span style=" color: #FF1CCE;">NaN</span>,   -6.32);</p><p class="s17">robot2.moveToNB(92.59, <span style=" color: #FF1CCE;">NaN</span>,   -97.90);</p><p class="s17">robot3.moveToNB(-97.52, <span style=" color: #FF1CCE;">NaN</span>,   98.66);</p><p class="s17">robot4.moveToNB(-7.59, <span style=" color: #FF1CCE;">NaN</span>,   8.35);</p><p class="s17">robot1.moveWait();</p><p class="s17">robot2.moveWait();</p><p class="s17">robot3.moveWait();</p><p class="s17">robot4.moveWait();</p><p>Program 13.4: A program to lift four linked Linkbot-Is, generated by pose teaching.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_960.jpg"/></span><br/>Do Exercises 1, 2, and 3 on page 231.<br/>230<br/>13.2.  Program Linkbots with Pose Teaching<br/>Chapter 13.  Controlling Multiple Connected Linkbots</p><p class="s3">13.2.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_961.png"/></span><br/>1. Use Pose Teaching to make the programming of multiple Linkbots connected with different configu- rations easier.<br/>2. To access the Pose Teaching Panel, click on the “Pose Teaching” tab of the Connection panel in<br/>BaroboLink.<br/>3. Press button ‘A’ of a Linkbot to record the current poses of all Linkbots connected to BaroboLink.<br/>4. Press button ‘B’ of a Linkbot to play all recorded motions in order, or to stop the motions if currently playing.<br/>5. Press buttons ‘A’ and ‘B’ together to clear all recorded poses.<br/>6. Click the “Set Joints Neutral” button on the Pose Teaching Panel to set the joints of all Linkbots to<br/>“Neutral” mode.<br/>7. Click the “Hold Joints” button on the Pose Teaching Panel to set the joints of all Linkbots to “Hold”<br/>mode.<br/>8. To delete a pose from the Pose Teaching Panel, select the indicator for that pose and then click the<br/>“Delete Selected Pose” button.<br/>9. Click the “Add Delay” button on the Pose Teaching Panel to add delay between poses.  Enter the length of the delay in seconds in the text box next to the “Add Delay” button before clicking it.<br/>10. Select the “Hold on Exit” button on the Pose Teaching Panel to make all Linkbots hold their final positions.<br/>11. Click the “Save to Program” button on the Pose Teaching Panel to save all recorded motions as a program.</p><p class="s3">13.2.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_962.png"/></span><br/>Pose Teaching, Pose Teaching Panel, Record Pose, Play button, Stop button, Clear Recorded Poses, “Set Joints Neutral” button, “Hold Joints” button, “Delete Selected Pose” button, “Add Delay” button, “Hold on Exit” button, “Save to Program” button, pose indicator.</p><p class="s3">13.2.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_963.png"/></span><br/>1. Pose teach a Linkbot to move two joints in multiple locations. Play the recorded motion. Save the motion in a program <span class="s23">teachpose.ch </span>and run the program in ChIDE.<br/>2. Pose teach four linked Linkbot-Is as shown in Figure 13.2 on page 220 to lift itself up first, then flatten itself in its original position. Add a delay of 1.5 seconds between the first lift and second lift.  Save the motion in a program <span class="s23">teachlift2.ch </span>and run the program in ChIDE.<br/>3. Pose teach the snake motion shown in Figure 13.3 on page 224. Play the recorded motion. Save the motion in a program <span class="s23">teachsnake.ch </span>and run the program in ChIDE.<br/>231<br/>13.3. <span><IMG width="18" height="18" src="chlinkbot/Image_964.gif"/></span> Control Multiple Connected Linkbot-Ls<br/>Chapter 13.  Controlling Multiple Connected Linkbots</p><p class="s21">13.3       Control  Multiple Connected  Linkbot-Ls</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_965.png"/></span><br/>In Section 13.1 we learned how to control multiple connected Linkbot-Is. In this section we will learn how to write programs to control multiple connected Linkbot-Ls. The following program demonstrates how to control two connected Linkbot-Ls to stand up and lay back down again.  To assemble this configuration, attach a square faceplate with a SnapConnection to joint 2 of <span class="s23">robot1 </span>and <span class="s23">robot2 </span>or fasten a square faceplate using a Phillips-head screwdriver. When the connected Linkbot-Ls are eventually in the standing position, this faceplate will be the base on which they stand. Then connect joint 1 on each Linkbot-L using a bridge connector. Then place the connected Linkbot-Ls in position 1, shown in Figure 13.6.<br/><span><IMG width="624" height="83" src="chlinkbot/Image_966.png"/></span></p><p class="s22">(a) position 1                    (b) position 2                    (c) position 3                    (d) position 4                    (e) position 5</p><p>Figure 13.6: Standing and unstanding motions with two connected Linkbot-Ls and a faceplate.<br/>232<br/><span><IMG width="624" height="833" src="chlinkbot/Image_967.png"/></span><br/>13.3. <span><IMG width="18" height="18" src="chlinkbot/Image_968.gif"/></span> Control Multiple Connected Linkbot-Ls<br/>Chapter 13.  Controlling Multiple Connected Linkbots</p><p class="s25">/* File: stand.ch</p><p class="s25">Stand and unstand two linked  Linkbot-Ls.</p><p class="s25">Joint  2 of robot1 is connected to  a square faceplate,   placed  on the  ground.</p><p class="s25">Joint  1 of two robots  are  connected by a bridge  connector.</p><p class="s25">Top View in  its initial configuration</p><p class="s25">robot1 robot2</p><p class="s25">|----| |----|</p><p class="s25">2|     | |   | 2</p><p class="s25">|----| |----|</p><p class="s25">1-----1</p><p class="s25">ˆ</p><p class="s25">|</p><p class="s25">Bridge  Connector</p><p class="s25">Front View in  its standing position</p><p class="s25">+--+</p><p class="s25">Joint1 -&gt;||   |&lt;- robot2</p><p class="s25">Bridge     |+--+</p><p class="s25">connector -&gt;|+--+</p><p class="s25">Joint1 -&gt;||   |&lt;- robot1</p><p class="s25">+--+</p><p class="s25">------</p><p class="s25">ˆ</p><p class="s25">|</p><p class="s25">Joint  2 with</p><p class="s25">Square faceplate  attached</p><p class="s25">*/</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotL <span style=" color: #000;">robot1, robot2;</span></p><p class="s25">/* connect to robots and  move to the zero position  at the same  time.   */</p><p class="s17">robot1.connect();</p><p class="s17">robot2.connect();</p><p class="s17">robot1.resetToZeroNB();</p><p class="s17">robot2.resetToZero();</p><p class="s17"><span style=" color: #009800;">/* stand */ </span>robot1.moveTo(90, 0, <span style=" color: #FF1CCE;">NaN</span>); robot2.moveTo(-60, 0,  <span style=" color: #FF1CCE;">NaN</span>); robot1.moveTo(90, 45,  <span style=" color: #FF1CCE;">NaN</span>); robot1.moveTo(-5, 45, <span style=" color: #FF1CCE;">NaN</span>);</p><p class="s25">/* rotate two  face plates at the same time  */ <span style=" color: #000;">robot1.moveJointNB(JOINT2, 360); robot2.moveJoint(JOINT2, -360);</span></p><p class="s25">/* unstand */ <span style=" color: #000;">robot1.resetToZeroNB(); robot2.resetToZero();</span></p><p class="s17">robot1.moveTo(45, 0, <span style=" color: #FF1CCE;">NaN</span>);</p><p class="s17">robot1.moveTo(0, 0, <span style=" color: #FF1CCE;">NaN</span>);</p><p>Program 13.5: Controlling two Linkbot-Ls for standing and unstanding motions.<br/>233<br/>13.3. <span><IMG width="18" height="18" src="chlinkbot/Image_969.gif"/></span> Control Multiple Connected Linkbot-Ls<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>Most of the <span style=" color: #FF1CCE;">CLinkbotI </span>member functions are also available for the <span style=" color: #FF1CCE;">CLinkbotL </span>class. The main dif- ference is that the Linkbot-L uses joints 1 and 2 instead of joints 1 and 3.  Recall, however, that only the Linkbot-I can be treated as a two-wheel vehicle.  Therefore member functions such as driveForward(), driveBackward(), turnLeft(), turnRight(), as well as their non-blocking counterparts can only be used for the <span style=" color: #FF1CCE;">CLinkbotI </span>class. In Program 13.5, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_970.png"/></span></p><p class="s17">robot1.moveTo(90, 0, <span style=" color: #FF1CCE;">NaN</span>);</p><p>moves joint 1 to the absolute joint angle position of 90 degrees using the <span style=" color: #FF1CCE;">CLinkbotL </span>version of the member function moveTo(). Since we do not want joint 2 to move just yet, the second argument has a value of zero. Since joint 3 of a Linkbot-L does not move, the argument has the value <span style=" color: #FF1CCE;">NaN</span>. At this point the Linkbot-Ls will be in position 2, as shown in Figure 13.6. The following line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_971.png"/></span></p><p class="s17">robot2.moveTo(-60, 0,  <span style=" color: #FF1CCE;">NaN</span>);</p><p>moves joint 1 of <span class="s23">robot2 </span>by <span class="s5">−60 </span>degrees. We do not yet want to move joint 2 of <span class="s23">robot2 </span>either, so the second argument is given a value of zero. The Linkbot-Ls will be in position 3, as shown in Figure 13.6. The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_972.png"/></span></p><p class="s17">robot1.moveTo(90, 45,  <span style=" color: #FF1CCE;">NaN</span>);</p><p>will rotate the faceplate on joint 2 of <span class="s23">robot1 </span>by 45 degrees while keeping joint 1 in its absolute joint angle position of 90 degrees. The connected Linkbot-Ls will now be in position 4, as shown in Figure 13.6. Then the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_973.png"/></span></p><p class="s17">robot1.moveTo(-5, 45, <span style=" color: #FF1CCE;">NaN</span>);</p><p>keeps the faceplate on joint 2 of <span class="s23">robot1 </span>in its absolute joint angle position of 45 degrees. At the same time joint 1 of <span class="s23">robot1 </span>rotates to the absolute joint angle position of <span class="s5">−5 </span>degrees. This will move <span class="s23">robot1 </span>into a vertical position, holding <span class="s23">robot2 </span>up in the air. The Linkbot-Ls are now in position 5, as shown in Figure<br/>13.6. The next two lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_974.png"/></span></p><p class="s17">robot1.moveJointNB(JOINT2, 360);</p><p class="s17">robot2.moveJoint(JOINT2, -360);</p><p>rotates faceplates on joint 2 of both <span class="s23">robot1 </span>and <span class="s23">robot2 </span>simultaneously to the absolute joint angle posi- tions of 360 degrees and <span class="s5">−360 </span>degrees respectively. Since the <span style=" color: #FF1CCE;">CLinkbotL </span>version of the member functions moveJointNB() and moveJoint()  are used, the enumerated value JOINT2  is the appropriate value for the first argument in each statement. To make the connected Linkbot-Ls lay back down, joints 1 and 2 of both Linkbots are reset to the zero position.  The <span style=" color: #FF1CCE;">CLinkbotL </span>member function resetToZeroNB() is used for <span class="s23">robot1 </span>in this case to allow both Linkbot-Ls to reset simultaneously. Finally, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_975.png"/></span></p><p class="s17">robot1.moveTo(45, 0, <span style=" color: #FF1CCE;">NaN</span>);</p><p>will rotate joint 1 of <span class="s23">robot1 </span>by 45 degrees, folding the connected Linkbot-Ls forward toward the ground. And the last line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_976.png"/></span></p><p class="s17">robot1.moveTo(0, 0, <span style=" color: #FF1CCE;">NaN</span>);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_977.jpg"/></span><br/>will lay the connected Linkbots back down into position 1.<br/>Do Exercises 1 and 2 on page 246.<br/>Just as we can make two connected Linkbot-Ls stand up from a horizontal position, we can also make two connected Linkbot-Ls bow from a standing position. The configuration needed for Program 13.6 is the same one used for Program 13.5. Before running the program, however, the connected Linkbots should be placed in a standing position, with the square faceplate attached to joint 2 of <span class="s23">robot1 </span>placed on the ground. The various positions for a bowing motion can be seen in Figure 13.7.<br/>234<br/>13.3. <span><IMG width="18" height="18" src="chlinkbot/Image_978.gif"/></span> Control Multiple Connected Linkbot-Ls<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/><span><IMG width="374" height="83" src="chlinkbot/Image_979.png"/></span></p><p class="s22">(a) position 1                    (b) position 2                    (c) position 3</p><p>Figure 13.7: Bowing motion with two connected Linkbot-Ls and a faceplate.<br/><span><IMG width="624" height="526" src="chlinkbot/Image_980.png"/></span></p><p class="s25">/* File: bow.ch</p><p class="s25">Bow two  linked Linkbot-Ls.</p><p class="s25">Joint  2 of robot1 is connected to  a square faceplate,   placed  on the  ground.</p><p class="s25">Joint  1 of two robots  are  connected by a bridge  connector.</p><p class="s25">Top View in  its initial configuration</p><p class="s25">+--+</p><p class="s25">Joint1 -&gt;||   |&lt;- robot2</p><p class="s25">Bridge     |+--+</p><p class="s25">connector -&gt;|+--+</p><p class="s25">Joint1 -&gt;||   |&lt;- robot1</p><p class="s25">+--+</p><p class="s25">------</p><p class="s25">ˆ</p><p class="s25">|</p><p class="s25">Joint  2 with</p><p class="s25">Square faceplate  attached</p><p class="s25">*/</p><p class="s27">#include &lt;linkbot.h&gt; <span style=" color: #FF1CCE;">CLinkbotL </span><span style=" color: #000;">robot1, robot2;</span></p><p class="s25">/* connect to robots and  move to the zero position  at the same  time.   */</p><p class="s17">robot1.connect();</p><p class="s17">robot2.connect();</p><p class="s17">robot1.resetToZeroNB();</p><p class="s17">robot2.resetToZero();</p><p class="s25">/* bow  */</p><p class="s17">robot1.moveTo(0, 45,  <span style=" color: #FF1CCE;">NaN</span>);</p><p class="s17">robot2.moveToNB(90, 0, <span style=" color: #FF1CCE;">NaN</span>);</p><p class="s17">robot1.moveTo(-45, 45,  <span style=" color: #FF1CCE;">NaN</span>);</p><p class="s25">/* back to the original  position */ <span style=" color: #000;">robot1.resetToZeroNB(); robot2.resetToZero();</span></p><p>Program 13.6: Controlling two Linkbot-Ls for bowing motion.<br/>The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_981.png"/></span></p><p class="s17">robot1.moveTo(0, 45,  <span style=" color: #FF1CCE;">NaN</span>);</p><p>will rotate the faceplate attached to joint 2 of <span class="s23">robot1 </span>by 45 degrees. This will partially turn the standing<br/>Linkbots right, as shown in position 2 of Figure 13.7. The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_982.png"/></span></p><p class="s17">robot2.moveToNB(90, 0, <span style=" color: #FF1CCE;">NaN</span>);</p><p>235<br/>13.3. <span><IMG width="18" height="18" src="chlinkbot/Image_983.gif"/></span> Control Multiple Connected Linkbot-Ls<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>rotates joint 1 of <span class="s23">robot2 </span>by 90 degrees. This will cause <span class="s23">robot2 </span>to fold forward. Then the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_984.png"/></span></p><p class="s17">robot1.moveTo(-45, 45,  <span style=" color: #FF1CCE;">NaN</span>);</p><p>holds the position of joint 2 of <span class="s23">robot1 </span>in its absolute joint angle position of 45 degrees, while rotating joint 1 forward by 45 degrees. The connected Linkbot-Ls should now be in position 3 as shown in Figure<br/><span><IMG width="23" height="16" src="chlinkbot/Image_985.jpg"/></span><br/>13.7. The final two lines of the program simultaneously reset joints 1 and 2 of both Linkbot-Ls to the zero positions. This will cause the bowing linkbots to turn and stand back up in the original position.<br/>Do Exercise 3 on page 246.<br/>We can also make two connected Linkbot-Ls crawl like an inchworm.  The configuration needed for Program 13.7 is the same as the one used for Program 13.6. Be sure, however, to lay the connected Linkbot- Ls flat as shown in Figure 13.8 before running Program 13.7.<br/><span><IMG width="624" height="87" src="chlinkbot/Image_986.png"/></span></p><p class="s22">(a) original position            (b) Move robot 1              (c) Move robot 2              (d) Move robot 1            (e) original position</p><p>Figure 13.8: The positions for an inchworm moving left.<br/>236<br/>13.3. <span><IMG width="18" height="18" src="chlinkbot/Image_987.gif"/></span> Control Multiple Connected Linkbot-Ls<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/><span><IMG width="624" height="541" src="chlinkbot/Image_988.png"/></span></p><p class="s25">/* File: inchworm.ch</p><p class="s25">*</p><p class="s25">*         Top View</p><p class="s25">*</p><p class="s25">*   robot1 robot2</p><p class="s25">*   |----| |----|</p><p class="s25">* 2|      | |   | 2</p><p class="s25">*   |----| |----|</p><p class="s25">*      1-----1</p><p class="s25">*            ˆ</p><p class="s25">*            |</p><p class="s25">* Bridge Connector</p><p class="s25">*</p><p class="s25">* Joint  2 of each robot is connected with a square faceplate.</p><p class="s25">* Joint  1 of two robots  are  connected by a bridge  connector.</p><p class="s25">*/</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotL <span style=" color: #000;">robot1, robot2;</span></p><p class="s17">robot1.connect(); robot2.connect(); robot1.resetToZeroNB(); robot2.resetToZero();</p><p class="s25">/* inchworm  left */ <span style=" color: #000;">robot1.moveJointTo(JOINT1, -45); robot2.moveJointTo(JOINT1, 45); robot1.moveJointTo(JOINT1, 0); robot2.moveJointTo(JOINT1, 0);</span></p><p class="s25">/* inchworm  right */ <span style=" color: #000;">robot2.moveJointTo(JOINT1, 45); robot1.moveJointTo(JOINT1, -45); robot2.moveJointTo(JOINT1, 0); robot1.moveJointTo(JOINT1, 0);</span></p><p>Program 13.7: Controlling two connected Linkbot-Ls in an inchworm motion.<br/>Program 13.7 first moves the inchworm left, as in Figure 13.8. Then it moves the inchworm right, in a manner similar to the movement left. The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_989.png"/></span></p><p class="s17">robot1.moveJointTo(JOINT1, -45);</p><p>rotates joint 1 of <span class="s23">robot1 </span>by <span class="s5">−45 </span>degrees.  This begins the compression cycle of the worm movement. When this motion completes, the inchworm will be in the position shown in Figure 13.8 part (b). The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_990.png"/></span></p><p class="s17">robot2.moveJointTo(JOINT1, 45);</p><p>moves joint 1 of <span class="s23">robot2 </span>by 45 degrees. After this movement completes, the is now completely compressed as in Figure 13.8 part (c). The following lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_991.png"/></span></p><p class="s17">robot1.moveJointTo(JOINT1, 0);</p><p class="s17">robot2.moveJointTo(JOINT1, 0);</p><p>stretch the inchworm to the left back into a flat position. First, joint 1 of <span class="s23">robot1 </span>will move back to the zero position. The inchworm is now in the position shown in Figure 13.8 part (d). Then joint 1 of <span class="s23">robot2</span><br/>237<br/>13.3. <span><IMG width="18" height="18" src="chlinkbot/Image_992.gif"/></span> Control Multiple Connected Linkbot-Ls<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>will move back to the zero position. The inchworm is now flat, as shown in Figure 13.8 part (e). Next, the inchworm will inch to the right. This movement will be a mirror image of movement left shown in Figure<br/>13.8. The lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_993.png"/></span></p><p class="s17">robot2.moveJointTo(JOINT1, 45);</p><p class="s17">robot1.moveJointTo(JOINT1, -45);</p><p>compress the inchworm. This time joint 1 of <span class="s23">robot2 </span>moves first, by 45 degrees, starting the compression cycle. Then <span class="s23">robot1 </span>follows, moving its joint 1 by <span class="s5">−45 </span>degrees to complete the compression. Finally, the lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_994.png"/></span></p><p class="s17">robot2.moveJointTo(JOINT1, 0);</p><p class="s17">robot1.moveJointTo(JOINT1, 0);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_995.jpg"/></span><br/>stretch the inchworm to the right into a flat position. First joint 1 of <span class="s23">robot2 </span>moves back to the zero position, then joint 1 of <span class="s23">robot1 </span>moves back into the zero position.<br/>Do Exercise 4 on page 246.<br/>Up until this point we have learned how to control multiple connected Linkbots of only one kind. But it is also possible to control configurations that include both Linkbot-Is and Linkbot-Ls. The following program, <span class="s23">explorer.ch</span>, controls a configuration consisting of four Linkbot-Is and one Linkbot-L. To assemble the explorer configuration, connect joints 1 and 3 of <span class="s23">robot3 </span>and <span class="s23">robot4 </span>with bridge connectors. This will be the arm of the explorer. Then connect joint 2 of <span class="s23">robot3 </span>to the top of a cubic connector. The open end of the cubic connector should be on the bottom. Joint 1 of <span class="s23">robot1 </span>should be connected to the left side of the cubic connector, and <span class="s5">a 4-inch diameter wheel </span>should be connected to joint 3 of this Linkbot-I. Connect joint<br/>3 of <span class="s23">robot2 </span>to the right side of the cubic connector, and attach <span class="s5">a 4-inch diameter wheel </span>to joint 1 of this Linkbot-I. <span class="s23">robot1 </span>and <span class="s23">robot2 </span>will be the wheels of the explorer. Then connect a claw to the Linkbot-L, with the top half of the claw attached to joint 1 and the bottom half attached to joint 3 (the non-moving joint). This will be the <span class="s23">gripper </span>of the explorer. Connect the <span class="s23">gripper </span>to the arm by connecting joint 2 of the <span class="s23">gripper </span>with joint 2 of <span class="s23">robot4 </span>using a simple connector. Remember that joint 2 on the gripper is a moving joint, while joint 2 on <span class="s23">robot4 </span>is a non-moving joint. Finally, place a caster on the front of the cubic connector in order to stabilize the explorer. Place a highlighter pen standing upright on the ground in front of the explorer. The explorer will pick up this pen when the program is run.<br/>Before running Program 13.8, the explorer should be set in the initial position shown in Figure 13.9. In this starting position:<br/>1. <span class="s23">robot3 </span>has joint 1 positioned at <span class="s5">−12 </span>degrees and joint 3 positioned at 12 degrees.<br/>2. <span class="s23">robot4 </span>has joint 1 positioned at <span class="s5">−90 </span>degrees and joint 3 positioned at 90 degrees.<br/>3. All other Linkbots have their joints initially set in the zero position.<br/>Wheels with <span class="s5">4-inch diameter </span>are recommended to ensure that the explorer moves smoothly.<br/>238<br/>13.3. <span><IMG width="18" height="18" src="chlinkbot/Image_996.gif"/></span> Control Multiple Connected Linkbot-Ls<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/><span><IMG width="538" height="179" src="chlinkbot/Image_997.png"/></span></p><p class="s22">(a) Initial position                                                             (b) Final position</p><p>Figure 13.9: An explorer with four Linkbot-Is and one Linkbot-L picking up a highlighter pen.<br/><span><IMG width="624" height="599" src="chlinkbot/Image_998.png"/></span></p><p class="s25">/* File: explorer.ch</p><p class="s25">*  An explorer using four Linkbot-Is   and one Linkbot-L for  a gripper to pick up</p><p class="s25">* a highlighter  pen.</p><p class="s25">* 1) Diameters of two wheels are of 4&quot; inches.</p><p class="s25">*  2)  Numbers 1, 2  and 3  indicate joints.</p><p class="s25">* 3) 1 caster  is attached at the front  of the cubic connector.</p><p class="s25">* 4)  Before  running the program explorer.ch,   the explorer  should be set</p><p class="s25">*      in the initial position shown in  explorer.jpg,</p><p class="s25">*     In this starting position:</p><p class="s25">*          a) robot3 has joint 1 positioned  at  -12  degrees and</p><p class="s25">*             joint 3 positioned  at  12 degrees.</p><p class="s25">*          b) robot4 has joint 1 positioned  at  -90  degrees and joint 3 positioned</p><p class="s25">*              at 90 degrees.</p><p class="s25">*        c) All other  robots  have their joints initially set in the zero position.</p><p class="s25">*  5)  When mounting the  gripper,   make  sure joint  1 is  in zero position</p><p class="s25">*      if the gripper is closed</p><p class="s25">* 6) Front View in its initial configuration</p><p class="s25">*                                        |--| gripper</p><p class="s25">* gripper attached here -&gt; |<u> </u> |</p><p class="s25">*                                   --  &lt;- simple connector</p><p class="s25">*                                   3|--|1 robot4</p><p class="s25">*                                       ||<u> </u> ||</p><p class="s25">*        bridge connector -&gt; |   | &lt;- bridge connector</p><p class="s25">*                                       ||--||</p><p class="s25">*                                      3|<u>   </u> |1 robot3</p><p class="s25">*                                1|--|----|--|3</p><p class="s25">*                  robot2  -&gt; |<u> </u> || ||<u> </u> | &lt;- robot1</p><p class="s25">*                                           ˆ</p><p class="s25">*                                           |</p><p class="s25">*                                   cubic connector</p><p class="s25">*</p><p class="s25">*/</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2, robot3, robot4;</span></p><p class="s16">CLinkbotL <span style=" color: #000;">gripper;</span></p><p class="s17">robot1.connect(); robot2.connect(); robot3.connect(); robot4.connect();</p><p>239<br/><span><IMG width="624" height="862" src="chlinkbot/Image_999.png"/></span><br/>13.3. <span><IMG width="18" height="18" src="chlinkbot/Image_1000.gif"/></span> Control Multiple Connected Linkbot-Ls<br/>Chapter 13.  Controlling Multiple Connected Linkbots</p><p class="s17">gripper.connect();</p><p class="s17">robot1.holdJoint(JOINT1);</p><p class="s17">robot2.holdJoint(JOINT3);</p><p class="s17"><span style=" color: #009800;">/* Initial position */ </span>robot1.resetToZeroNB(); robot2.resetToZeroNB(); robot3.moveToNB(-12, <span style=" color: #FF1CCE;">NaN</span>,   12); robot4.moveToNB(-90, <span style=" color: #FF1CCE;">NaN</span>,   90); gripper.resetToZeroNB(); robot1.moveWait(); robot2.moveWait(); robot3.moveWait(); robot4.moveWait(); gripper.moveWait();</p><p class="s17"><span style=" color: #009800;">/* move forward  */ </span>robot1.moveNB(0, <span style=" color: #FF1CCE;">NaN</span>,   360); robot2.moveNB(-360, <span style=" color: #FF1CCE;">NaN</span>,   0); robot1.moveWait(); robot2.moveWait();</p><p class="s17"><span style=" color: #009800;">/* turn left */ </span>robot1.moveNB(0, <span style=" color: #FF1CCE;">NaN</span>,   -235); robot2.moveNB(-235, <span style=" color: #FF1CCE;">NaN</span>,   0); robot1.moveWait(); robot2.moveWait();</p><p class="s17"><span style=" color: #009800;">/* move forward  */ </span>robot1.moveNB(0, <span style=" color: #FF1CCE;">NaN</span>,   360); robot2.moveNB(-360, <span style=" color: #FF1CCE;">NaN</span>,   0); robot1.moveWait(); robot2.moveWait();</p><p class="s25">/* Open  the gripper  by 90 and joint2  to 90 */ <span style=" color: #000;">gripper.openGripper(90); gripper.moveJointTo(JOINT2, 90);</span></p><p class="s17"><span style=" color: #009800;">/* arm ready  */ </span>robot3.moveToNB(70, <span style=" color: #FF1CCE;">NaN</span>,   -70); robot4.moveToNB(-10, <span style=" color: #FF1CCE;">NaN</span>,   10); robot3.moveWait(); robot4.moveWait();</p><p class="s25">/* Close the gripper  to grab an object  */</p><p class="s17">gripper.closeGripper();</p><p class="s17"><span style=" color: #009800;">/* lift the  arm */ </span>robot3.setJointSafetyAngle(50); robot3.moveToNB(-12, <span style=" color: #FF1CCE;">NaN</span>,   12); robot4.moveToNB(-90, <span style=" color: #FF1CCE;">NaN</span>,   90); robot3.moveWait(); robot4.moveWait();</p><p class="s17"><span style=" color: #009800;">/* move backward  */ </span>robot1.moveNB(0, <span style=" color: #FF1CCE;">NaN</span>,   -360); robot2.moveNB(360, <span style=" color: #FF1CCE;">NaN</span>,   0); robot1.moveWait();</p><p>240<br/>13.3. <span><IMG width="18" height="18" src="chlinkbot/Image_1001.gif"/></span> Control Multiple Connected Linkbot-Ls<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/><span><IMG width="624" height="234" src="chlinkbot/Image_1002.png"/></span></p><p class="s17">robot2.moveWait();</p><p class="s17"><span style=" color: #009800;">/* turn right */ </span>robot1.moveNB(0, <span style=" color: #FF1CCE;">NaN</span>,   235); robot2.moveNB(235, <span style=" color: #FF1CCE;">NaN</span>,   0); robot1.moveWait(); robot2.moveWait();</p><p class="s17"><span style=" color: #009800;">/* move backward  */ </span>robot1.moveNB(0, <span style=" color: #FF1CCE;">NaN</span>,   -360); robot2.moveNB(360, <span style=" color: #FF1CCE;">NaN</span>,   0); robot1.moveWait(); robot2.moveWait();</p><p class="s17">robot3.holdJointsAtExit();     <span style=" color: #009800;">//  robot3 holds joints </span>gripper.holdJointsAtExit();   <span style=" color: #009800;">//  gripper holds the object</span></p><p>Program 13.8: Controlling an explorer with four Linkbot-Is and one Linkbot-L.<br/>You can hold a joint angle of a Linkbot by calling the function holdJoint().  The general syntax of this function is</p><p class="s23">robot.holdJoint(id);</p><p>The argument <span class="s23">id </span>specifies the joint that you wish to hold.<br/>After all Linkbots have connected, the lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_1003.png"/></span></p><p class="s17">robot1.holdJoint(JOINT1);</p><p class="s17">robot2.holdJoint(JOINT3);</p><p>hold the movement of joint 1 of <span class="s23">robot1 </span>and joint 3 of <span class="s23">robot2</span>. These are the joints attaching the wheels to the cubic connector. Since we do not want these particular joints to move, they are hold. Then the lines<br/><span><IMG width="624" height="73" src="chlinkbot/Image_1004.png"/></span></p><p class="s17">robot1.resetToZeroNB(); robot2.resetToZeroNB(); robot3.moveToNB(-12, <span style=" color: #FF1CCE;">NaN</span>,   12); robot4.moveToNB(-90, <span style=" color: #FF1CCE;">NaN</span>,   90); gripper.resetToZeroNB();</p><p>make sure that all joints of all Linkbots are set in the desired positions for the initial configuration. <span class="s23">robot1</span>, <span class="s23">robot2</span>,  and <span class="s23">gripper </span>are all reset to the zero position simultaneously.  Since we want <span class="s23">robot3 </span>and <span class="s23">robot4 </span>to start in the initial position shown in Figure 13.9, the function moveToNB() is used instead of resetToZeroNB() for these two Linkbot-Is. The function moveWait() is called on all five Linkbots to pause the program until all joints are finished setting to the initial configuration. Then the lines<br/><span><IMG width="624" height="73" src="chlinkbot/Image_1005.png"/></span></p><p class="s17"><span style=" color: #009800;">/* move forward  */ </span>robot1.moveNB(0, <span style=" color: #FF1CCE;">NaN</span>,   360); robot2.moveNB(-360, <span style=" color: #FF1CCE;">NaN</span>,   0); robot1.moveWait(); robot2.moveWait();</p><p>simultaneously move the wheels of the explorer forward by 360 degrees. Since the inner joints don’t move, the arguments for these joints are assigned an angle value of zero.  The function moveWait() is used on <span class="s23">robot1 </span>and <span class="s23">robot2 </span>to pause the program until the explorer has finished moving forward. Then the next statements<br/><span><IMG width="624" height="73" src="chlinkbot/Image_1006.png"/></span></p><p class="s17"><span style=" color: #009800;">/* turn left */ </span>robot1.moveNB(0, <span style=" color: #FF1CCE;">NaN</span>,   -235); robot2.moveNB(-235, <span style=" color: #FF1CCE;">NaN</span>,   0); robot1.moveWait(); robot2.moveWait();</p><p>241<br/>13.3. <span><IMG width="18" height="18" src="chlinkbot/Image_1007.gif"/></span> Control Multiple Connected Linkbot-Ls<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>cause the explorer to make a 90-degree left turn. Then, the explorer moves forward again.<br/>The statements<br/><span><IMG width="624" height="44" src="chlinkbot/Image_1008.png"/></span></p><p class="s25">/* Open  the gripper  by 90 and joint2  to 90 */ <span style=" color: #000;">gripper.openGripper(90); gripper.moveJointTo(JOINT2, 90);</span></p><p>open joint 1 mounted with a gripper by 90 degrees and joint 2 to 90 degrees. The syntax of the member function openGripper() is as follows.</p><p class="s23">robot.openGripper(angle);</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">The function opens joint 1 mounted with a gripper by an angle in degrees specified in its argument.</p></td><td><p class="s7">When</p></td></tr><tr><td><p class="s7">mounting the gripper using a Linkbot-L,</p></td><td><p class="s7">make</p></td><td><p class="s7">sure joint</p></td><td><p class="s7">1 is in zero position if</p></td><td><p class="s7">the gripper is closed. When</p></td></tr><tr><td><p class="s7">using a Linkbot-I as the gripper, joints 1</p></td><td><p class="s7">and 3</p></td><td><p class="s7">should be</p></td><td><p class="s7">in zero positions if the</p></td><td><p class="s7">gripper is closed.</p></td><td/></tr></table><p><span><IMG width="628" height="77" src="chlinkbot/Image_1009.png"/></span><br/>The statements</p><p class="s17"><span style=" color: #009800;">/* arm ready  */ </span>robot3.moveToNB(70, <span style=" color: #FF1CCE;">NaN</span>,   -70); robot4.moveToNB(-10, <span style=" color: #FF1CCE;">NaN</span>,   10); robot3.moveWait(); robot4.moveWait();</p><p>prepare the arm of the explorer to grab the highlighter pen. The joints of <span class="s23">robot4 </span>rotate 10 degrees back- ward, while the joints of <span class="s23">robot3 </span>rotate 70 degrees forward.  The overall effect will be the arm bending forward toward the highlighter pen, while the <span class="s23">gripper </span>turns sideways and opens its claw around the pen. The member function moveWait() is called on <span class="s23">gripper</span>, <span class="s23">robot3</span>, and <span class="s23">robot4 </span>to pause the program until all Linkbots have finished the current motion.<br/><span><IMG width="628" height="33" src="chlinkbot/Image_1010.png"/></span><br/>The statement</p><p class="s25">/* Close the gripper  to grab an object  */</p><p class="s17">gripper.closeGripper();</p><p>closes the claw of the <span class="s23">gripper </span>around the highlighter pen. The syntax of the member function closeGrip- per() is as follows.</p><p class="s23">robot.closeGripper();</p><p>The function closes the gripper.<br/><span><IMG width="628" height="91" src="chlinkbot/Image_1011.png"/></span><br/>The lines</p><p class="s17"><span style=" color: #009800;">/* lift the  arm */ </span>robot3.setJointSafetyAngle(50); robot3.moveToNB(-12, <span style=" color: #FF1CCE;">NaN</span>,   12); robot4.moveToNB(-90, <span style=" color: #FF1CCE;">NaN</span>,   90); robot3.moveWait(); robot4.moveWait();</p><p>rotate joints 1 and 3 of <span class="s23">robot3 </span>and <span class="s23">robot4 </span>of the explorer arm back into the initial position. The program pauses until this motion completes.<br/>The Linkbot is equipped with a safety feature to protect itself and its surrounding environment. When a motor deviates by a certain amount from its expected value, the Linkbot will shut off all power to the motor, in case it has hit an obstacle, or for any other reason. The amount of deviation required to trigger the safety protocol is the joint safety angle which can be set using the member function setJointSafetyAngle(). The general syntax of this function is</p><p class="s23">robot.setJointSafetyAngle(angle);</p><p>242<br/>13.3. <span><IMG width="18" height="18" src="chlinkbot/Image_1012.gif"/></span> Control Multiple Connected Linkbot-Ls<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>The argument <span class="s23">angle </span>is the safety angle.  The default safety angle is 10 degrees. Higher values indicate “less safe” behavior of the Linkbot because the Linkbot will not engage safety protocols until the joint has deviated by a greater amount. Since <span class="s23">robot3 </span>will carry a heavy weight at this cantilever position, the safety angle is set to 50 degrees.<br/>The lines<br/><span><IMG width="624" height="73" src="chlinkbot/Image_1013.png"/></span></p><p class="s17"><span style=" color: #009800;">/* move backward  */ </span>robot1.moveNB(0, <span style=" color: #FF1CCE;">NaN</span>,   -360); robot2.moveNB(360, <span style=" color: #FF1CCE;">NaN</span>,   0); robot1.moveWait(); robot2.moveWait();</p><p>move the wheels of the explorer backward by 360 degrees.<br/>The lines<br/><span><IMG width="624" height="73" src="chlinkbot/Image_1014.png"/></span></p><p class="s17"><span style=" color: #009800;">/* turn right */ </span>robot1.moveNB(0, <span style=" color: #FF1CCE;">NaN</span>,   235); robot2.moveNB(235, <span style=" color: #FF1CCE;">NaN</span>,   0); robot1.moveWait(); robot2.moveWait();</p><p>turn the wheels of the explorer right by 90 degrees. The program pauses again until <span class="s23">robot1 </span>and <span class="s23">robot2</span><br/>complete this turn.<br/>The explorer moves back again. The explorer should be in its original position, as in Figure 13.9, but now holding the highlighter pen in its claw. The program pauses one last time to allow this backward motion to finish.<br/>Finally, the statements<br/><span><IMG width="624" height="29" src="chlinkbot/Image_1015.png"/></span></p><p class="s17">robot3.holdJointsAtExit();     <span style=" color: #009800;">//  robot3 holds joints </span>gripper.holdJointsAtExit();   <span style=" color: #009800;">//  gripper holds the object</span></p><p>make sure the <span class="s23">robot3 </span>holds all joints and the <span class="s23">gripper </span>holds the object even after the program finishes its execution.<br/>Program 13.8 can also be executed in RoboSim as one of Preconfigured Linkbot Configurations in explorer.ch .<br/>Do Exercises 5, 6, 7, 8, 9, and 10 on page 248.<br/>Another way to control connected Linkbot-Ls is in the four-wheel omnidrive configuration. This con- figuration is shown in Figure 13.10. It uses four Linkbot-Ls, one for each wheel. To assemble this config- uration, connect joint 2 of each Linkbot-L to the four corners of an H-connector. Then connect a wheel to joint 1 of each Linkbot-L. If you look at the omnidrive from the top, <span class="s23">robot4 </span>will be on the back left corner, <span class="s23">robot2 </span>will be on the back right corner, <span class="s23">robot3 </span>will be on the front left corner, and <span class="s23">robot1 </span>will be on the front right corner.<br/><span><IMG width="241" height="161" src="chlinkbot/Image_1016.jpg"/></span><br/>Figure 13.10: An omnidrive with four Linkbot-Ls.<br/>243<br/><span><IMG width="624" height="833" src="chlinkbot/Image_1017.png"/></span><br/>13.3. <span><IMG width="18" height="18" src="chlinkbot/Image_1018.gif"/></span> Control Multiple Connected Linkbot-Ls<br/>Chapter 13.  Controlling Multiple Connected Linkbots</p><p class="s25">/* File: omnidrive.ch</p><p class="s25">* This program uses  4 Linkbot-Ls to make  a four-wheel  omnidrive robot</p><p class="s25">*  where each wheel can turn.</p><p class="s25">* H  connector connects joint 2 of  each Linkbot-L.</p><p class="s25">* Wheels are attached to joint 1 of  each Linkbot-L.</p><p class="s25">*</p><p class="s25">*            Top   View</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s43">*</p></td><td/></tr><tr><td><p class="s43">*</p></td><td><p class="s43">robot4</p></td><td><p class="s43">robot2</p></td></tr><tr><td><p class="s43">*</p></td><td><p class="s43">|---|</p></td><td><p class="s43">|---|</p></td></tr><tr><td><p class="s43">*     1| 2-+-----+-2 |1</p></td></tr><tr><td><p class="s43">*</p></td><td><p class="s43">|---| |</p></td><td><p class="s43">|---|</p></td></tr><tr><td><p class="s43">*</p></td><td><p class="s43">|</p></td><td/></tr></table><p class="s25">*                  | &lt;---------- connector</p><p class="s25">*       |---| |  |---|</p><p class="s25">*     1| 2-+-----+-2 |1</p><p class="s25">*       |---|     |---|</p><p class="s25">*      robot3        robot1</p><p class="s25">*</p><p class="s25">*/</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotL <span style=" color: #000;">robot1, robot2, robot3, robot4;</span></p><p class="s33">double  <span style=" color: #000;">angle  = 250;</span></p><p class="s17">robot1.connect(); robot2.connect(); robot3.connect(); robot4.connect();</p><p class="s17">robot1.resetToZeroNB(); robot2.resetToZeroNB(); robot3.resetToZeroNB(); robot4.resetToZero();</p><p class="s17"><span style=" color: #009800;">/* Move Forward  */ </span>robot1.moveNB(angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot2.moveNB(angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot3.moveNB(-angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot4.move(-angle,0,<span style=" color: #FF1CCE;">NaN</span>);</p><p class="s17"><span style=" color: #009800;">/* Move Backward  */ </span>robot1.moveNB(-angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot2.moveNB(-angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot3.moveNB(angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot4.move(angle,0,<span style=" color: #FF1CCE;">NaN</span>);</p><p class="s25">/* Sharp Turn 90 */ <span style=" color: #000;">robot1.moveJointToNB(JOINT2, 90); robot2.moveJointToNB(JOINT2, -90); robot3.moveJointToNB(JOINT2, -90); robot4.moveJointTo(JOINT2, 90);</span></p><p class="s17"><span style=" color: #009800;">/* Move Forward  */ </span>robot1.moveNB(angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot2.moveNB(-angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot3.moveNB(angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot4.move(-angle,0,<span style=" color: #FF1CCE;">NaN</span>);</p><p>Program 13.9: Controlling an omnidrive with four Linkbot-Ls.<br/>244<br/>13.3. <span><IMG width="18" height="18" src="chlinkbot/Image_1019.gif"/></span> Control Multiple Connected Linkbot-Ls<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>Running Program 13.9 will roll the four wheels simultaneously to move the omnidrive forward and backward. The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1020.png"/></span></p><p class="s33">double  <span style=" color: #000;">angle  = 250;</span></p><p>declares a variable <span class="s23">angle </span>of <span style=" color: #F00;">double </span>type and assigns it the value 250. This variable is used to control each of the four wheels in forward and backward motions of 250 degrees. Then all Linkbot-Ls connect and reset their joints to the zero position. Then the lines<br/><span><IMG width="624" height="59" src="chlinkbot/Image_1021.png"/></span></p><p class="s17">robot1.moveNB(angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot2.moveNB(angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot3.moveNB(-angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot4.move(-angle,0,<span style=" color: #FF1CCE;">NaN</span>);</p><p>simultaneously rotate <span class="s23">robot1 </span>and <span class="s23">robot2 </span>by 250 degrees and rotate <span class="s23">robot3 </span>and <span class="s23">robot4 </span>by <span class="s5">−250 </span>degrees. Since joint 1 of both <span class="s23">robot1 </span>and <span class="s23">robot2 </span>are on the left side of the omnidrive, they rotate by a positive angle value according to the right-hand rule. Since joint 1 of <span class="s23">robot3 </span>and <span class="s23">robot4 </span>are on the right side of the omnidrive, they rotate by a negative angle value according to the right-hand rule. The combined motion of all four Linkbot-Ls moves the omnidrive forward by 250 degrees. A blocking motion function is used for <span class="s23">robot4 </span>so that the program will wait until all four wheels have finished moving forward. The next statements<br/><span><IMG width="624" height="59" src="chlinkbot/Image_1022.png"/></span></p><p class="s17">robot1.moveNB(-angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot2.moveNB(-angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot3.moveNB(angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot4.move(angle,0,<span style=" color: #FF1CCE;">NaN</span>);</p><p>simultaneously move all four wheels of the omnidrive backward by 250 degrees. This time the angle values for joint 1 of <span class="s23">robot1 </span>and <span class="s23">robot2 </span>are negative, and the angle values for joint 1 of <span class="s23">robot3 </span>and <span class="s23">robot4 </span>are positive. The next lines<br/><span><IMG width="624" height="59" src="chlinkbot/Image_1023.png"/></span></p><p class="s17">robot1.moveJointToNB(JOINT2, 90); robot2.moveJointToNB(JOINT2, -90); robot3.moveJointToNB(JOINT2, -90); robot4.moveJointTo(JOINT2, 90);</p><p>simultaneously move joint 2 of <span class="s23">robot1 </span>and <span class="s23">robot4 </span>to an absolute joint angle position of 90 degrees. At the same time, joint 2 of <span class="s23">robot2 </span>and <span class="s23">robot3 </span>move to an absolute joint angle position of <span class="s5">−90 </span>degrees. The cumulative effect of these motions is to turn all four wheels of the omnidrive in a sharp left turn. The last four lines of the program<br/><span><IMG width="624" height="59" src="chlinkbot/Image_1024.png"/></span></p><p class="s17">robot1.moveNB(angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot2.moveNB(-angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot3.moveNB(angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot4.move(-angle,0,<span style=" color: #FF1CCE;">NaN</span>);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_1025.jpg"/></span><br/>move the omnidrive forward by 250 degrees. Since joint 1 of <span class="s23">robot1 </span>and <span class="s23">robot3 </span>are now on the left side of the omnidrive, they rotate by a positive angle value in order to move forward. <span class="s23">robot2 </span>and <span class="s23">robot4 </span>are now on the right side of the omnidrive, so they need to rotate by a negative angle value in order to move the omnidrive forward.<br/>Do Exercise 11 on page 249.</p><p class="s3">13.3.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1026.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.holdJoint(id);</p><p>245<br/>13.3. <span><IMG width="18" height="18" src="chlinkbot/Image_1027.gif"/></span> Control Multiple Connected Linkbot-Ls<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>to relax a joint of a Linkbot specified by its argument <span class="s23">id</span>.<br/>2. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.setJointSafetyAngle(angle);</p><p>to set the joint safety angle.<br/>3. Most of the blocking and non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member functions are also available for the</p><p class="s11">CLinkbotL <span style=" color: #000;">class.</span></p><p class="s3">13.3.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1028.png"/></span><br/>connected Linkbots-Ls.</p><p class="s3">13.3.3         Exercises</p><p><span><IMG width="624" height="25" src="chlinkbot/Image_1029.png"/></span><br/>1. Write a program <span class="s23">stand2.ch </span>to control two connected Linkbot-Ls with the standing motion. Joint<br/>2 of the 1st robot is connected with a square faceplate.  Joint 1 of two robots are connected by a<br/>bridge connector as shown in the figure. The program will move joints for two robots in the following sequences. Move joint 1 of robot1 to <span class="s5">−90 </span>degrees, joint 1 of robot2 to 90 degrees, joint 2 of robot1 to 45 degrees, then joint 1 of robot1 to 0 degree.<br/><span><IMG width="241" height="161" src="chlinkbot/Image_1030.jpg"/></span><br/>2. <span><IMG width="18" height="18" src="chlinkbot/Image_1031.gif"/></span> Pose teach two linked Linkbot-Ls from the flat position to stand up as shown Figure 13.6 on page<br/>232. Play the recorded motion. Save the motion in a program <span class="s23">teachstand.ch </span>and run the program in ChIDE.<br/>3. <span><IMG width="18" height="18" src="chlinkbot/Image_1032.gif"/></span> Pose teach two linked Linkbot-Ls to bow as shown in Figure 13.7 on page 235. Play the recorded motion. Save the motion in a program <span class="s23">teachbow.ch </span>and run the program in ChIDE. Compare the program <span class="s23">teachbow.ch </span>with the program <span class="s23">bow.ch </span>in Program 13.6.<br/>4. <span><IMG width="18" height="18" src="chlinkbot/Image_1033.gif"/></span> Write a program <span class="s23">inchworm2.ch </span>to control two Linkbot-Ls in an inchworm motion. Joint 2 of the the two robots are connected with a square faceplate. Joint 1 of the two robots are connected by a bridge connector. The program will move joint 1 of each robot in the following sequences. To move the inchworm left move joint 1 of robot1 to <span class="s5">−50 </span>degrees, joint 1 of robot2 to 40 degrees, joint 1 of robot1 to 0 degrees, and joint 1 of robot2 to 0 degrees. To move the inchworm right move joint 1 of robot2 to 40 degrees, joint 1 of robot1 to <span class="s5">−50 </span>degrees, joint 1 of robot2 to 0 degrees, and joint 2 of robot1 to 0 degrees. Joint 2 of robot1 and robot2 will not move.<br/>246<br/>13.3. <span><IMG width="18" height="18" src="chlinkbot/Image_1034.gif"/></span> Control Multiple Connected Linkbot-Ls<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>5. Run the program <span class="s23">gripper.ch </span>using a Linkbot-L to pick up a highlighter pen and hackysack as shown in Figure 13.11.  The gripper is opened by 90 degrees first, joint 2 rotates by 90  degrees, then close the gripper. Write a program <span class="s23">gripper2.ch </span>using a Linkbot-I to open the gripper by 90 degrees first, then close the gripper.<br/><span><IMG width="240" height="180" src="chlinkbot/Image_1035.jpg"/></span><br/>Figure 13.11: A Linkbot-I picks up a pen and hackysack.<br/>6. The program <span class="s23">opengripper.ch </span>illustrates how the program <span class="s23">gripper.ch </span>in Exercise 6 can be implemented similarly without using the member functions openGripper() and closeGripper().<br/><span><IMG width="588" height="410" src="chlinkbot/Image_1036.png"/></span></p><p class="s25">/* File: opengripper.ch</p><p class="s25">Grip  an object  using a Linkbot-L.</p><p class="s25">When mounting  the  gripper,   make  sure joint  1 is  in zero position</p><p class="s25">if the gripper is closed */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotL <span style=" color: #000;">gripper;</span></p><p class="s33">double <span style=" color: #000;">gripperAngleNew, gripperAngleOld;</span></p><p class="s17">gripper.connect();</p><p class="s17">gripper.resetToZero();</p><p class="s25">/* Open  the gripper by  moving joint1  to -90 and  joint2  to 90 */ <span style=" color: #000;">gripperAngleOld =  0;          </span>// initialize the variable <span style=" color: #000;">gripperAngleNew  = -90;</span></p><p class="s17">gripper.moveTo(gripperAngleNew, 90,  <span style=" color: #FF1CCE;">NaN</span>);</p><p class="s25">/* Close the gripper  to grab an object  */</p><p class="s17"><span style=" color: #F00;">while</span>(<span style=" color: #FF1CCE;">abs</span>(gripperAngleNew   - gripperAngleOld) &gt;  0.1) {</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;gripperAngleNew   =  %lf\n&quot;</span>,   gripperAngleNew);</p><p class="s17">gripperAngleOld =  gripperAngleNew; <span style=" color: #009800;">// update the old position</span></p><p class="s17">gripper.moveJointNB(JOINT1, 8); <span style=" color: #009800;">// move  8 degrees</span></p><p class="s17">gripper.delaySeconds(1);                 <span style=" color: #009800;">// closing for 1 second</span></p><p class="s17">gripper.getJointAngle(JOINT1, gripperAngleNew); <span style=" color: #009800;">// get  the  new position</span></p><p class="s17">}</p><p class="s17">gripper.moveJointNB(JOINT1, 8); <span style=" color: #009800;">// try to move  another  8 degrees</span></p><p class="s17">gripper.delaySeconds(1);        <span style=" color: #009800;">// closing for 1 second</span></p><p class="s17">gripper.holdJoint(JOINT1);         <span style=" color: #009800;">//  hold the object</span></p><p class="s17">gripper.holdJointsAtExit();        <span style=" color: #009800;">//  hold the object when the  program ends</span></p><p>Program 13.10: Opening the gripper by 90 degrees, rotating joint 2 by 90 degrees, then closing the gripper using a Linkbot-L.<br/>The statements<br/>247<br/>13.3. <span><IMG width="18" height="18" src="chlinkbot/Image_1037.gif"/></span> Control Multiple Connected Linkbot-Ls<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/><span><IMG width="588" height="29" src="chlinkbot/Image_1038.png"/></span></p><p class="s17">gripperAngleOld =  0;          <span style=" color: #009800;">// initialize the variable </span>gripperAngleNew  = -90;</p><p>initialize the variable <span class="s23">gripperAngleOld </span>with zero and <span class="s23">gripperAngleNew </span>with <span class="s5">−90</span>. The statement<br/><span><IMG width="588" height="29" src="chlinkbot/Image_1039.png"/></span></p><p class="s25">/* Open  the gripper by  moving joint1  to -90 and  joint2  to 90 */</p><p class="s17">gripper.moveTo(gripperAngleNew, 90,  <span style=" color: #FF1CCE;">NaN</span>);</p><p>rotates the gripper sideways by 90 degrees, while the claw rotates open by <span class="s5">−90 </span>degrees. Then the next lines of the program<br/><span><IMG width="588" height="146" src="chlinkbot/Image_1040.png"/></span></p><p class="s25">/* Close the gripper  to grab an object  */</p><p class="s17"><span style=" color: #F00;">while</span>(<span style=" color: #FF1CCE;">abs</span>(gripperAngleNew   - gripperAngleOld) &gt;  0.1) {</p><p class="s17">gripperAngleOld =  gripperAngleNew; <span style=" color: #009800;">// update the old position</span></p><p class="s17">gripper.moveJointNB(JOINT1, 8); <span style=" color: #009800;">// move  8 degrees</span></p><p class="s17">gripper.delaySeconds(1);                 <span style=" color: #009800;">// closing for 1 second</span></p><p class="s17">gripper.getJointAngle(JOINT1, gripperAngleNew);<span style=" color: #009800;">//   get  the  new position</span></p><p class="s17">}</p><p class="s17">gripper.moveJointNB(JOINT1, 8); <span style=" color: #009800;">// try to move  another  8 degrees</span></p><p class="s17">gripper.delaySeconds(1);                 <span style=" color: #009800;">// closing for 1 second</span></p><p class="s17">gripper.holdJoint(JOINT1);                  <span style=" color: #009800;">//  hold the object</span></p><p>closes the claw of the <span class="s23">gripper </span>around the highlighter pen. The code ueses a <span style=" color: #F00;">while </span>loop to repeatedly move the joint 1 of the gripper by 8 degrees till the absolute value for the difference between the two subsequent readings is smaller than 0.1 degree. The function <span style=" color: #F00;">abs</span>() obtains the absolute value of its argument.  The motion for joint 1 is accomplished by the member function moveJointNB()  for 1 second by the member function delaySeconds().  Then, the joint angle is obtained by the member function getJointAngle().  For a firm hold on the pen, after the <span style=" color: #F00;">while </span>loop, joint 1 for the gripper is moved again for 1 second and set to the hold state by the member function holdJoint().<br/>(a) Run the program <span class="s23">opengripper.ch </span>to open and close a gripper as shown in Figure 13.11 to grab an object.<br/><span><IMG width="556" height="59" src="chlinkbot/Image_1041.png"/></span><br/>(b) Write a similar program <span class="s23">opengripper2.ch </span>using a Linkbot-I to grab an object. The program will open the gripper by 90 degrees using the following statements.</p><p class="s25">/* Open  the gripper by  moving joint1  to -45 and  joint3  to -45 */ <span style=" color: #000;">gripperAngleOld =  0;          </span>// initialize the variable <span style=" color: #000;">gripperAngleNew  = -45;</span></p><p class="s17">gripper.moveTo(gripperAngleNew, <span style=" color: #FF1CCE;">NaN</span>,   -45);</p><p>It then closes the gripper.<br/>7. Run the program <span class="s23">explorer.ch </span>in Program 13.8 in both hardware and RoboSim (in Preconfigured<br/>Linkbot Configurations in explorer.ch).<br/>8. Modify Program 13.8 as <span class="s23">explorer2.ch </span>to pick up a hackysack as shown in Figure 13.12.  The code for getting the arm ready should be as follows.<br/><span><IMG width="588" height="73" src="chlinkbot/Image_1042.png"/></span></p><p class="s17"><span style=" color: #009800;">/* arm ready  */ </span>robot3.moveToNB(50, <span style=" color: #FF1CCE;">NaN</span>,   -50); robot4.moveToNB(-100, <span style=" color: #FF1CCE;">NaN</span>,   100); robot3.moveWait(); robot4.moveWait();</p><p>248<br/>13.3. <span><IMG width="18" height="18" src="chlinkbot/Image_1043.gif"/></span> Control Multiple Connected Linkbot-Ls<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>Run the program <span class="s23">explorer2.ch </span>in both hardware and RoboSim (in Preconfigured Linkbot Con- figurations in explorer.ch).<br/><span><IMG width="240" height="180" src="chlinkbot/Image_1044.jpg"/></span><br/>Figure 13.12: An explorer picks up a hackysack.<br/>9. An   explorer   with   a   four-wheel   drive   is   shown   in   Figure   13.13.        Write   a   program <span class="s23">fourwheelexplorer.ch</span>, similar to Program 13.8. The program shall be able to pick up a high- lighter pen and hackysack using such a four-wheel drive explorer. Run the program in both hardware and RoboSim (in Preconfigured Linkbot Configurations in fourwheelexplorer.ch).<br/><span><IMG width="538" height="159" src="chlinkbot/Image_1045.png"/></span></p><p class="s22">(a) Initial position                       (b) Picking up a pen                           (c) Picking up a hackysackwheel</p><p>Figure 13.13: An explorer with four Linkbot-Is and one Linkbot-L using a four-wheel drive.<br/>10. <span><IMG width="18" height="18" src="chlinkbot/Image_1046.gif"/></span> Pose teach an explorer with four Linkbots as shown in the figure below to move towards an object and pick it up. Play the recorded motion. Save the motion in a program <span class="s23">teachexplorer.ch </span>and run the program in ChIDE.<br/><span><IMG width="194" height="129" src="chlinkbot/Image_1047.jpg"/></span><br/>249<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>13.4. <span><IMG width="18" height="18" src="chlinkbot/Image_1048.gif"/></span> Control a Group of Connected Linkbots with Identical Movements<br/><span><IMG width="18" height="18" src="chlinkbot/Image_1049.gif"/></span><br/><span><IMG width="588" height="600" src="chlinkbot/Image_1050.png"/></span><br/>11.       Write a program <span class="s23">omnidrive2.ch </span>by appending the following code to the program <span class="s23">omnidrive.ch </span>in Program 13.9 an omnidrive with four Linkbot-Ls shown in Figure 13.10.  Run the program in ChIDE in debug mode.</p><p class="s17"><span style=" color: #009800;">/* Move Backward  */ </span>robot1.moveNB(-angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot2.moveNB(angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot3.moveNB(-angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot4.move(angle,0,<span style=" color: #FF1CCE;">NaN</span>);</p><p class="s25">/* Sharp Turn Back */ <span style=" color: #000;">robot1.moveJointToNB(JOINT2, 0); robot2.moveJointToNB(JOINT2, 0); robot3.moveJointToNB(JOINT2, 0); robot4.moveJointTo(JOINT2, 0);</span></p><p class="s25">/* Sharp Turn 45 */ <span style=" color: #000;">robot1.moveJointToNB(JOINT2, 45); robot2.moveJointToNB(JOINT2, 45); robot3.moveJointToNB(JOINT2, 45); robot4.moveJointTo(JOINT2, 45);</span></p><p class="s17"><span style=" color: #009800;">/* Move Forward  */ </span>robot1.moveNB(angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot2.moveNB(angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot3.moveNB(-angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot4.move(-angle,0,<span style=" color: #FF1CCE;">NaN</span>);</p><p class="s25">/* Sharp Turn -45 */ <span style=" color: #000;">robot1.moveJointToNB(JOINT2, -45); robot2.moveJointToNB(JOINT2, -45); robot3.moveJointToNB(JOINT2, -45); robot4.moveJointTo(JOINT2, -45);</span></p><p class="s17"><span style=" color: #009800;">/* Move Forward  */ </span>robot1.moveNB(angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot2.moveNB(angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot3.moveNB(-angle,0,<span style=" color: #FF1CCE;">NaN</span>); robot4.move(-angle,0,<span style=" color: #FF1CCE;">NaN</span>);</p><p class="s25">/* Sharp Turn Back */ <span style=" color: #000;">robot1.moveJointToNB(JOINT2, 0); robot2.moveJointToNB(JOINT2, 0); robot3.moveJointToNB(JOINT2, 0); robot4.moveJointTo(JOINT2, 0);</span></p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1051.png"/></span></p><p class="s21">13.4       Control a Group of Connected Linkbots with</p><p class="s21">Identical  Movements</p><p>In Section 13.1 and Section 13.3, we learned how to control multiple connected Linkbots. In this section we will learn how to control a group of connected Linkbots in identical movements. Four Linkbot-Is can be connected in a four-bot drive configuration, which is similar to the omnidrive configuration from Program<br/>13.9.  Groups can be used to control the left and right wheels of the four-bot drive.  Figure 13.14 shows<br/>250<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>13.4. <span><IMG width="18" height="18" src="chlinkbot/Image_1052.gif"/></span> Control a Group of Connected Linkbots with Identical Movements<br/>the four-bot drive configuration. To assemble this configuration, connect joint 2 of each Linkbot-I to each corner of an H-connector. Attach wheels to joint 1 of each Linkbot-I on the left hand side, and attach wheels to joint 3 of each Linkbot-I on the right hand side.<br/><span><IMG width="240" height="159" src="chlinkbot/Image_1053.jpg"/></span><br/>Figure 13.14: A four-bot drive with four Linkbot-Is.<br/>251<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>13.4. <span><IMG width="18" height="18" src="chlinkbot/Image_1054.gif"/></span> Control a Group of Connected Linkbots with Identical Movements<br/><span><IMG width="624" height="790" src="chlinkbot/Image_1055.png"/></span></p><p class="s25">/* File: fourbotdrive.ch</p><p class="s25">*</p><p class="s25">*           Top View</p><p class="s25">*</p><p class="s25">*         |++| |++|</p><p class="s25">*         |++| |++|</p><p class="s25">*</p><p class="s25">*         |++| |++|</p><p class="s25">*         |++| |++|</p><p class="s25">*</p><p class="s25">*/</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robotLeftFront,  robotLeftRear; </span>CLinkbotI <span style=" color: #000;">robotRightFront, robotRightRear; </span>CLinkbotIGroup <span style=" color: #000;">robotLeft,  robotRight;</span></p><p class="s17">robotLeft.addRobot(robotLeftFront); robotLeft.addRobot(robotLeftRear); robotRight.addRobot(robotRightFront); robotRight.addRobot(robotRightRear);</p><p class="s17">robotLeft.connect();</p><p class="s17">robotRight.connect();</p><p class="s17">robotLeft.resetToZeroNB(); robotRight.resetToZeroNB(); robotLeft.moveWait(); robotRight.moveWait();</p><p class="s17"><span style=" color: #009800;">/* move forward  */ </span>robotLeft.moveNB(360, <span style=" color: #FF1CCE;">NaN</span>,   0); robotRight.moveNB(0, <span style=" color: #FF1CCE;">NaN</span>,   -360); robotLeft.moveWait(); robotRight.moveWait();</p><p class="s17"><span style=" color: #009800;">/* move backward  */ </span>robotLeft.moveNB(-360, <span style=" color: #FF1CCE;">NaN</span>,   0); robotRight.moveNB(0, <span style=" color: #FF1CCE;">NaN</span>,   360); robotLeft.moveWait(); robotRight.moveWait();</p><p class="s17"><span style=" color: #009800;">/* turn right */ </span>robotLeft.moveNB(360, <span style=" color: #FF1CCE;">NaN</span>,   0); robotRight.moveNB(0, <span style=" color: #FF1CCE;">NaN</span>,   360); robotLeft.moveWait(); robotRight.moveWait();</p><p class="s17"><span style=" color: #009800;">/* turn left */ </span>robotLeft.moveNB(-360, <span style=" color: #FF1CCE;">NaN</span>,   0); robotRight.moveNB(0, <span style=" color: #FF1CCE;">NaN</span>,   -360); robotLeft.moveWait(); robotRight.moveWait();</p><p>Program 13.11: Controlling four Linkbot-Is as a four-bot drive vehicle.<br/>Program 13.11 controls the wheels on the left side of the four-bot drive using one group and the wheels<br/>252<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>13.4. <span><IMG width="18" height="18" src="chlinkbot/Image_1056.gif"/></span> Control a Group of Connected Linkbots with Identical Movements<br/>on the right side using another group. The lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_1057.png"/></span></p><p class="s16">CLinkbotI <span style=" color: #000;">robotLeftFront,  robotLeftRear; </span>CLinkbotI <span style=" color: #000;">robotRightFront, robotRightRear;</span></p><p>declares variables to control each Linkbot-I. The variables <span class="s23">robotLeftFront</span>, <span class="s23">robotLeftRear</span>, <span class="s23">robotRightFront</span>, and <span class="s23">robotRightRear </span>control the Linkbot-Is in the corresponding positions of the four-bot configuration. The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1058.png"/></span></p><p class="s16">CLinkbotIGroup <span style=" color: #000;">robotLeft,  robotRight;</span></p><p>declares two variables, <span class="s23">robotLeft </span>and <span class="s23">robotRight</span>, to control the motions of Linkbot-Is on the left and right sides of the four-bot drive, respectively. The following lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_1059.png"/></span></p><p class="s17">robotLeft.addRobot(robotLeftFront);</p><p class="s17">robotLeft.addRobot(robotLeftRear);</p><p>add the Linkbot-Is on the left side of the four-bot drive to the <span class="s23">robotLeft </span>group, one at a time. Then the lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_1060.png"/></span></p><p class="s17">robotRight.addRobot(robotRightFront);</p><p class="s17">robotRight.addRobot(robotRightRear);</p><p>add the Linkbot-Is on the right side of the four-bot drive to the <span class="s23">robotRight </span>group. The member function connect() is called on both groups in order to connect all four variables to Linkbot-Is through Barobolink. Then the non-blocking member function resetToZeroNB() is used to reset the joints of all Linkbot-Is to the zero position simultaneously. The next lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_1061.png"/></span></p><p class="s17">robotLeft.moveNB(360, <span style=" color: #FF1CCE;">NaN</span>,   0);</p><p class="s17">robotRight.moveNB(0, <span style=" color: #FF1CCE;">NaN</span>,   -360);</p><p>move the four-bot drive forward by 360 degrees.  Joint 1 of each Linkbot-I in the <span class="s23">robotLeft </span>group is rotated by 360 degrees, and joint 3 of each Linkbot-I in the <span class="s23">robotRight </span>group is rotated by <span class="s5">−360 </span>degrees.  Since the non-blocking moveNB() function is used for both groups, all four Linkbot-Is move simultaneously. Because no wheel is attached to joint 3 of each Linkbot-I in the <span class="s23">robotLeft </span>group, this joint is rotated by 0 degree.  Similarly, because no wheel is attached to joint 1 of each Linkbot-I in the <span class="s23">robotRight </span>group, this joint is also rotated by 0 degree. The resulting forward movement of the four-bot drive is equivalent to the movement of one Linkbot-I using the following function call</p><p class="s23">robot.move(360,  NaN, -360);</p><p>The function moveWait() is called on each group to pause the program until the forward movement is finished. Then the lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_1062.png"/></span></p><p class="s17">robotLeft.moveNB(-360, <span style=" color: #FF1CCE;">NaN</span>,   0);</p><p class="s17">robotRight.moveNB(0, <span style=" color: #FF1CCE;">NaN</span>,   360);</p><p>move the <span class="s23">robotLeft </span>and <span class="s23">robotRight </span>groups simultaneously, with the result that the four-bot drive backward by 360 degrees. The movement of the four-bot drive in this case is equivalent to the movement of one Linkbot-I using the function call</p><p class="s23">robot.move(-360,  NaN, 360);</p><p>Then the function moveWait() is called on each group to pause the program until the backward movement is finished. The following lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_1063.png"/></span></p><p class="s17">robotLeft.moveNB(360, <span style=" color: #FF1CCE;">NaN</span>,   0);</p><p class="s17">robotRight.moveNB(0, <span style=" color: #FF1CCE;">NaN</span>,   360);</p><p>253<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>13.4. <span><IMG width="18" height="18" src="chlinkbot/Image_1064.gif"/></span> Control a Group of Connected Linkbots with Identical Movements<br/>cause joint 1 of each Linkbot-I in the <span class="s23">robotLeft </span>group to rotate 360 degrees. This happens at the same time that joint 3 of each Linkbot-I in the <span class="s23">robotRight </span>group rotates 360 degrees. The resulting movements of the groups <span class="s23">robotLeft </span>and <span class="s23">robotRight </span>cause the four-bot drive to make a full right turn. The motion of the four-bot drive in this case is equivalent to the movement of one Linkbot-I using the function call</p><p class="s23">robot.turnRight(360, radius,  trackwidth);</p><p>where <span class="s23">radius </span>is the length of the wheel radius and <span class="s23">trackwidth </span>is the distance between the two wheels. The function moveWait() is again called on both groups to pause the program until the right turn is finished. Then the next statements<br/><span><IMG width="624" height="29" src="chlinkbot/Image_1065.png"/></span></p><p class="s17">robotLeft.moveNB(-360, <span style=" color: #FF1CCE;">NaN</span>,   0);</p><p class="s17">robotRight.moveNB(0, <span style=" color: #FF1CCE;">NaN</span>,   -360);</p><p>cause joint 1 of each Linkbot-I in the <span class="s23">robotLeft </span>group to rotate <span class="s5">−360 </span>degrees. At the same time, joint<br/>3 of each Linkbot-I in the <span class="s23">robotRight </span>group also rotates <span class="s5">−360 </span>degrees.  The resulting simultaneous<br/>movements of both groups cause the four-bot drive to make a full left turn. The motion of the four-bot drive<br/>is equivalent to the movement of one Linkbot-I using the function call</p><p class="s23">robot.turnLeft(360, radius,  trackwidth);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_1066.jpg"/></span><br/>where <span class="s23">radius </span>is the length of the wheel radius and <span class="s23">trackwidth </span>is the distance between the two wheels. Finally, the function moveWait()  is called on both groups to allow the left turn to complete before the program finishes execution.<br/>Do Exercise 1 on page 257.<br/>We can also make a group of connected Linkbot-Ls perform identical bowing motions. Figure 13.15 shows a group of connected Linkbot-Ls, assembled as described in Section 13.3. Be sure that <span class="s23">robot3 </span>and <span class="s23">robot4 </span>are assembled in the same manner as <span class="s23">robot1 </span>and <span class="s23">robot2</span>. Also be sure to place the faceplates of <span class="s23">robot1 </span>and <span class="s23">robot3 </span>on the ground before running Program 13.12.<br/><span><IMG width="285" height="190" src="chlinkbot/Image_1067.jpg"/></span><br/>Figure 13.15: <span><IMG width="18" height="18" src="chlinkbot/Image_1068.gif"/></span> Two Linkbot-Ls bow at the same time.<br/>254<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>13.4. <span><IMG width="18" height="18" src="chlinkbot/Image_1069.gif"/></span> Control a Group of Connected Linkbots with Identical Movements<br/><span><IMG width="624" height="497" src="chlinkbot/Image_1070.png"/></span></p><p class="s25">/* File: groupbow.ch</p><p class="s25">Bow a  group of  two,   each with two linked  Linkbot-Ls.</p><p class="s25">Joint  2 of robot1 is connected to  a square faceplate,   placed  on the  ground.</p><p class="s25">Joint 1 of  robot1 and robot2 are  connected by a bridge  connector.</p><p class="s25">rohot3 and robot4 are  connected in  the  same manner as  robot1 and robot2 */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotL <span style=" color: #000;">robot1, robot2, robot3, robot4;</span></p><p class="s16">CLinkbotLGroup <span style=" color: #000;">group1,  group2;</span></p><p class="s25">/* add robot1  and robot3  to  the  group1</p><p class="s25">add robot2  and robot4  to  the  group2 */</p><p class="s17">group1.addRobot(robot1);</p><p class="s17">group1.addRobot(robot3);</p><p class="s17">group2.addRobot(robot2);</p><p class="s17">group2.addRobot(robot4);</p><p class="s25">/* connect to robots and  move to the zero position  at the same  time.   */</p><p class="s17">group1.connect();</p><p class="s17">group2.connect();</p><p class="s17">group1.resetToZeroNB();</p><p class="s17">group2.resetToZero();</p><p class="s17"><span style=" color: #009800;">/* set speed ratio  to 0.25 for slow  motion */ </span>group1.setJointSpeedRatios(0.25, 0.25, <span style=" color: #FF1CCE;">NaN</span>); group2.setJointSpeedRatios(0.25, 0.25, <span style=" color: #FF1CCE;">NaN</span>);</p><p class="s25">/* bow  */</p><p class="s17">group1.moveTo(0, 45,  <span style=" color: #FF1CCE;">NaN</span>);</p><p class="s17">group2.moveToNB(90, 0, <span style=" color: #FF1CCE;">NaN</span>);</p><p class="s17">group1.moveTo(-45, 45,  <span style=" color: #FF1CCE;">NaN</span>);</p><p class="s25">/* back to the original  position */ <span style=" color: #000;">group1.resetToZeroNB(); group2.resetToZero();</span></p><p>Program 13.12: <span><IMG width="18" height="18" src="chlinkbot/Image_1071.gif"/></span> Bowing a group of Linkbot-Ls for robot dance.<br/>Program 13.12 controls groups of connected modules in bowing motions. A <span class="s20">connected module </span>refers to a single Linkbot that occupies a specific position in a configuration, such as the <span class="s23">gripper </span>of the explorer from Program 13.8. A <span class="s20">group of connected modules </span>refers to multiple corresponding Linkbots that occupy a specific position in multiple identical configurations.  An example would be a group of grippers from multiple explorers. A group of connected modules can be controlled using member functions of either the <span style=" color: #FF1CCE;">CLinkbotIGroup </span>or <span style=" color: #FF1CCE;">CLinkbotLGroup </span>classes. Like the <span style=" color: #FF1CCE;">CLinkbotIGroup </span>class, the <span style=" color: #FF1CCE;">CLinkbotLGroup </span>class is defined in the <span style=" color: #998342;">linkbot.h </span>header file. The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1072.png"/></span></p><p class="s16">CLinkbotLGroup <span style=" color: #000;">group1,  group2;</span></p><p>declares two variables, <span class="s23">group1 </span>and <span class="s23">group2</span>, of class <span style=" color: #FF1CCE;">CLinkbotLGroup</span>. These will be used to control the groups of connected modules. Then the lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_1073.png"/></span></p><p class="s17">group1.addRobot(robot1);</p><p class="s17">group1.addRobot(robot3);</p><p>add <span class="s23">robot1 </span>and <span class="s23">robot3 </span>to <span class="s23">group1 </span>using the <span style=" color: #FF1CCE;">CLinkbotLGroup </span>version of the member function addRobot().   The syntax is the same as the syntax for the <span style=" color: #FF1CCE;">CLinkbotIGroup </span>version, which is listed in Section 6.1. Since <span class="s23">robot1 </span>and <span class="s23">robot3 </span>are the feet in each of the identical configurations, they will be controlled by the same group. The next lines<br/>255<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>13.4. <span><IMG width="18" height="18" src="chlinkbot/Image_1074.gif"/></span> Control a Group of Connected Linkbots with Identical Movements<br/><span><IMG width="624" height="29" src="chlinkbot/Image_1075.png"/></span></p><p class="s17">group2.addRobot(robot2);</p><p class="s17">group2.addRobot(robot4);</p><p>add <span class="s23">robot2 </span>and <span class="s23">robot4 </span>to <span class="s23">group2</span>. Since <span class="s23">robot2 </span>and <span class="s23">robot4 </span>are the heads in each of the identical configurations, they will be controlled by a different group than <span class="s23">robot1 </span>and <span class="s23">robot3</span>. The next lines<br/><span><IMG width="624" height="59" src="chlinkbot/Image_1076.png"/></span></p><p class="s17">group1.connect(); group2.connect(); group1.resetToZeroNB(); group2.resetToZero();</p><p>connect the variables in each group to Linkbot-Ls at the same time, and then reset all joints of all Linkbot-Ls to the zero position. The <span style=" color: #FF1CCE;">CLinkbotLGroup </span>versions of the member functions connect(), resetToZero(), and resetToZeroNB() are used in this case, with syntax similar to that listed in Section 6.1. The next lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_1077.png"/></span></p><p class="s17">group1.setJointSpeedRatios(0.25, 0.25, <span style=" color: #FF1CCE;">NaN</span>);</p><p class="s17">group2.setJointSpeedRatios(0.25, 0.25, <span style=" color: #FF1CCE;">NaN</span>);</p><p>sets the speed ratios for all joints of all Linkbot-Ls in <span class="s23">group1 </span>and <span class="s23">group2 </span>to the value 0.25, for slow motion. The general syntax for the <span style=" color: #FF1CCE;">CLinkbotLGroup </span>version of the member function setJointSpeedRatios() is similar to that listed in Section 7.5.4, with two differences. The first difference is that, because setJointSpeedRatios() is being used for Linkbot-Ls, the arguments will be slightly different. The first and second arguments will be joint speed ratio values, and the third argument will be <span style=" color: #FF1CCE;">NaN </span>since joint 3 does not move. the second difference is that, because setJointSpeedRatios() is being used for groups, the joint speed ratios of multiple Linkbot-Ls will be set using a single function call. The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1078.png"/></span></p><p class="s17">group1.moveTo(0, 45,  <span style=" color: #FF1CCE;">NaN</span>);</p><p>rotates the faceplates attached to joint 2 of the Linkbot-Ls in <span class="s23">group1 </span>by 45 degrees. This partially turns the two standing configurations so that they are facing left. Since the <span style=" color: #FF1CCE;">CLinkbotLGroup </span>version of moveTo() is used, multiple Linkbot-Ls are turned at the same time. Then the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1079.png"/></span></p><p class="s17">group2.moveToNB(90, 0, <span style=" color: #FF1CCE;">NaN</span>);</p><p>rotates joint 1 of the Linkbot-Ls in <span class="s23">group2 </span>by 90 degrees.  This will cause <span class="s23">robot2 </span>and <span class="s23">robot4</span>, the heads of the bowing configurations, to fold forward. Since the statement uses a non-blocking function, then the next line will execute simultaneously with it. This synchronous statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1080.png"/></span></p><p class="s17">group1.moveTo(-45, 45,  <span style=" color: #FF1CCE;">NaN</span>);</p><p>holds the position of joint 2 of the Linkbot-Ls in <span class="s23">group1 </span>at the absolute joint angle position of 45 degrees, while rotating joint 1 of both <span class="s23">robot1 </span>and <span class="s23">robot3 </span>forward by 45 degrees. These motions of <span class="s23">group1 </span>will be performed at the same time as the motions from the previous statement. After this line executes, then both configurations in the group will be bowing at the same time, as shown in Figure 13.15. Finally, the lines<br/><span><IMG width="624" height="29" src="chlinkbot/Image_1081.png"/></span></p><p class="s17">group1.resetToZeroNB();</p><p class="s17">group2.resetToZero();</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_1082.jpg"/></span><br/>resets joints 1 and 2 of all Linkbot-Ls in both groups simultaneously to the zero position. Both of the iden- tical configurations will now be standing up straight and facing forward as the program finishes execution.<br/>Do Exercises 2 and 3 on page 257.</p><p class="s3">13.4.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1083.png"/></span><br/>1. Include the header file <span style=" color: #998342;">linkbot.h </span>and use the class <span style=" color: #FF1CCE;">CLinkbotIGroup </span>to declare a variable <span class="s23">group </span>by the following two statements<br/>256<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>13.4. <span><IMG width="18" height="18" src="chlinkbot/Image_1084.gif"/></span> Control a Group of Connected Linkbots with Identical Movements</p><p class="s23">#include &lt;linkbot.h&gt; CLinkbotIGroup group;</p><p>for controlling a group of Linkbot-Is.<br/>2. Include the header file <span style=" color: #998342;">linkbot.h </span>and use the class <span style=" color: #FF1CCE;">CLinkbotLGroup </span>to declare a variable <span class="s23">group </span>by the following two statements</p><p class="s23">#include &lt;linkbot.h&gt; CLinkbotLGroup group;</p><p>for controlling a group of Linkbot-Ls.<br/>3. Call the <span style=" color: #FF1CCE;">CLinkbotIGroup </span>member function</p><p class="s23">group.addRobot(name);</p><p>to add a single Linkbot-I to a group.<br/>4. Call the <span style=" color: #FF1CCE;">CLinkbotLGroup </span>member function</p><p class="s23">group.addRobot(name);</p><p>to add a single Linkbot-L to a group.<br/>5. Use a group of connected modules to control multiple connected modules in identical motions.<br/>6. Most of the blocking and non-blocking <span style=" color: #FF1CCE;">CLinkbotIGroup </span>member functions are also available for the</p><p class="s11">CLinkbotLGroup <span style=" color: #000;">class.</span></p><p class="s3">13.4.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1085.png"/></span></p><p class="s11">CLinkbotIGroup<span style=" color: #000;">, </span>CLinkbotLGroup<span style=" color: #000;">, connected modules, group of connected modules.</span></p><p class="s3">13.4.3         Exercises</p><p><span><IMG width="624" height="25" src="chlinkbot/Image_1086.png"/></span><br/>1. Write a program <span class="s23">fourbotdrive2.ch </span>to control groups of Linkbot-Is in a four-bot drive config- uration. The program will move the four-bot drive in the following sequence. Move backward 360 degrees, turn left 720 degrees, move forward 360 degrees, and finally turn right 720 degrees.<br/>2. <span><IMG width="18" height="18" src="chlinkbot/Image_1087.gif"/></span> Write a program <span class="s23">groupbow2.ch </span>for four Linkbots to bow simultaneously.<br/>257<br/>Chapter 13.  Controlling Multiple Connected Linkbots<br/>13.4. <span><IMG width="18" height="18" src="chlinkbot/Image_1088.gif"/></span> Control a Group of Connected Linkbots with Identical Movements<br/><span><IMG width="380" height="253" src="chlinkbot/Image_1089.jpg"/></span><br/>Figure 13.16: A group of Linkbots bow simultaneously.<br/>3. <span><IMG width="18" height="18" src="chlinkbot/Image_1090.gif"/></span> Write a program <span class="s23">groupbow3.ch </span>for three Linkbots to bow in the following manner. The middle Linkbot bows first, delay for 0.5 second, then two other Linkbots bow at the same time. Treat the two other Linkbots as a group.<br/><span><IMG width="380" height="253" src="chlinkbot/Image_1091.jpg"/></span><br/>Figure 13.17: Three Linkbots bow together, with the middle one bowing first, followed by other two<br/>Linkbots.<br/>258<br/><span><IMG width="627" height="8" src="chlinkbot/Image_1092.png"/></span><br/><span><IMG width="624" height="3" src="chlinkbot/Image_1093.png"/></span></p><p class="s1">APPENDIX A</p><p><span><IMG width="624" height="3" src="chlinkbot/Image_1094.png"/></span></p><p class="s6">Using Advanced  Programming</p><p class="s6">Features</p><p>This appendix lists a few sample programs using advanced programming features not covered in this book. You may learn more about these advanced features in the book <span class="s5">Learning Computer Programming in Ch for the Absolute Beginner</span>.<br/><span><IMG width="624" height="53" src="chlinkbot/Image_1095.png"/></span></p><p class="s21">A.1    Make a Decision Using an <span style=" color: #F00;">if </span>and <span style=" color: #F00;">else if  </span>State-</p><p class="s21">ments</p><p>The general syntax of an <span style=" color: #F00;">if</span>, <span style=" color: #F00;">else if</span>, and <span style=" color: #F00;">else </span>statement is as follows:</p><p class="s23">if(expression1) {</p><p class="s23">/* statements1; */</p><p class="s23">}</p><p class="s23">else if(expression2){</p><p class="s23">/* statements2; */</p><p class="s23">}</p><p class="s23">else {</p><p class="s23">/* statements3; */</p><p class="s23">}</p><p>The <span style=" color: #F00;">if-else </span>statement is a common way to make decisions in a program. The expressions in parentheses, <span class="s23">expression1 </span>and <span class="s23">expression2 </span>are called the <span class="s20">controlling expressions </span>because they control which part of the <span style=" color: #F00;">if-else </span>statement is used. If the controlling expression <span class="s23">expression1 </span>is true, then the <span class="s23">statements1 </span>following the <span style=" color: #F00;">if </span>statement are executed and the statements following the <span style=" color: #F00;">else if </span>and <span style=" color: #F00;">else </span>statements get skipped. If the controlling expression <span class="s23">expression1 </span>is false, then the <span class="s23">statements1 </span>following the <span style=" color: #F00;">if</span><br/>Appendix A. Using Advanced Programming Features<br/>A.1.  Make a Decision Using an <span style=" color: #F00;">if </span>and <span style=" color: #F00;">else if </span>Statements<br/>statement are skipped and the next controlling expression, <span class="s23">expression2 </span>is evaluated. If <span class="s23">expression2 </span>is true, then the <span class="s23">statements2 </span>following the <span style=" color: #F00;">else if </span>statement are executed and the <span class="s23">statements3 </span>follow- ing the <span style=" color: #F00;">else </span>statement get skipped. If <span class="s23">expression2 </span>is false, however, then the <span class="s23">statements2 </span>following the <span style=" color: #F00;">else if </span>statement get skipped and the <span class="s23">statements3 </span>following the <span style=" color: #F00;">else </span>statement are executed.  An <span style=" color: #F00;">if-else </span>statement always has an <span style=" color: #F00;">if </span>statement. The <span style=" color: #F00;">else if </span>and <span style=" color: #F00;">else </span>statements are optional.<br/>Program 11.16 copies the position of the one Linkbot to the other Linkbot. Program A.1 controls the joint speed for a Linkbot by the corresponding joint angle of a controlled Linkbot.  In Program A.1, the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1096.png"/></span></p><p class="s17">robot1.relaxJoints();</p><p>relaxes joints 1 and 3 of <span class="s23">robot1</span>. This allows the user to turn each joint freely. The statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1097.png"/></span></p><p class="s17">robot2.driveForeverNB();</p><p>drives joints 1 and 3 of <span class="s23">robot1 </span>forever.<br/>A <span style=" color: #F00;">while </span>loop is used to control the speed of joints 1 and 3 for <span class="s23">robot2 </span>based on the joint angles of<br/>joints 1 and 3 of <span class="s23">robot1</span>. Inside the <span style=" color: #F00;">while </span>loop, first the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1098.png"/></span></p><p class="s17">speed1  = angle1;</p><p>obtains the joint angles for joints 1 and 3. The statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1099.png"/></span></p><p class="s17">speed1  = angle1;</p><p>then assigns the value of the angular position for joint 1 as the value of the speed for joint 1. The statements<br/><span><IMG width="624" height="88" src="chlinkbot/Image_1100.png"/></span></p><p class="s33">if<span style=" color: #000;">(speed1   &gt; 240)  {</span></p><p class="s17">speed1  = 240;</p><p class="s17">}</p><p class="s33">else if<span style=" color: #000;">(speed1   &lt;  -240)</span></p><p class="s17">speed1  = -240;</p><p class="s17">}</p><p>compare the value of <span class="s23">speed1 </span>with the maximum positive and negative speeds that a Linkbot joint can move. If the first controlling expression <span class="s23">speed1  &gt; 240 </span>is true, then the variable <span class="s23">speed1 </span>is changed to the maximum speed of 240 degrees per second. If <span class="s23">speed1  &gt; 240 </span>is false, however, then the program skips to the <span style=" color: #F00;">else if </span>statement and evaluates the second controlling expression <span class="s23">speed1  &lt; -240</span>.  If this expression is true, then <span class="s23">speed1 </span>is changed to the value <span class="s5">−240 </span>degrees per second.  If both controlling statements prove to be false, then <span class="s23">speed1 </span>is unchanged. The <span style=" color: #F00;">if </span>statement and <span style=" color: #F00;">if else </span>statements that check the value of <span class="s23">speed1 </span>are used as boundary checks.  This helps ensure that the speed of joint 1 is not set higher than the maximum speed of 240 degrees per second or lower than the speed of <span class="s5">−240 </span>degrees per second. A similar speed boundary check is performed for joint 3 in the program.<br/>260<br/>Appendix A. Using Advanced Programming Features<br/>A.1.  Make a Decision Using an <span style=" color: #F00;">if </span>and <span style=" color: #F00;">else if </span>Statements<br/><span><IMG width="624" height="702" src="chlinkbot/Image_1101.png"/></span></p><p class="s25">/* Filename:   speedcontrol.ch</p><p class="s25">The joint angles for robot1 in  green color  will determine</p><p class="s25">the  speed of joints for robot2 in  red color.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2;</span></p><p class="s33">double <span style=" color: #000;">angle1, angle3;</span></p><p class="s33">double <span style=" color: #000;">speed1,  speed3;</span></p><p class="s25">/* Connect to robots */ <span style=" color: #000;">robot1.connect(); robot2.connect();</span></p><p class="s25">/* Set colors for robots.   Use the green robot to control  the red one */</p><p class="s17">robot1.setLEDColor(<span style=" color: #7F007F;">&quot;green&quot;</span>);</p><p class="s17">robot2.setLEDColor(<span style=" color: #7F007F;">&quot;red&quot;</span>);</p><p class="s17">robot1.resetToZeroNB(); robot2.resetToZeroNB(); robot1.moveWait(); robot2.moveWait();</p><p class="s25">/* relax all joints of robot1 */</p><p class="s17">robot1.relaxJoints();</p><p class="s25">/* set joints of robot2  to  move forward  */</p><p class="s17">robot2.driveForeverNB();</p><p class="s33">while<span style=" color: #000;">(1) {</span></p><p class="s17">robot1.getJointAngles(angle1, <span style=" color: #FF1CCE;">NaN</span>,   angle3);</p><p class="s17">speed1  = angle1;</p><p class="s33">if<span style=" color: #000;">(speed1   &gt; 240)  {</span></p><p class="s17">speed1  = 240;</p><p class="s17">}</p><p class="s33">else if<span style=" color: #000;">(speed1   &lt;  -240) {</span></p><p class="s17">speed1  = -240;</p><p class="s17">}</p><p class="s17">speed3  = angle3;</p><p class="s33">if<span style=" color: #000;">(speed3   &gt; 240)  {</span></p><p class="s17">speed3  = 240;</p><p class="s17">}</p><p class="s33">else if<span style=" color: #000;">(speed3   &lt;  -240) {</span></p><p class="s17">speed3  = -240;</p><p class="s17">}</p><p class="s17">robot2.setJointSpeeds(speed1, <span style=" color: #FF1CCE;">NaN</span>,   -speed3);</p><p class="s17">}</p><p>Program A.1: Controlling the joint speed for a Linkbot by the corresponding joint angle of a controlled<br/>Linkbot.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_1102.jpg"/></span><br/>Do Exercise 1, on page 265.<br/>261<br/><span><IMG width="624" height="53" src="chlinkbot/Image_1103.png"/></span><br/>A.2.  Use a <span style=" color: #F00;">while</span>-Loop for Repeating Motions<br/>Appendix A. Using Advanced Programming Features</p><p class="s21">A.2    Use a <span style=" color: #F00;">while</span>-Loop for Repeating  Motions</p><p><span><IMG width="624" height="264" src="chlinkbot/Image_1104.png"/></span></p><p class="s25">/* File: whileloop.ch</p><p class="s25">repeat  motions using a while-loop  */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">int <span style=" color: #000;">i, num;</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* repeat rolling  forward  and backward 3 times  */</p><p class="s17">num  =  3;</p><p class="s17">i=0;</p><p class="s33">while<span style=" color: #000;">(i&lt;num)   {</span></p><p class="s17">robot.driveForward(360); <span style=" color: #009800;">// drive  forward 360 degrees</span></p><p class="s17">robot.driveBackward(360); <span style=" color: #009800;">//  drive backward 360 degrees</span></p><p class="s17">i++;                                <span style=" color: #009800;">// increment i</span></p><p class="s17">}</p><p>Program A.2: Rolling a Linkbot-I forward and backward three times using a <span style=" color: #F00;">while </span>loop.<br/><span><IMG width="119" height="79" src="chlinkbot/Image_1105.jpg"/></span><br/>A <span style=" color: #F00;">while </span>loop in Ch can be used to repeat actions. Program A.2 uses a <span style=" color: #F00;">while </span>loop to repeat the motion of rolling forward 360 degrees and rolling backward 360 degrees. The <span style=" color: #F00;">while </span>loop consists of the code fragment below.<br/><span><IMG width="486" height="117" src="chlinkbot/Image_1106.png"/></span></p><p class="s25">/* repeat rolling  whileward  and backward 3 times  */</p><p class="s17">num  =  3;</p><p class="s17">i=0;</p><p class="s33">while<span style=" color: #000;">(i&lt;num)   {</span></p><p class="s17">robot.driveForward(360); <span style=" color: #009800;">// drive  forward 360 degrees</span></p><p class="s17">robot.driveBackward(360); <span style=" color: #009800;">//  drive backward 360 degrees</span></p><p class="s17">i++;</p><p class="s17">}</p><p>The variable <span class="s23">num </span>with the value of 3 is the number of the repetitions. The variable</p><p class="s23">i <span class="p">is the loop control variable. It is initialized to zero. The loop control expression</span></p><p class="s23">i&lt;num <span class="p">is the loop continuation condition. If the control variable </span>i <span class="p">is less than </span>num<span class="p">, the statements below</span></p><p>in the loop body is executed.<br/><span><IMG width="624" height="44" src="chlinkbot/Image_1107.png"/></span></p><p class="s17">robot.driveForward(360); <span style=" color: #009800;">// drive  forward 360 degrees </span>robot.driveBackward(360); <span style=" color: #009800;">//  drive backward 360 degrees </span>i++;                                       <span style=" color: #009800;">// increment i;</span></p><p>At the end of the loop body, the variable <span class="s23">i </span>is incremented by 1. While the value of <span class="s23">i </span>is less than the value of</p><p class="s23">num<span class="p">, the loop iterates. Because </span>num <span class="p">is 3, the motion of rolling forward 360 degrees and rolling backward</span></p><p><span><IMG width="23" height="16" src="chlinkbot/Image_1108.jpg"/></span><br/>360 degrees will be repeated three times.<br/>Do Exercise 2, on page 265.<br/>262<br/><span><IMG width="624" height="53" src="chlinkbot/Image_1109.png"/></span><br/>A.3.  Use a <span style=" color: #F00;">for</span>-Loop for Repeating Motions<br/>Appendix A. Using Advanced Programming Features</p><p class="s21">A.3    Use a <span style=" color: #F00;">for</span>-Loop for Repeating  Motions</p><p><span><IMG width="624" height="234" src="chlinkbot/Image_1110.png"/></span></p><p class="s25">/* File: forloop.ch</p><p class="s25">repeat  motions using  a for-loop */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">int <span style=" color: #000;">i, num;</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* repeat rolling  forward  and backward 3 times  */</p><p class="s17">num  =  3;</p><p class="s33">for <span style=" color: #000;">(i=0; i&lt;num; i++)  {</span></p><p class="s17">robot.driveForward(360);    <span style=" color: #009800;">// roll forward  360 degrees</span></p><p class="s17">robot.driveBackward(360);   <span style=" color: #009800;">// roll backward 360 degrees</span></p><p class="s17">}</p><p>Program A.3: Rolling a Linkbot-I forward and backward three times using a <span style=" color: #F00;">for </span>loop.<br/>A <span style=" color: #F00;">for </span>loop in Ch can also be used to repeat actions. Similar to Program A.2, Program A.3 uses a <span style=" color: #F00;">for </span>loop to repeat the motion of rolling forward 360 degrees and rolling backward 360 degrees three times. The <span style=" color: #F00;">for </span>loop consists of the code fragment below.<br/><span><IMG width="624" height="88" src="chlinkbot/Image_1111.png"/></span></p><p class="s25">/* repeat rolling  forward  and backward 3 times  */</p><p class="s17">num  =  3;</p><p class="s33">for <span style=" color: #000;">(i=0; i&lt;num; i++)  {</span></p><p class="s17">robot.driveForward(360); <span style=" color: #009800;">// drive  forward 360 degrees</span></p><p class="s17">robot.driveBackward(360); <span style=" color: #009800;">//  drive backward 360 degrees</span></p><p class="s17">}</p><p>The variable <span class="s23">num </span>with the value of 3 is the number of the repetitions. There are three expressions in the <span style=" color: #F00;">for</span><br/>loop control structure<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1112.png"/></span></p><p class="s33">for <span style=" color: #000;">(i=0; i&lt;num; i++)</span></p><p>The first expression <span class="s23">i=0 </span>initializes the loop control variable <span class="s23">i </span>with 0.  The second expression <span class="s23">i&lt;num </span>is the loop continuation condition. The loop iterates when the control variable <span class="s23">i </span>is less than <span class="s23">num</span>.  The third expression <span class="s23">i++ </span>increments the control variable after the loop body<br/><span><IMG width="624" height="29" src="chlinkbot/Image_1113.png"/></span></p><p class="s17">robot.driveForward(360); <span style=" color: #009800;">// drive  forward 360 degrees </span>robot.driveBackward(360); <span style=" color: #009800;">//  drive backward 360 degrees</span></p><p>is executed.<br/>The above <span style=" color: #F00;">for </span>loop is the same as the following <span style=" color: #F00;">while </span>loop presented in section A.2.<br/><span><IMG width="624" height="117" src="chlinkbot/Image_1114.png"/></span></p><p class="s25">/* repeat rolling  forward  and backward 3 times  */</p><p class="s17">num  =  3;</p><p class="s17">i=0;</p><p class="s33">while<span style=" color: #000;">(i&lt;num)   {</span></p><p class="s17">robot.driveForward(360); <span style=" color: #009800;">// drive  forward 360 degrees</span></p><p class="s17">robot.driveBackward(360); <span style=" color: #009800;">//  drive backward 360 degrees</span></p><p class="s17">i++;</p><p class="s17">}</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_1115.jpg"/></span><br/>Do Exercise 3, on page 265.<br/>263<br/>A.4.  Use a Function with an Argument of the <span style=" color: #FF1CCE;">CLinkbotI </span>Class<br/>Appendix A. Using Advanced Programming Features</p><p class="s21">A.4    Use a Function  with an Argument of</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1116.png"/></span></p><p class="s21">the <span style=" color: #FF1CCE;">CLinkbotI </span>Class</p><p><span><IMG width="624" height="337" src="chlinkbot/Image_1117.png"/></span></p><p class="s25">/* File: function.ch</p><p class="s25">repeat motions using the functions  roll() */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s25">/* the function prototype for  roll() */</p><p class="s17"><span style=" color: #F00;">void </span>roll(<span style=" color: #FF1CCE;">CLinkbotI  </span>&amp;robot);</p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* call the function  roll() three times</p><p class="s25">to repeat the motions defined in  the function three times */</p><p class="s17">roll(robot);</p><p class="s17">roll(robot);</p><p class="s17">roll(robot);</p><p class="s25">/* define the function roll() */</p><p class="s17"><span style=" color: #F00;">void </span>roll(<span style=" color: #FF1CCE;">CLinkbotI  </span>&amp;robot) {</p><p class="s17">robot.driveForward(360); <span style=" color: #009800;">// drive  forward 360 degrees</span></p><p class="s17">robot.driveBackward(360); <span style=" color: #009800;">//  drive backward 360 degrees</span></p><p class="s17">}</p><p>Program A.4: Rolling a Linkbot-I forward and backward using the function <span class="s23">roll()</span>.<br/>A function can be written in Ch to also repeat actions. Program A.4 uses a function <span class="s23">roll() </span>for the motion of rolling forward 360 degrees and rolling backward 360 degrees. The function prototype for the function <span class="s23">roll() </span>is as follows.<br/><span><IMG width="624" height="29" src="chlinkbot/Image_1118.png"/></span></p><p class="s25">/* the function prototype for  roll() */</p><p class="s17"><span style=" color: #F00;">void </span>roll(<span style=" color: #FF1CCE;">CLinkbotI  </span>&amp;robot);</p><p>Since the data type <span style=" color: #F00;">void </span>is the return type for the function <span class="s23">roll()</span>, the function does not return a value. The function uses an argument of reference type of <span style=" color: #FF1CCE;">CLinkbotI</span>. Therefore, the variable name <span class="s23">robot </span>can be used inside the function to access the member functions of <span style=" color: #FF1CCE;">CLinkbotI</span>. The function <span class="s23">roll() </span>is defined as<br/><span><IMG width="624" height="73" src="chlinkbot/Image_1119.png"/></span></p><p class="s25">/* define the function roll() */</p><p class="s17"><span style=" color: #F00;">void </span>roll(<span style=" color: #FF1CCE;">CLinkbotI  </span>&amp;robot) {</p><p class="s17">robot.driveForward(360); <span style=" color: #009800;">// drive  forward 360 degrees</span></p><p class="s17">robot.driveBackward(360); <span style=" color: #009800;">//  drive backward 360 degrees</span></p><p class="s17">}</p><p>When the function <span class="s23">roll() </span>is called, it will roll forward 360 degrees and roll backward 360 degrees. The program calls this function three times by the following statements.<br/><span><IMG width="624" height="44" src="chlinkbot/Image_1120.png"/></span></p><p class="s17">roll(robot); roll(robot); roll(robot);</p><p>264<br/>A.4.  Use a Function with an Argument of the <span style=" color: #FF1CCE;">CLinkbotI </span>Class<br/>Appendix A. Using Advanced Programming Features<br/><span><IMG width="23" height="16" src="chlinkbot/Image_1121.jpg"/></span><br/>Therefore, the motion of rolling forward 360 degrees and rolling backward 360 degrees will be repeated three times.<br/>Do Exercises 4 and 5 on page 265.</p><p class="s3">A.4.1   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1122.png"/></span><br/>1. Write a program <span class="s23">speedcontrol2.ch</span>, based on the program <span class="s23">speedcontrol.ch </span>in Program A.1, to control joint speeds of the controller Linkbot-I by the joint angles of the controlled Linkbot-I by changing the statements<br/><span><IMG width="588" height="29" src="chlinkbot/Image_1123.png"/></span></p><p class="s17">speed1  = angle1;</p><p class="s17">speed3  = angle3;</p><p>to<br/><span><IMG width="588" height="29" src="chlinkbot/Image_1124.png"/></span></p><p class="s17">speed1  = 2*angle1;</p><p class="s17">speed3  = 2*angle3;</p><p>The controlled robot will move faster by the same joint angle of the controlling robot. Test the program by changing the statements to<br/><span><IMG width="588" height="29" src="chlinkbot/Image_1125.png"/></span></p><p class="s17">speed1  = angle1/2;</p><p class="s17">speed3  = angle3/2;</p><p>2. Write a program <span class="s23">whileloop2.ch </span>using a <span style=" color: #F00;">while </span>loop to repeat the motion of rotating joint 1 by 360 degrees and then by <span class="s5">−360 </span>degrees for five times. Use the member function robot.moveJoint().<br/>3. Write a program <span class="s23">forloop2.ch </span>using a <span style=" color: #F00;">for </span>loop to repeat the motion of rotating joint 1 by 360 degrees and then by <span class="s5">−360 </span>degrees for five times.<br/>4. Write a program <span class="s23">function2.ch </span>using a function <span class="s23">rotateJoint1() </span>for the motion of rotating joint 1 by 360 degrees and then by <span class="s5">−360 </span>degrees. Call the function <span class="s23">rotateJoint1()  </span>five times to repeat the motion defined in the function.<br/>5. The function <span class="s23">wait5robots() </span>is defined as follows:<br/><span><IMG width="588" height="117" src="chlinkbot/Image_1126.png"/></span></p><p class="s17"><span style=" color: #F00;">void </span>wait5robots(<span style=" color: #FF1CCE;">CLinkbotI  </span>&amp;robot1, <span style=" color: #FF1CCE;">CLinkbotI  </span>&amp;robot2,      <span style=" color: #FF1CCE;">CLinkbot </span>&amp;robot3, <span style=" color: #FF1CCE;">CLinkbotI  </span>&amp;robot4, <span style=" color: #FF1CCE;">CLinkbotI  </span>&amp;robot5) {</p><p class="s17">robot1.moveWait(); robot2.moveWait(); robot3.moveWait(); robot4.moveWait(); robot5.moveWait();</p><p class="s17">}</p><p>Modify the program <span class="s23">snake.ch </span>in Program 13.3 to call the function <span class="s23">wait5robots() </span>once using<br/><span><IMG width="588" height="15" src="chlinkbot/Image_1127.png"/></span></p><p class="s17">wait5robots(robot1, robot2, robot3, robot4, robot5);</p><p>instead of calling the member function moveWait() five times.<br/>265<br/><span><IMG width="627" height="8" src="chlinkbot/Image_1128.png"/></span><br/><span><IMG width="624" height="3" src="chlinkbot/Image_1129.png"/></span></p><p class="s1">APPENDIX B</p><p><span><IMG width="624" height="3" src="chlinkbot/Image_1130.png"/></span></p><p class="s6">Moving Robots in a Coordinate</p><p class="s6">System in RoboSim</p><p>Ch programs can control robots in RoboSim with an x and y coordinate system as described in Chapter<br/>4. Because of the convenience for defining the motion of robots in a coordinate system, member functions drivexyTo(),  getxy(), drivexyToFunc(), drivexyToExpr(),  drivexyToNB(),  drivexyWait(),   drivexy(), drivexyNB(), traceOn(),  traceOff(),  recordxyBegin(), and recordxyEnd(), are implemented to control robots in RoboSim.  In addition, member functions point(),  line(), and text() are implemented to draw points, lines, and text on the RoboSim scene.  These member functions are especially useful for learning mathematics concepts with RoboSim. They are available for controlling Linkbots in RoboSim only, but not available for use with the Linkbot Hardware. In this appendix, these member functions and their applications are described.</p><p class="s21">B.1    Move a Linkbot-I in a Coordinate System</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1131.png"/></span><br/>The member function drivexyTo()  drives the Linkbot-I to the location (x, y) in the x and y coordinate system. The syntax of the member function drivexyTo() is as follows.</p><p class="s23">robot.drivexyTo(x, y,  radius, trackwidth);</p><p>The first two arguments specify the location (x, y) to which the robot will drive. The third argument is the radius of the two wheels. The fourth argument is the track width as shown in Figure 5.3 on page 73. Like the arguments for the member functions turnLeft() and turnRight(), the units for both radius and track width must be the same. They can be inches, feet, centimers, meters, etc.<br/>The member function getxy() can be used to obtain the position of a robot in the x and y coordinate system. The syntax of the member function getxy() is as follows.</p><p class="s23">robot.getxy(x, y);</p><p>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.1.  Move a Linkbot-I in a Coordinate System<br/>The position (x, y) of the robot specified in the x and y coordinate system is passed through its two arguments x and y.  The information obtained by this function is the same as the position information obtained by clicking on a Linkbot in a RoboSim scene. But when getxy() is called this information is stored internally, and can be used or analyzed later in the program.<br/>Program B.1 demonstrates how to use drivexyTo() to draw a graph of a straight line in RoboSim, and how to use getxy() to get the position of the Linkbot-I after this line is drawn. Before running program B.1 configure the RoboSim GUI as is shown in Figure 4.1 from Section 4.1, so that the starting position of the Linkbot-I is (0, 0).<br/><span><IMG width="624" height="322" src="chlinkbot/Image_1132.png"/></span></p><p class="s25">/* File: drivexyto.ch</p><p class="s25">Note:   This program uses  drivexyTo()   available in RoboSim  only</p><p class="s25">to  move a Linkbot-I   from (0,  0) to (3, 4).</p><p class="s25">Use getxy()   to get the x and y coordinates  of  the robot.</p><p class="s25">Set the initial position (x, y) in RoboSim GUI to  (0, 0) for robot.   */</p><p class="s27">#include &lt;linkbot.h&gt;   <span style=" color: #009800;">/* for CLinkbotI */</span></p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;         </span><span style=" color: #009800;">//  radius of 1.75 inches</span></p><p class="s33">double <span style=" color: #000;">trackwidth  =  3.69;      </span><span style=" color: #009800;">// the track width,   the distance  between two wheels</span></p><p class="s33">double <span style=" color: #000;">x, y;                   </span><span style=" color: #009800;">// x and y coordinates</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* move  the robot to the position (3,  4) */</p><p class="s17">robot.drivexyTo(3, 4, radius, trackwidth);</p><p class="s25">/* get the position of the robot */</p><p class="s17">robot.getxy(x, y);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;getxy(x, y) =  (%lf,   %lf)\n&quot;</span>,   x, y);</p><p>Program B.1: Moving a Linkbot-I to a specified location (x, y) using drivexyTo().<br/>267<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.1.  Move a Linkbot-I in a Coordinate System<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1133.jpg"/></span><br/>Figure B.1: The RoboSim scene with the robot trajectory from Program B.1.<br/>Program B.1 uses the <span style=" color: #FF1CCE;">CLinkbotI </span>class member function drivexyTo() to drive a Linkbot-I in a straight line from (0, 0) to (3, 4) in RoboSim. The lines<br/><span><IMG width="624" height="44" src="chlinkbot/Image_1134.png"/></span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75; </span><span style=" color: #009800;">//  radius of 1.75 inches</span></p><p class="s33">double <span style=" color: #000;">trackwidth  =  3.69; </span><span style=" color: #009800;">// the track width,   the distance  between two wheels</span></p><p class="s33">double <span style=" color: #000;">x, y; </span><span style=" color: #009800;">// x and y coordinates</span></p><p>declare and initialize the variables that are needed in order to use drivexyTo()  and getxy().  A variable <span class="s23">radius </span>of <span style=" color: #F00;">double </span>type is declared and assigned a value of 1.75, which is desired wheel radius. Another variable <span class="s23">trackwidth</span>, also of <span style=" color: #F00;">double </span>type, is declared and assigned a value of 3.69, which is the distance between the two wheels of the Linkbot-I. The variables <span class="s23">x </span>and <span class="s23">y </span>of <span style=" color: #F00;">double </span>type will be used to store the x and y coordinate values that are passed from the arguments of the member function getxy().  After the Linkbot-I is connected and set to the zero position, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1135.png"/></span></p><p class="s17">robot.drivexyTo(3, 4, radius, trackwidth);</p><p>uses the <span style=" color: #FF1CCE;">CLinkbotI </span>member function drivexyTo() to drive the virtual Linkbot-I from point (0, 0) to point (3, 4). Pressing the ’t’ key shows a straight green line between these two points, which looks the same as in Figure B.1. The final two program statements<br/><span><IMG width="624" height="29" src="chlinkbot/Image_1136.png"/></span></p><p class="s17">robot.getxy(x, y);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;getxy(x, y) =  (%lf,   %lf)\n&quot;</span>,   x, y);</p><p>uses the <span style=" color: #FF1CCE;">CLinkbotI </span>member function getxy() to retrieve the final x and y coordinates of the Linkbot-I and then prints these coordinates to the ChIDE console using <span style=" color: #FF1CCE;">printf</span>().  The input/output pane will display the following line</p><p class="s19">          getxy(x, y) = (2.993417, 3.997225)                                                                                                                                                        </p><p>Program B.1 demonstrates the efficiency of the member function drivexyTo(). In this case, the function<br/>call</p><p class="s23">robot.drivexyTo(x, y,  radius, trackwidth);</p><p>is somehow equivalent to the two statements<br/>268<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.1.  Move a Linkbot-I in a Coordinate System</p><p class="s23">robot.turnRight(angle, radius,  trackwidth);</p><p class="s23">robot.driveDistance(distance, radius);</p><p>Using drivexyTo() in this case eliminates the need to calculate the angle to turn and the distance to drive. Instead, these are calculated internally by the function drivexyTo().<br/><span><IMG width="23" height="16" src="chlinkbot/Image_1137.jpg"/></span><br/>You can also use getxy() to obtain the position of a robot after it is drived by driveForward(). Do Exercises 1, 2, and 3 on 276.<br/>The member function drivexyTo() can be used multiple times in a program to drive a virtual Linkbot-I<br/>to different points in a coordinate system, drawing a graph along the way. Program B.2 demonstrates this use of drivexyTo(), and also uses <span style=" color: #FF1CCE;">CPlot </span>member functions to plot the specified points in a separate window. Member functions mathCoord(), title(), and label() of the <span style=" color: #FF1CCE;">CPlot  </span>class are introduced in section 8.1 in Chapter 8.  Comparing a plot, generated using the <span style=" color: #FF1CCE;">CPlot </span>member functions, to the trajectory of a virtual Linkbot shows the accuracy of the RoboSim GUI’s graphing capabilities.  Set the initial position of the Linkbot-I in RoboSim GUI to (0, 0) before running Program B.2. To see the full trajectory of the Linkbot’s motion in the RoboSim GUI, hold the right mouse button and drag to zoom out and then hold both mouse buttons and drag to pull the Linkbot-I to the left side of the RoboSim GUI window.<br/><span><IMG width="624" height="512" src="chlinkbot/Image_1138.png"/></span></p><p class="s25">/* File: points.ch</p><p class="s25">Note:   This program uses  drivexyTo()   available in RoboSim  only</p><p class="s25">to  move one Linkbot-I   to multiple points.</p><p class="s25">Set the initial position (x, y) in RoboSim GUI to  (0,  0) for the robot.</p><p class="s25">A  robot  moves to specified  points   */</p><p class="s27">#include &lt;chplot.h&gt;    <span style=" color: #009800;">/* for CPlot */</span></p><p class="s27">#include &lt;linkbot.h&gt;   <span style=" color: #009800;">/* for CLinkbotI */</span></p><p class="s16">CPlot <span style=" color: #000;">plot; </span>CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;         </span><span style=" color: #009800;">//  radius of 1.75 inches</span></p><p class="s33">double <span style=" color: #000;">trackwidth  =  3.69;      </span><span style=" color: #009800;">// the track width,   the distance  between two wheels</span></p><p class="s33">double <span style=" color: #000;">x, y;                   </span><span style=" color: #009800;">// x and y coordinates</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* move  the robot to specified  points */ <span style=" color: #000;">robot.drivexyTo(12, 5.5, radius, trackwidth); robot.drivexyTo(24, 30, radius,  trackwidth); robot.drivexyTo(36, 10, radius,  trackwidth); robot.drivexyTo(48, 5, radius,  trackwidth);</span></p><p class="s17"><span style=" color: #009800;">/* plot the points */ </span>plot.mathCoord(); plot.title(<span style=" color: #7F007F;">&quot;&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_X, <span style=" color: #7F007F;">&quot;x (in)&quot;</span>); plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;y (in)&quot;</span>); plot.point(0, 0);</p><p class="s17">plot.point(12, 5.5); plot.point(24, 30); plot.point(36, 10); plot.point(48, 5); plot.plotting();</p><p>Program B.2: Moving a Linkbot-I to multiple specified locations using drivexyTo().<br/>269<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.1.  Move a Linkbot-I in a Coordinate System<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1139.jpg"/></span><br/>Figure B.2: The RoboSim scene with the robot trajectory from Program B.2.<br/><span><IMG width="335" height="233" src="chlinkbot/Image_1140.png"/></span></p><p class="s44">30</p><p class="s44">25</p><p class="s44">20</p><p class="s44">15</p><p class="s44">10</p><p class="s44">5</p><p class="s44">0</p><p class="s44">0          5         10        15        20        25        30        35        40        45        50</p><p class="s44">x (in)</p><p>Figure B.3: The plot for the locations traveled by the robot from Program B.2.<br/>Program B.2 drives a virtual Linkbot-I to four different points in a coordinate system. The line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1141.png"/></span></p><p class="s17">robot.drivexyTo(12, 5.5, radius, trackwidth);</p><p>drives the virtual Linkbot-I from (0, 0) to (12, 5.5) in the coordinate system. The next line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1142.png"/></span></p><p class="s17">robot.drivexyTo(24, 30, radius,  trackwidth);</p><p>drives the virtual Linkbot-I from (12, 5.5) to (24, 30). Notice that the member function drivexyTo() drives a virtual Linkbot to an absolute position in an x and y coordinate system. That is, the Linkbot does not need to start at (0, 0) in order to get to the point (24, 30) specified in the second drivexyTo() function call. Instead, the program internally calculates how to drive in a straight line from the virtual Linkbot’s current location to the absolute location specified by the arguments <span class="s23">x </span>and <span class="s23">y </span>passed to drivexyTo(). Similarly, the lines<br/>270<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.1.  Move a Linkbot-I in a Coordinate System<br/><span><IMG width="624" height="29" src="chlinkbot/Image_1143.png"/></span></p><p class="s17">robot.drivexyTo(36, 10, radius,  trackwidth);</p><p class="s17">robot.drivexyTo(48, 5, radius,  trackwidth);</p><p>drive the virtual Linkbot-I from (24, 30) to (36, 10) and then from (36, 10) to (48, 5) in the coordinate system. The final trajectory of the Linkbot-I is shown in Figure B.2. To plot the individual start and end points along the Linkbot-I’s trajectory, the <span style=" color: #FF1CCE;">CPlot </span>member function point() is used. The general syntax of this function is</p><p class="s23">plot.point(x, y);</p><p>where <span class="s23">x </span>and <span class="s23">y </span>are the coordinates of the point to be plotted. The lines<br/><span><IMG width="624" height="73" src="chlinkbot/Image_1144.png"/></span></p><p class="s17">plot.point(0, 0); plot.point(12, 5.5); plot.point(24, 30); plot.point(36, 10); plot.point(48, 5);</p><p>plot each of the individual points along the Linkbot-I’s trajectory. The resulting graph is shown in Figure<br/><span><IMG width="23" height="16" src="chlinkbot/Image_1145.jpg"/></span><br/>B.3.<br/>Do Exercises 4 and 6(a) on page 277.<br/>A virtual Linkbot-I can also be used to draw geometric shapes. Program B.3 drives a Linkbot-I along a trajectory that forms a right triangle using the member function drivexyTo().   A plot of the Linkbot’s triangular trajectory is also generated using <span style=" color: #FF1CCE;">CPlot </span>member functions. Before running Program B.3, set the initial position of the Linkbot-I in the RoboSim GUI to (0, 0).<br/>271<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.1.  Move a Linkbot-I in a Coordinate System<br/><span><IMG width="624" height="673" src="chlinkbot/Image_1146.png"/></span></p><p class="s25">/* File: righttriangle.ch</p><p class="s25">Note:   This program uses  drivexyTo()   available in RoboSim  only</p><p class="s25">to  move one Linkbot-I   from (0, 0) to (3, 0), (3, 4), then to (0, 0).</p><p class="s25">Set the initial position (x, y) in RoboSim to  (0,  0) for the robot.   */</p><p class="s27">#include &lt;chplot.h&gt;    <span style=" color: #009800;">/* for CPlot */</span></p><p class="s27">#include &lt;linkbot.h&gt;   <span style=" color: #009800;">/* for CLinkbotI */</span></p><p class="s16">CPlot <span style=" color: #000;">plot; </span>CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;         </span><span style=" color: #009800;">//  radius of 1.75 inches</span></p><p class="s33">double <span style=" color: #000;">trackwidth  =  3.69;      </span><span style=" color: #009800;">// the track width,   the distance  between two wheels</span></p><p class="s33">double <span style=" color: #000;">x, y;                   </span><span style=" color: #009800;">// x and y coordinates</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* move  the robot to specified  points */ <span style=" color: #000;">robot.drivexyTo(3, 0, radius, trackwidth); robot.getxy(x, y);</span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;getxy(x, y) =  (%lf,   %lf)\n&quot;</span>,   x, y);</p><p class="s17">robot.drivexyTo(3, 4, radius, trackwidth);</p><p class="s17">robot.getxy(x, y);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;getxy(x, y) =  (%lf,   %lf)\n&quot;</span>,   x, y);</p><p class="s17">robot.drivexyTo(0, 0, radius, trackwidth);</p><p class="s17">robot.getxy(x, y);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;getxy(x, y) =  (%lf,   %lf)\n&quot;</span>,   x, y);</p><p class="s25">/* the distance between points (0,  0) and  (3, 4) */</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;distance =  %lf\n&quot;</span>,   <span style=" color: #FF1CCE;">sqrt</span>(3*3   +  4*4));</p><p class="s17"><span style=" color: #009800;">/* plot the points */ </span>plot.mathCoord(); plot.title(<span style=" color: #7F007F;">&quot;&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_X, <span style=" color: #7F007F;">&quot;x (in)&quot;</span>); plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;y (in)&quot;</span>); plot.line(0, 0, 3, 0);</p><p class="s17">plot.line(3, 0, 3, 4);</p><p class="s17">plot.line(3, 4, 0, 0);</p><p class="s17">plot.axisRange(PLOT_AXIS_X, 0, 5); <span style=" color: #009800;">// set the x-axis range</span></p><p class="s17">plot.axisRange(PLOT_AXIS_Y, 0, 5); <span style=" color: #009800;">// set the y-axis range</span></p><p class="s17">plot.sizeRatio(1);</p><p class="s17">plot.plotting();</p><p>Program B.3: Moving a Linkbot-I to follow a right triangle using drivexyTo().<br/>Program B.3 drives a virtual Linkbot-I along the trajectory of a right triangle, prints each of the triangle’s three points, calculates the length of the hypotenuse, and then plots the Linkbot’s triangular trajectory. The lines<br/><span><IMG width="624" height="44" src="chlinkbot/Image_1147.png"/></span></p><p class="s17">robot.drivexyTo(3, 0, radius, trackwidth);</p><p class="s17">robot.getxy(x, y);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;getxy(x, y) =  (%lf,   %lf)\n&quot;</span>,   x, y);</p><p>272<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.1.  Move a Linkbot-I in a Coordinate System<br/>drives the virtual Linkbot-I from (0, 0) to (3, 0), obtains the x and y coordinates of the virtual Linkbot after the movement, and prints these coordinates to the input/output pane. This printed point represents the first of the right triangle’s three points. These actions are repeated by the program to drive the virtual Linkbot-I from (3, 0) to (3, 4), and then from (3, 4) to (0, 0), printing the coordinates of the right triangle’s second and third points along the way.<br/>In Program B.3, the Pythagorean Theorem is used to calculate the hypotenuse of the right triangle. For the right triangle shown in Figure B.4, <span class="s5">c </span>is the length of the hypotenuse. <span class="s5">a </span>and <span class="s5">b </span>are the lengths of the two legs. Based on the Pythagorean theorem, they are related by the formula</p><p class="s5">c<span class="s45">2 </span>= a<span class="s45">2 </span>+ b<span class="s45">2</span></p><p><span><IMG width="45" height="1" src="chlinkbot/Image_1148.png"/></span><br/>Given the lengths of the two legs, the length of the hypotenuse for a right triangle can be calculated by the formula</p><p class="s5">c = <span class="s46">/</span>a<span class="s45">2 </span>+ b<span class="s45">2</span></p><p>In Ch, the function <span style=" color: #FF1CCE;">sqrt</span>() is used to calculate square roots. The general syntax of the <span style=" color: #FF1CCE;">sqrt() </span>function is</p><p class="s23">sqrt(x);</p><p>where <span class="s23">x </span>is a number or expression that evaluates as a <span style=" color: #F00;">double </span>data type. In Program B.3, the length of the hypotenuse is represented by the distance between points (0, 0) and (3, 4). Given that the length of leg <span class="s5">a </span>is represented by the distance between (0, 0) and (3, 0), which is 3, and the length of leg <span class="s5">b </span>is represented by the distance between (0, 0) and (0, 4), which is 4, the line<br/><span><IMG width="625" height="15" src="chlinkbot/Image_1149.png"/></span></p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;distance =  %lf\n&quot;</span>,   <span style=" color: #FF1CCE;">sqrt</span>(3*3   +  4*4));</p><p>calculates the hypotenuse of the triangle drawn by the virtual Linkbot-I and then prints it to the input/output pane. After this statement, the input/output pane will display the following lines<br/><span><IMG width="625" height="59" src="chlinkbot/Image_1150.png"/></span></p><p class="s17">getxy(x, y) =  (3.000506, -0.004528) getxy(x, y) =  (3.004118,  3.994140) getxy(x, y) =  (-0.001259,  0.004295) distance =  5.000000</p><p>The <span style=" color: #FF1CCE;">CPlot </span>member functions line() and sizeRatio() are used to generate the plot of the virtual<br/>Linkbot-I’s trajectory. The syntax of the member function line() is</p><p class="s23">plot.line(x1, y1, x2, y2);</p><p>This function draws a straight line between the two points (<span class="s5">x</span><span class="s45">1</span>, <span class="s5">y</span><span class="s45">1</span>) and (<span class="s5">x</span><span class="s45">2</span>, <span class="s5">y</span><span class="s45">2</span>). The lines<br/><span><IMG width="625" height="45" src="chlinkbot/Image_1151.png"/></span><br/>plot the three sides of the right triangle, from point (0, 0), to point (3, 0), back to point (3, 4).<br/>A plot is typically displayed in a rectangular area with the proper scale. The <span class="s20">aspect ratio </span>of a plot is the ratio of the length of the y-axis to the length of the x-axis. It can be set by the <span style=" color: #FF1CCE;">CPlot </span>member function sizeRatio(), which has the following general syntax</p><p class="s23">plot.sizeRatio(ratio);</p><p>where the argument <span class="s23">ratio </span>specifies the aspect ratio. The line<br/><span><IMG width="625" height="15" src="chlinkbot/Image_1152.png"/></span></p><p class="s17">plot.sizeRatio(1);</p><p>273<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.1.  Move a Linkbot-I in a Coordinate System<br/><span><IMG width="239" height="154" src="chlinkbot/Image_1153.jpg"/></span><br/>Figure B.4: A right triangle with length <span class="s5">c </span>for the hypotenuse, and lengths <span class="s5">a </span>and <span class="s5">b </span>for the other two legs.<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1154.jpg"/></span><br/>Figure B.5: The RoboSim scene with the robot trajectory of a right triangle from Program B.3.<br/><span><IMG width="228" height="228" src="chlinkbot/Image_1155.png"/></span></p><p class="s44">5</p><p class="s44">4</p><p class="s44">3</p><p class="s44">2</p><p class="s44">1</p><p class="s44">0</p><p class="s44">0               1               2               3               4               5</p><p class="s44">x (in)</p><p>Figure B.6: The plot for the right triangle traveled by the robot from Program B.3.<br/>274<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.1.  Move a Linkbot-I in a Coordinate System<br/><span><IMG width="23" height="16" src="chlinkbot/Image_1156.jpg"/></span><br/>displays a plot in a square box where the ranges for x and y are the same. The plot generated by Program B.3 is shown in Figure B.6. Toggle the ’r’ key in the RoboSim GUI to get a clear view of the right triangle traced by the movement of the virtual Linkbot-I, as Figure B.5 shows.<br/>Do Exercise 5 on page 278.<br/>Unlike the member function drivexyTo() moving to the absolute location (x, y) in the x and y coordinate system, the member function drivexy() drive the Linkbot-I by x and y relative to its current position in the x and y coordinate system. The syntax of the member function drivexy() is as follows.</p><p class="s23">robot.drivexy(x, y, radius, trackwidth);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_1157.jpg"/></span><br/>Programs <span class="s23">drivexyto2.ch </span>and <span class="s23">drivexy2.ch</span>, distributed along with other sample programs, demon- strate the differences between the member functions drivexyTo() and drivexy().<br/>Do Exercise 6(b) on page 278.</p><p class="s3">B.1.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1158.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.drivexyTo(x, y,  radius, trackwidth);</p><p>to drive a Linkbot-I from one point to another in an x and y coordinate system. This function works in RoboSim only.<br/>2. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.drivexy(x, y, radius, trackwidth);</p><p>to drive a Linkbot-I by x and y relative to its current position in the x and y coordinate system.<br/>3. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.getxy(x, y);</p><p>to obtain the position of a Linkbot-I in an x and y coordinate system. This function works in RoboSim only.<br/>4. Call the <span style=" color: #FF1CCE;">CPlot </span>member function</p><p class="s23">plot.point(x, y);</p><p>to plot a point.<br/>5. Call the <span style=" color: #FF1CCE;">CPlot </span>member function</p><p class="s23">plot.line(x1, y1, x2, y2);</p><p>to plot a straight line between (<span class="s5">x</span><span class="s45">1</span>, <span class="s5">y</span><span class="s45">1</span>) and (<span class="s5">x</span><span class="s45">2</span>, <span class="s5">y</span><span class="s45">2</span>).<br/>6. Call the <span style=" color: #FF1CCE;">CPlot </span>member function</p><p class="s23">plot.sizeRatio(ratio);</p><p>to set the aspect ratio of a plot.<br/>7. Call the function</p><p class="s23">sqrt(x);</p><p>to find the square root of a number.<br/>275<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.1.  Move a Linkbot-I in a Coordinate System</p><p class="s3">B.1.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1159.png"/></span><br/>robot.drivexyTo(), robot.drivexy(), robot.getxy(), plot.point(),  plot.line(), plot.sizeRatio(), aspect ratio,</p><p class="s11">sqrt<span style=" color: #000;">().</span></p><p class="s3">B.1.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1160.png"/></span><br/>1. Write a program <span class="s23">drivexyto3.ch</span>, similar to Program B.1, to drive a Linkbot-I from (0, 0) to<br/>(0, 8). Run this program to simulate the motion of the robot in RoboSim.<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1161.jpg"/></span><br/>Figure B.7: Moving a virtual Linkbot-I along the y-axis from (0, 0) to (0, 8).<br/>2. Write a program <span class="s23">drivexyto4.ch </span>to drive a Linkbot-I from (0, 0) to (6, 0). Run this program to simulate the motion of the robot in RoboSim.<br/>276<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.1.  Move a Linkbot-I in a Coordinate System<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1162.jpg"/></span><br/>Figure B.8: Moving a virtual Linkbot-I along the x-axis from (0, 0) to (6, 0).<br/>3. Write a program <span class="s23">drivexyto5.ch </span>to drive a virtual Linkbot-I in RoboSim from (0, 0) to (6, 8).<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1163.jpg"/></span><br/>Figure B.9: Moving a virtual Linkbot-I from (0, 0) to (6, 8).<br/>4. Write a program <span class="s23">points2.ch</span>, based on Program B.2, to drive a virtual Linkbot-I in RoboSim from (0, 0) to the following multiple points (-12, -5.5), (-24, -30), (-36, -10), and (-48, -5). Use plot.point() to plot the individual points. How does this graph relate to the graph generated by Program B.2?<br/>277<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.1.  Move a Linkbot-I in a Coordinate System<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1164.jpg"/></span><br/>Figure B.10: The RoboSim scene with the robot trajectory for program <span class="s23">points2.ch</span><br/>5. Write a program <span class="s23">righttriangle2.ch</span>,  based on Program B.3, to drive a virtual Linkbot-I  in RoboSim from (0, 0), to (-6, 0), then to (-6, 8), and back to (0, 0).  Calculate the length of  the hypotenuse for this triangle, and use plot.line() and plot.sizeRatio() to plot the right triangle.  How does this graph relate to the graph generated by Program B.3?<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1165.jpg"/></span><br/>Figure B.11: The RoboSim scene with the robot trajectory for program <span class="s23">righttriangle2.ch</span><br/>6. Move a Linkbot-I from I from (0, 0) to (12, 10), then to (7, 24).  Use getxy() to get the x and y coordinates of the robot when the robot is drived from one position to the other.<br/>278<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.2.  Move a Linkbot-I Along a Trajectory<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1166.jpg"/></span><br/>Figure B.12: The RoboSim scene with the robot trajectories for programs <span class="s23">drivexyto6.ch </span>and</p><p class="s23">drivexy6ch</p><p>(a) Write a program <span class="s23">drivexyto6.ch </span>using the member function drivexyTo(). (b) Write a program <span class="s23">drivexy6.ch </span>using the member function drivexy().</p><p class="s21">B.2    Move a Linkbot-I Along a Trajectory</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1167.png"/></span><br/>A virtual Linkbot-I can also be programmed to drive along the trajectory based on a function or expression, such as a polynomial curve. In order to achieve this effect, the Linkbot must travel to many more points, with shorter distances between these points. Moving a Linkbot along a trajectory specified by a function can be accomplished by the member function drivexyToFunc(). The syntax of the member function drivexyTo- Func() is as follows.</p><p class="s23">robot.drivexyToFunc(x0, xf, num,  func, radius, trackwidth);</p><p>This member function drives a Linkbot-I following the trajectory specified by the function defined as <span class="s23">func() </span>in the range <span class="s23">[x0, xf] </span>using <span class="s23">num </span>points.  The last two arguments specify the radius of the two wheels and the track width of the robot.<br/>Program B.4 drives a virtual Linkbot-I along the trajectory of a parabola in a coordinate system. Before running Program B.4, set the initial position of the Linkbot-I in the RoboSim GUI to (<span class="s5">−6</span>, 5.5).<br/>279<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.2.  Move a Linkbot-I Along a Trajectory<br/><span><IMG width="624" height="585" src="chlinkbot/Image_1168.png"/></span></p><p class="s25">/* File: drivexytoFunc.ch</p><p class="s25">Note:   This program uses  drivexyToFunc()   available in RoboSim  only.</p><p class="s25">Set the initial position (x, y) in RoboSim GUI to  (-6, 5.5) for the robot.</p><p class="s25">A  robot  moves along a polynomial  curve  y =  0.5(x+5)(x-5)  for  x from -6 to 6. Plot  the polynomial y for  x from -6 to 6 with 500 points.</p><p class="s25">The range  of x-axis is from -12 to 12. The range  of y-axis is from -15 to 12. The tics range for  x and y axes is 1. */</p><p class="s27">#include &lt;chplot.h&gt;    <span style=" color: #009800;">/* for CPlot */</span></p><p class="s27">#include &lt;linkbot.h&gt;   <span style=" color: #009800;">/* for CLinkbotI */</span></p><p class="s33">double <span style=" color: #000;">func(</span>double <span style=" color: #000;">x)  {</span></p><p class="s33">return <span style=" color: #000;">0.5*(x+5)*(x-5);</span></p><p class="s17">}</p><p class="s16">CPlot <span style=" color: #000;">plot; </span>CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;         </span><span style=" color: #009800;">//  radius of 1.75 inches</span></p><p class="s33">double <span style=" color: #000;">trackwidth  =  3.69;      </span><span style=" color: #009800;">// the track width,   the distance  between two wheels</span></p><p class="s33">double <span style=" color: #000;">x, y;                   </span><span style=" color: #009800;">// x and y coordinates</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* move  the robot along the polynomial curve */</p><p class="s17">robot.drivexyToFunc(-6, 6, 60, func, radius, trackwidth);</p><p class="s25">/* plot  the polynomial curve */</p><p class="s17">plot.mathCoord();</p><p class="s17">plot.title(<span style=" color: #7F007F;">&quot;y =  0.5(x+5)(x-5)&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_X, <span style=" color: #7F007F;">&quot;x&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;y&quot;</span>);</p><p class="s17">plot.axisRange(PLOT_AXIS_X, -12, 12);</p><p class="s17">plot.axisRange(PLOT_AXIS_Y, -15, 12);</p><p class="s17">plot.ticsRange(PLOT_AXIS_X, 1);</p><p class="s17">plot.ticsRange(PLOT_AXIS_Y, 1);</p><p class="s17">plot.func2D(-6, 6, 500, func);</p><p class="s17">plot.plotting();</p><p>Program B.4: Moving a Linkbot-I to follow a polynomial curve using drivexyToFunc().<br/>Recall that a parabola is a graph of a quadratic equation.  A quadratic equation is a second-degree polynomial equation of the form</p><p class="s5">y  = ax<span class="s45">2   </span>+ bx  + c</p><p>where <span class="s5">a /= 0</span>. Graphs of parabolas are smooth, cup-shaped symmetric curves with a top or bottom point where the curve changes direction, called a vertex. If <span class="s5">a &gt; 0</span>, the curve opens up and the <span class="s5">y</span>-coordinate of the vertex is the minimum value of <span class="s5">y</span>. If <span class="s5">a &lt; 0</span>, it opens down and the <span class="s5">y</span>-coordinate is the minimum value of <span class="s5">y</span>. The quadratic equation in Program B.4 is</p><p class="s5">y  =  0.5(x +  5)(x  −  5) = 0.5x<span class="s45">2   </span>−  25</p><p>Since <span class="s5">a &gt; 0 </span>in this case, the curve opens up.<br/>280<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.2.  Move a Linkbot-I Along a Trajectory<br/>In Program B.4 a function <span class="s23">func() </span>is used to define this quadratic equation, which calculates the <span class="s5">y</span>- coordinate for each point the virtual Linkbot-I travels to on the parabola. The function <span class="s23">func() </span>is defined as<br/><span><IMG width="624" height="59" src="chlinkbot/Image_1169.png"/></span></p><p class="s25">/* define the function func()   */</p><p class="s33">double <span style=" color: #000;">func(</span>double <span style=" color: #000;">x)  {</span></p><p class="s33">return <span style=" color: #000;">0.5*(x+5)*(x-5);</span></p><p class="s17">}</p><p>This function takes in an argument of type <span style=" color: #F00;">double</span>, which is the <span class="s5">x</span>-coordinate of a point. The function returns a value of type <span style=" color: #F00;">double</span>, which is the corresponding <span class="s5">y</span>-coordinate. Since <span class="s23">func() </span>is defined before it is used in Program B.4, a function prototype is not needed.<br/>After the virtual Linkbot-I is connected and reset to the zero position, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1170.png"/></span></p><p class="s17">robot.drivexyToFunc(-6, 6, 60, func, radius, trackwidth);</p><p>drives the robot for x from <span class="s5">−6 </span>to 6 along the parabola with 60 points. When x is <span class="s5">−6 </span>or 6, y is 5.5. Therefore, the robot drives from the coordinate <span class="s5">(−6, 5.5) </span>to (6, 5.5). Figure B.13 shows the resulting smooth parabolic trajectory.<br/>To plot the parabolic trajectory, the <span style=" color: #FF1CCE;">CPlot </span>member functions axisRange(), ticsRange(), and func2D() are used. An <span class="s20">axis range </span>describes the beginning and ending numbers shown on each axis. The axis range can be set by the member function axisRange(), which has the general syntax</p><p class="s23">plot.axisRange(axis, minimum,  maximum);</p><p>The argument <span class="s23">axis </span>specifies either the x or y axis of the plot. The arguments <span class="s23">minimum </span>and <span class="s23">maximum</span><br/>specify the start and end points of the range.<br/>A <span class="s20">tick mark </span>is the interval between units on each axis. This interval can be set by the member function<br/>ticsRange(), which has the general syntax</p><p class="s23">plot.ticsRange(axis, incr);</p><p>Like the member function axisRange(), the first argument <span class="s23">axis </span>specifies either the x or y axis. The second argument <span class="s23">incr </span>gives the increment between tick marks.<br/>The relation represented in a function can be plotted by using the <span style=" color: #FF1CCE;">CPlot </span>member function func2D(). The syntax of this function is</p><p class="s23">plot.func2D(x0, xf, num,  func);</p><p>This member function will plot a function defined as <span class="s23">func() </span>in the range <span class="s23">[x0, xf] </span>using <span class="s23">num </span>points.<br/>In Program B.4, the following lines<br/><span><IMG width="624" height="73" src="chlinkbot/Image_1171.png"/></span></p><p class="s17">plot.axisRange(PLOT_AXIS_X, -12, 12); plot.axisRange(PLOT_AXIS_Y, -15, 12); plot.ticsRange(PLOT_AXIS_X, 1); plot.ticsRange(PLOT_AXIS_Y, 1); plot.func2D(-6, 6, 500, func);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_1172.jpg"/></span></p><p class="s23"><span class="p">plots the trajectory of the virtual Linkbot-I for the ranges </span>[<span class="s5">−12</span>,   12] <span class="p">and </span>[<span class="s5">−15</span>,   12] <span class="p">on the x and y axes, with an increment of 1 between tick marks. 500 points are used to plot the curve, since plotting with </span><span class="s11">CPlot </span><span class="p">member functions requires more accuracy. Figure B.14 shows the generated graph.</span></p><p>Do Exercise 1 on page 284.<br/>Moving a Linkbot along a trajectory specified by an expression in terms of a variable can also be accom- plished by the member function drivexyToExpr(). The syntax of the member function drivexyToExpr() is as follows.<br/>281<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.2.  Move a Linkbot-I Along a Trajectory<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1173.jpg"/></span><br/>Figure B.13: The RoboSim scene with the robot trajectory of a polynomial from Programs B.4, B.5, and<br/>B.13.</p><p class="s44">12</p><p class="s44">11</p><p class="s44">10</p><p class="s44">9</p><p class="s44">8</p><p class="s44">7</p><p class="s44">6</p><p class="s44">5</p><p class="s44">4</p><p class="s44">3</p><p class="s44">2</p><p class="s44">1</p><p class="s44">0</p><p class="s44">-1</p><p class="s44">-2</p><p class="s44">-3</p><p class="s44">-4</p><p class="s44">-5</p><p class="s44">-6</p><p class="s44">-7</p><p class="s44">-8</p><p class="s44">-9</p><p class="s44">-10</p><p class="s44">-11</p><p class="s44">-12</p><p class="s44">-13</p><p class="s44">-14</p><p class="s44">-15</p><p><span><IMG width="328" height="212" src="chlinkbot/Image_1174.png"/></span></p><p class="s44">y = 0.5(x+5)(x-5)</p><p class="s44">-12-11-10 -9  -8  -7  -6  -5  -4  -3  -2  -1  0   1   2   3   4   5   6   7   8   9  10 11 12</p><p class="s44">x</p><p>Figure B.14: The plot for the polynomial traveled by the robot from Programs B.4, B.5, and B.13.<br/>282<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.2.  Move a Linkbot-I Along a Trajectory</p><p class="s23">robot.drivexyToExpr(x0, xf, num,  expr, radius, trackwidth);</p><p>This member function drives a Linkbot-I based on an expression with the variable x, for x from <span class="s23">x0 </span>to <span class="s23">xf </span>with <span class="s23">num </span>number of points. The expression <span class="s23">t expr </span>should be a valid Ch expression in terms of the variable <span class="s23">x</span>. The last two arguments specify the radius of the two wheels and track width of the robot.<br/>Program B.5 is the same as Program B.4, except that it uses the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1175.png"/></span></p><p class="s17">robot.drivexyToExpr(-6, 6, 60, <span style=" color: #7F007F;">&quot;0.5*(x+5)*(x-5)&quot;</span>,   radius, trackwidth);</p><p>to  drive  the  robot  for  x  from  <span class="s5">−6  </span>to  6  along  the  parabola  with  60  points  using  the  expression</p><p class="s23">&quot;0.5*(x+5)*(x-5)&quot;<span class="p">, instead of using the member function drivexyToFunc(). The output from Pro- gram B.5 is the same as that from Program B.4, as shown in Figures B.13 and B.14.</span></p><p><span><IMG width="624" height="526" src="chlinkbot/Image_1176.png"/></span></p><p class="s25">/* File: drivexytoexpr.ch</p><p class="s25">Note:   This program uses  drivexyToExpr()   available in RoboSim  only.</p><p class="s25">Set the initial position (x, y) in RoboSim GUI to  (-6, 5.5) for the robot.</p><p class="s25">A  robot  moves along a polynomial  curve  y =  0.5(x+5)(x-5)  for  x from -6 to 6. Plot  the polynomial y for  x from -6 to 6 with 500 points.</p><p class="s25">The range  of x-axis is from -12 to 12. The range  of y-axis is from -15 to 12. The tics range for  x and y axes is 1. */</p><p class="s27">#include &lt;chplot.h&gt;    <span style=" color: #009800;">/* for CPlot */</span></p><p class="s27">#include &lt;linkbot.h&gt;   <span style=" color: #009800;">/* for CLinkbotI */</span></p><p class="s16">CPlot <span style=" color: #000;">plot; </span>CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;         </span><span style=" color: #009800;">//  radius of 1.75 inches</span></p><p class="s33">double <span style=" color: #000;">trackwidth  =  3.69;      </span><span style=" color: #009800;">// the track width,   the distance  between two wheels</span></p><p class="s33">double <span style=" color: #000;">x, y;                   </span><span style=" color: #009800;">// x and y coordinates</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* move  the robot along the polynomial curve */</p><p class="s17">robot.drivexyToExpr(-6, 6, 60, <span style=" color: #7F007F;">&quot;0.5*(x+5)*(x-5)&quot;</span>,   radius, trackwidth);</p><p class="s25">/* plot  the polynomial curve */</p><p class="s17">plot.mathCoord();</p><p class="s17">plot.title(<span style=" color: #7F007F;">&quot;y =  0.5(x+5)(x-5)&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_X, <span style=" color: #7F007F;">&quot;x&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;y&quot;</span>);</p><p class="s17">plot.axisRange(PLOT_AXIS_X, -12, 12);</p><p class="s17">plot.axisRange(PLOT_AXIS_Y, -15, 12);</p><p class="s17">plot.ticsRange(PLOT_AXIS_X, 1);</p><p class="s17">plot.ticsRange(PLOT_AXIS_Y, 1);</p><p class="s17">plot.expr(-6, 6, 500, <span style=" color: #7F007F;">&quot;0.5*(x+5)*(x-5)&quot;</span>);</p><p class="s17">plot.plotting();</p><p>Program B.5: Moving a Linkbot-I to follow a polynomial curve using drivexyToExpr().<br/><span><IMG width="23" height="16" src="chlinkbot/Image_1177.jpg"/></span><br/>Do Exercise 2 on page 285.<br/>283<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.2.  Move a Linkbot-I Along a Trajectory</p><p class="s3">B.2.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1178.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.drivexyToFunc(x0, xf, num,  func, radius, trackwidth);</p><p>drives a Linkbot-I based on a function <span class="s23">func()</span>, for x from <span class="s23">x0 </span>to <span class="s23">xf </span>with <span class="s23">num </span>number of points.<br/>2. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.drivexyToExpr(x0, xf, num,  expr, radius, trackwidth);</p><p>drives a Linkbot-I based on an expression <span class="s23">expr </span>in terms of the variable x, for x from <span class="s23">x0 </span>to <span class="s23">xf </span>with</p><p class="s23">num <span class="p">number of points.</span></p><p>3. Call the <span style=" color: #FF1CCE;">CPlot </span>member function</p><p class="s23">plot.axisRange(axis, minimum,  maximum);</p><p>to set the range of an axis in a plot.<br/>4. Call the <span style=" color: #FF1CCE;">CPlot </span>member function</p><p class="s23">plot.ticsRange(axis, incr);</p><p>to set the increment between tick marks for a plot.<br/>5. Call the <span style=" color: #FF1CCE;">CPlot </span>member function</p><p class="s23">plot.func2D(x0, xf, num,  func);</p><p>to plot the function func() for x in the range <span class="s23">[x0, xf] </span>using <span class="s23">num </span>points.</p><p class="s3">B.2.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1179.png"/></span><br/>robot.drivexyToFunc(), robot.drivexyToExpr(), plot.axisRange(),  plot.ticsRange(),  plot.func2D(), axis range, tick mark.</p><p class="s3">B.2.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1180.png"/></span><br/>1. Write a program <span class="s23">drivexytofunc2.ch </span>using the member function drivexyToFunc(), based on<br/>Program B.4, that drives a virtual Linkbot-I along the trajectory of a parabola from (-6, -5.5) to (6,<br/>-5.5). This parabola will open downward, with vertex at (0, 12.5). Use the <span style=" color: #FF1CCE;">CPlot </span>member functions<br/>axisRange(), ticsRange(), and func2D() to generate a plot of the virtual Linkbot-I’s trajectory.<br/>284<br/>B.3.  Trace the Positions of a Linkbot-I<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1181.jpg"/></span><br/>Figure B.15: The RoboSim scene with the robot trajectory for program <span class="s23">drivexytofunc2.ch</span><br/>2. Write a program <span class="s23">drivexytoexpr2.ch</span>, using the member function drivexyToExpr(), based on<br/>Program B.5, that drives a virtual Linkbot-I along the trajectory of a parabola from (-6, -5.5) to (6,<br/>-5.5), as shown in Figure B.15.</p><p class="s21">B.3    Trace the Positions of a Linkbot-I</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1182.png"/></span><br/>When the check box “Enable Robot Position Tracing”, as shown in Figure 4.1 on page 48, is selected on the RoboSim GUI, the trajectory for each Linkbot will be traced and displaced on the RoboSim scene. In soe applications, it will be desirable to only trace certain parts of a trajectory. This can be accomplished by the member functions traceOn()  and traceOff().  The member function traceOn()  turns on tracing for a robot whereas traceOff()  turns off tracing. The syntaxes of the member functions traceOn()  and traceOff()  are as follows.</p><p class="s23">robot.traceOn();</p><p class="s23">robot.traceOff();</p><p>These two member functions inside a program will overwrite the setting for the tracing selected on the<br/>RoboSim GUI.<br/>Program B.6 demonstrates how to draw two parallel lines using a Linkbot-I as shown in Figure B.16. The motion and tracing of lines are handled by the following code segment in Program B.6.<br/><span><IMG width="624" height="117" src="chlinkbot/Image_1183.png"/></span></p><p class="s17">robot.traceOn();</p><p class="s17">robot.drivexyTo(6, 5, radius, trackwidth);  <span style=" color: #009800;">//  line from (0, 0) to (6, 5)</span></p><p class="s17">robot.traceOff();</p><p class="s17">robot.drivexyTo(0, 10, radius, trackwidth); <span style=" color: #009800;">//  line from (6,  5) to (0,  10)</span></p><p class="s17">robot.traceOn();</p><p class="s17">robot.drivexyTo(6, 15, radius, trackwidth); <span style=" color: #009800;">//  line from (0,  10) to (6,  15)</span></p><p>285<br/>B.3.  Trace the Positions of a Linkbot-I<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>Before the robot is drived from (0, 0) to (6, 5), the tracing is turned on to draw the first line.  For the movement from (6, 5) to (0, 10), the tracing is turned off. Before the robot is drived from (0, 10) to (6, 15), the tracing is turned on again to draw the second line, which is parallel to the fist line.<br/><span><IMG width="624" height="293" src="chlinkbot/Image_1184.png"/></span></p><p class="s25">/* File: traceon.ch</p><p class="s25">Turn trakce  on  and  off with  two Linkbot-Is</p><p class="s25">Set the initial position (x, y) in RoboSim GUI to  (0, 0) for robot.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;         </span><span style=" color: #009800;">//  radius of 1.75 inches</span></p><p class="s33">double <span style=" color: #000;">trackwidth  =  3.69;      </span><span style=" color: #009800;">// the track width,   the distance  between two wheels</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZeroNB();</p><p class="s17">robot.traceOn();</p><p class="s17">robot.drivexyTo(6, 5, radius, trackwidth);  <span style=" color: #009800;">//  line from (0, 0) to (6, 5)</span></p><p class="s17">robot.traceOff();</p><p class="s17">robot.drivexyTo(0, 10, radius, trackwidth); <span style=" color: #009800;">//  line from (6,  5) to (0,  10)</span></p><p class="s17">robot.traceOn();</p><p class="s17">robot.drivexyTo(6, 15, radius, trackwidth); <span style=" color: #009800;">//  line from (0,  10) to (6,  15)</span></p><p>Program B.6: Drawing two parallel lines from (0, 0) to (6, 5) and from (0, 10) to (6, 15).<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1185.jpg"/></span><br/><span><IMG width="23" height="16" src="chlinkbot/Image_1186.jpg"/></span><br/>Figure B.16: The RoboSim scene with the robot trajectory from Programs B.6 and B.7. Do Exercise 1, on 287.<br/>286<br/>B.4.  Record the Positions of a Linkbot-I<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim</p><p class="s3">B.3.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1187.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.traceOn();</p><p>to turn on tracing of positions for a Linkbot-I.<br/>2. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.traceOff();</p><p>to turn off tracing of positions for a Linkbot-I.</p><p class="s3">B.3.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1188.png"/></span><br/>robot.traceOn(), robot.traceOff(), and trace the trajectory of a robot.</p><p class="s3">B.3.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1189.png"/></span><br/>1. Write a program <span class="s23">traceon3.ch </span>to trace the letter ’A’ in RoboSim as shown in Figure B.17.  The horizontal line for the letter ’A’ can be drawn from the point <span class="s5">(−2.5, 5) </span>to the point (2.5 5).<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1190.jpg"/></span><br/>Figure B.17: Moving a virtual Linkbot-I to trace a letter ’A’.</p><p class="s21">B.4    Record the Positions of a Linkbot-I</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1191.png"/></span><br/>We learned in Section 9.1.6 on how to record and plot the distances versus time for a Linkbot. It is also possible to record and plot the positions (x, y) in a coordinate system for a Linkbot-I in RoboSim.  To<br/>287<br/>B.4.  Record the Positions of a Linkbot-I<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>record the position data in RoboSim, we use the two <span style=" color: #FF1CCE;">CLinkbotI </span>member functions recordxyBegin() and<br/>recordxyEnd().<br/>The general syntax for the function recordxyBegin() is</p><p class="s23">robot.recordxyBegin(xdata, ydata, timeInterval);</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_1192.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1193.png"/></span><br/>The first and second arguments <span class="s23">xdata </span>and <span class="s23">ydata </span>contain the data points for positions (x, y) of the Linkbot-I. They are variables of type <span style=" color: #FF1CCE;">robotRecordData t</span>.   The reason for this is the same as why the <span class="s23">timedata </span>and <span class="s23">distances </span>arguments are of type <span style=" color: #FF1CCE;">robotRecordData t </span>in Program B.7.  The third ar- gument <span class="s23">timeInterval </span>is the time interval between position readings. The minimum possible value for <span class="s23">timeInterval </span>is 0.05 seconds.<br/>The general syntax for the function recordxyEnd() is</p><p class="s23">robot.recordxyEnd(numDataPoints);</p><p>The argument <span class="s23">numDataPoints </span>is the total number of data points that were recorded while the Linkbot-I<br/>was moving.<br/>Program B.6 draws two parallel lines as shown in Figure B.16. Based on Program B.6, Program B.7 records the positions (x, y) for the Linkbot-I and plots the acquired data using the Ch plotting member functions with the output shown in Figure B.18.<br/>288<br/>B.4.  Record the Positions of a Linkbot-I<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/><span><IMG width="624" height="658" src="chlinkbot/Image_1194.png"/></span></p><p class="s25">/* File: recordxy.ch</p><p class="s25">Trace  and record  the  x and y positions,   plot  the acquired data</p><p class="s25">Set the initial position (x, y) in RoboSim GUI to  (0, 0) for robot.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s27">#include &lt;chplot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;         </span><span style=" color: #009800;">//  radius of 1.75 inches</span></p><p class="s33">double <span style=" color: #000;">trackwidth  =  3.69;      </span><span style=" color: #009800;">// the track width,   the distance  between two wheels</span></p><p class="s33">double <span style=" color: #000;">timeInterval =  0.1; </span><span style=" color: #009800;">// time interval in 0.1 second</span></p><p class="s33">int <span style=" color: #000;">numDataPoints;         </span><span style=" color: #009800;">// number  of data points recorded</span></p><p class="s16">robotRecordData_t <span style=" color: #000;">xdata, ydata; </span><span style=" color: #009800;">// recorded  x and y positions</span></p><p class="s16">CPlot <span style=" color: #000;">plot;                       </span><span style=" color: #009800;">// plotting class</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s25">/* begin recording  x and y positions  */</p><p class="s17">robot.recordxyBegin(xdata, ydata, timeInterval);</p><p class="s17">robot.traceOn();</p><p class="s17">robot.drivexyTo(6, 5, radius, trackwidth);  <span style=" color: #009800;">//  line from (0, 0) to (6, 5)</span></p><p class="s17">robot.traceOff();</p><p class="s17">robot.drivexyTo(0, 10, radius, trackwidth); <span style=" color: #009800;">//  line from (6,  5) to (0,  10)</span></p><p class="s17">robot.traceOn();</p><p class="s17">robot.drivexyTo(6, 15, radius, trackwidth); <span style=" color: #009800;">//  line from (0,  10) to (6,  15)</span></p><p class="s25">/* end recording  x and y positions  */</p><p class="s17">robot.recordxyEnd(numDataPoints);</p><p class="s17"><span style=" color: #009800;">/* plot the data */ </span>plot.mathCoord(); plot.title(<span style=" color: #7F007F;">&quot;Position&quot;</span>); plot.label(PLOT_AXIS_X,  <span style=" color: #7F007F;">&quot;X (inches)&quot;</span>); plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;Y (inches)&quot;</span>); plot.axisRange(PLOT_AXIS_X, -5, 15); plot.axisRange(PLOT_AXIS_Y, 0, 20);</p><p class="s17">plot.data2DCurve(xdata, ydata, numDataPoints); <span style=" color: #F00;">int   </span>datanum  =  0,  pointType =  7, pointSize =  1; plot.plotType(PLOT_PLOTTYPE_POINTS,  datanum); plot.pointType(datanum, pointType, pointSize, <span style=" color: #7F007F;">&quot;green&quot;</span>); plot.sizeRatio(1);</p><p class="s17">plot.plotting();</p><p>Program B.7: Plotting the positions of a Linkbot-I.<br/>Similar to Program 9.6, we begin the recording of positions when the tracing of the trajectory is turned on. The statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1195.png"/></span></p><p class="s17">robot.recordxyBegin(xdata, ydata, timeInterval);</p><p>starts recording the positions of the Linkbot-I every 0.1 second. Only the positions displayed on the traced trajectory will be recorded. After the Linkbot stops moving, the statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1196.png"/></span></p><p class="s17">robot.recordxyEnd(JOINT1,  numDataPoints);</p><p>stops recording the positions for the traced trajectory.<br/>289<br/>B.4.  Record the Positions of a Linkbot-I<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim</p><p class="s47">Position</p><p><span><IMG width="265" height="267" src="chlinkbot/Image_1197.png"/></span></p><p class="s47">20</p><p class="s47">15</p><p class="s47">10</p><p class="s47">5</p><p class="s47">0</p><p class="s47">-5                  0                  5                 10                15</p><p class="s47">X (inches)</p><p>Figure B.18: The plot for the positions Program B.7.<br/>By default, adjacent data points in a plot are connected each other to form a line. To plot the positions of the traced trajectory, we need to plot the position data using the point type for the plot. This is accomplished by the code fragment below.<br/><span><IMG width="624" height="44" src="chlinkbot/Image_1198.png"/></span></p><p class="s17"><span style=" color: #F00;">int </span>datanum  =  0,  pointType =  7, pointSize =  1; plot.plotType(PLOT_PLOTTYPE_POINTS,  datanum); plot.pointType(datanum, pointType, pointSize, <span style=" color: #7F007F;">&quot;green&quot;</span>);</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_1199.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1200.png"/></span><br/><span><IMG width="23" height="16" src="chlinkbot/Image_1201.jpg"/></span><br/>The member function plotType() uses the macro PLOT  PLOTTYPE POINTS to set the plot type to the point type. The member function pointType() sets the type, size, and color for points.<br/>Do Exercise 1 on page 291.</p><p class="s3">B.4.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1202.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.recordxyBegin(xdata, ydata, timeInterval);</p><p>to start recording positions (x, y) of the traced trajectory for a Linkbot-I in a specified interval between position readings.<br/>2. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.recordxyEnd(id,  num);</p><p>to stop recording positions of the traced trajectory for a Linkbot-I.<br/>3. Call the plotting member function<br/>290<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.5.  Create an Obstacle Course with Points, Lines, and Text on a RoboSim Scene</p><p class="s23">plot.plotType(PLOT_PLOTTYPE_POINTS,  datanum);</p><p>to plot points for the data set <span class="s23">datanum</span>.<br/>4. Call the plotting member function</p><p class="s23">plot.pointType(datanum, pointType, pointSize, &quot;green&quot;);</p><p>to change the type, size, and color of the points created by the data set <span class="s23">datanum</span>.</p><p class="s3">B.4.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1203.png"/></span><br/>robot.recordxyBegin(), robot.recordxyEnd(), plot.plotType(),  plot.pointType(),  and record positions.</p><p class="s3">B.4.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1204.png"/></span><br/>1. Based on the program <span class="s23">traceon3.ch </span>developed in Exercise 1 on on page 291, write a program</p><p class="s23">recordxy3.ch <span class="p">to record and plot the traced trajectory with the letter ’A’ as shown in Figure B.19.</span></p><p class="s48">Position</p><p><span><IMG width="159" height="160" src="chlinkbot/Image_1205.png"/></span></p><p class="s48">20</p><p class="s48">15</p><p class="s48">10</p><p class="s48">5</p><p class="s48">0</p><p class="s48">-10                 -5                  0                   5                  10</p><p class="s48">X (inches)</p><p>Figure B.19: A plot generated by the program <span class="s23">recordxy3.ch</span>.<br/><span><IMG width="624" height="53" src="chlinkbot/Image_1206.png"/></span></p><p class="s21">B.5    Create  an Obstacle  Course  with Points, Lines,</p><p class="s21">and Text on a RoboSim Scene</p><p>Points, lines, and text can be drawn on the RoboSim scene to create an obstacle course.  The member function point() of the <span style=" color: #FF1CCE;">CLinkbotI </span>class can draw a point on the RoboSim scene. The syntax of the member function point() is as follows.</p><p class="s23">robot.point(x, y, z,  pointsize, &quot;red&quot;);</p><p>The first three arguments specify the location (x, y, z) at which a point will be drawn. The fourth argument specifies the size of the point in an integer starting from 1. The last argument specifies the color of the point using a color name in a string, such as <span class="s23">&quot;red&quot; </span>for red.<br/>The member function line() can draw a straight line between the two points (<span class="s5">x</span><span class="s45">1</span>, <span class="s5">y</span><span class="s45">1</span>, <span class="s5">z</span><span class="s45">1</span>) and (<span class="s5">x</span><span class="s45">2</span>, <span class="s5">y</span><span class="s45">2</span>, <span class="s5">z</span><span class="s45">2</span>)<br/>on the RoboSim scene. The syntax of the member function line() is as follows.<br/>291<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.5.  Create an Obstacle Course with Points, Lines, and Text on a RoboSim Scene</p><p class="s23">robot.line(x1, y1, z1, x2, y2, z2, linewidth, &quot;red&quot;);</p><p>The first six arguments specify the two points (<span class="s5">x</span><span class="s45">1</span>, <span class="s5">y</span><span class="s45">1</span>, <span class="s5">z</span><span class="s45">1</span>) and (<span class="s5">x</span><span class="s45">2</span>, <span class="s5">y</span><span class="s45">2</span>, <span class="s5">z</span><span class="s45">2</span>). The seventh argument specifies the width of the point in an integer starting from 1. The last argument specifies the color of the line using a color name in a string, such as <span class="s23">&quot;red&quot; </span>for red.<br/>The member function text() draws a text on the RoboSim scene. The syntax of the member function<br/>line() is as follows.</p><p class="s23">robot.text(x, y, z, &quot;text&quot;);</p><p>The first three arguments specify the location (x, y, z) at which the text will be drawn and centered. The last argument specifies the text in a string.<br/>Program B.8 demonstrates how to use the member functions point(),  line(), and text().   The pro- gram uses the member function point() to draw five points at <span class="s5">(−9, 9, 0), (−3, 9, 0), (3, 9, 0), (9, 9, 0)</span>, and <span class="s5">(15, 9, 0) </span>with the point size of 1, 2, 3, 4, 5 in the red, green, blue, purple, and aqua colors, respectively, as shown in Figure B.20. For example, the function call<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1207.png"/></span></p><p class="s17">robot.point(-9, 9, 0, 1, <span style=" color: #7F007F;">&quot;red&quot;</span>);</p><p>draws a point at <span class="s5">(−9, 9, 0) </span>with the point size 1 in the red color. These points are labeled by the member function text(). For example, the function call<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1208.png"/></span></p><p class="s17">robot.text(-9, 9, 2.5, <span style=" color: #7F007F;">&quot;(-9,9)&quot;</span>);</p><p>draws the text <span class="s23">(-9, 9) </span>at the point <span class="s5">(−9, 9, 2.5)</span>.  The program also draws four lines of different widths and colors. For example, the function call<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1209.png"/></span></p><p class="s17">robot.line(-9, 18, 0, -3, 18, 0, 1, <span style=" color: #7F007F;">&quot;red&quot;</span>);</p><p>draws a straight line between the two points <span class="s5">(−9, 18, 0) </span>and <span class="s5">(−3, 18, 0) </span>with the line width of 1 in the red color. The RoboSim scene in Figure B.20 without a robot is accomplished by pressing the ’r’ key.<br/>292<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.5.  Create an Obstacle Course with Points, Lines, and Text on a RoboSim Scene<br/><span><IMG width="624" height="410" src="chlinkbot/Image_1210.png"/></span></p><p class="s25">/* File: pointlinetext.ch</p><p class="s25">Note:   This program marks points  by point()   and  text(),</p><p class="s25">lines by line() available only in RoboSim.   */</p><p class="s27">#include &lt;linkbot.h&gt;   <span style=" color: #009800;">/* for CLinkbotI */</span></p><p class="s16">CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s25">/* connect to the paired  robot */</p><p class="s17">robot.connect();</p><p class="s25">/* mark points  on the floor */</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s49">robot.point(-9,</p></td><td><p class="s49">9,</p></td><td><p class="s49">0,</p></td><td><p class="s49">1,</p></td><td><p class="s50">&quot;red&quot;<span style=" color: #000;">);</span></p></td></tr><tr><td><p class="s49">robot.point(-3,</p></td><td><p class="s49">9,</p></td><td><p class="s49">0,</p></td><td><p class="s49">2,</p></td><td><p class="s50">&quot;green&quot;<span style=" color: #000;">);</span></p></td></tr><tr><td><p class="s49">robot.point( 3,</p></td><td><p class="s49">9,</p></td><td><p class="s49">0,</p></td><td><p class="s49">3,</p></td><td><p class="s50">&quot;blue&quot;<span style=" color: #000;">);</span></p></td></tr><tr><td><p class="s49">robot.point( 9,</p></td><td><p class="s49">9,</p></td><td><p class="s49">0,</p></td><td><p class="s49">4,</p></td><td><p class="s50">&quot;purple&quot;<span style=" color: #000;">);</span></p></td></tr><tr><td><p class="s49">robot.point(15,</p></td><td><p class="s49">9,</p></td><td><p class="s49">0,</p></td><td><p class="s49">5,</p></td><td><p class="s50">&quot;aqua&quot;<span style=" color: #000;">);</span></p></td></tr></table><p class="s25">/* label the points */</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s49">robot.text(-9,</p></td><td><p class="s49">9,</p></td><td><p class="s49">2.5,</p></td><td><p class="s50">&quot;(-9,9)&quot;<span style=" color: #000;">);</span></p></td></tr><tr><td><p class="s49">robot.text(-3,</p></td><td><p class="s49">9,</p></td><td><p class="s49">2.5,</p></td><td><p class="s50">&quot;(-3,9)&quot;<span style=" color: #000;">);</span></p></td></tr><tr><td><p class="s49">robot.text(3,</p></td><td><p class="s49">9,</p></td><td><p class="s49">2.5,</p></td><td><p class="s50">&quot;(3,9)&quot;<span style=" color: #000;">);</span></p></td></tr><tr><td><p class="s49">robot.text(9,</p></td><td><p class="s49">9,</p></td><td><p class="s49">2.5,</p></td><td><p class="s50">&quot;(9,9)&quot;<span style=" color: #000;">);</span></p></td></tr><tr><td><p class="s49">robot.text(15,</p></td><td><p class="s49">9,</p></td><td><p class="s49">2.5,</p></td><td><p class="s50">&quot;(15,9)&quot;<span style=" color: #000;">);</span></p></td></tr></table><p class="s25">/* connect the points  by lines of different widths  and colors */</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s49">robot.line(-9,</p></td><td><p class="s49">18,</p></td><td><p class="s49">0,</p></td><td><p class="s49">-3,</p></td><td><p class="s49">18,</p></td><td><p class="s49">0,</p></td><td><p class="s49">1,</p></td><td><p class="s50">&quot;red&quot;<span style=" color: #000;">);</span></p></td></tr><tr><td><p class="s49">robot.line(-3,</p></td><td><p class="s49">18,</p></td><td><p class="s49">0,</p></td><td><p class="s49">3,</p></td><td><p class="s49">18,</p></td><td><p class="s49">0,</p></td><td><p class="s49">2,</p></td><td><p class="s50">&quot;green&quot;<span style=" color: #000;">);</span></p></td></tr><tr><td><p class="s49">robot.line( 3,</p></td><td><p class="s49">18,</p></td><td><p class="s49">0,</p></td><td><p class="s49">9,</p></td><td><p class="s49">18,</p></td><td><p class="s49">0,</p></td><td><p class="s49">3,</p></td><td><p class="s50">&quot;blue&quot;<span style=" color: #000;">);</span></p></td></tr><tr><td><p class="s49">robot.line( 9,</p></td><td><p class="s49">18,</p></td><td><p class="s49">0,</p></td><td><p class="s49">15,</p></td><td><p class="s49">18,</p></td><td><p class="s49">0,</p></td><td><p class="s49">4,</p></td><td><p class="s50">&quot;purple&quot;<span style=" color: #000;">);</span></p></td></tr></table><p>Program B.8: Drawing points, lines, and text on the RoboSim scene.<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1211.jpg"/></span><br/><span><IMG width="23" height="16" src="chlinkbot/Image_1212.jpg"/></span><br/>Figure B.20: The RoboSim scene with points, lines, and text, created by Program B.8. Do Exercises 1 and 2 on 297.<br/>293<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.5.  Create an Obstacle Course with Points, Lines, and Text on a RoboSim Scene<br/>Program B.9 uses the member functions point(), line(), and text() to create an obstacle course in the RoboSim scene first. It then drives a robot through the specified points along the obstacle course. Finally, it displays the obstacle course in a separate plot. The robot placed at the origin (0, 0) will travel through these points (12, 5.5), (24, 30), (36, 10), and (48, 5), specified by the member function point() with the point size of 2 and in different colors . These points are labeled by the member function text(). The obstacle course in the blue color is created by the member function line(). The lines<br/><span><IMG width="624" height="73" src="chlinkbot/Image_1213.png"/></span></p><p class="s25">/* drive the robot to specified  points */ <span style=" color: #000;">robot.drivexyTo(12, 5.5, radius, trackwidth); robot.drivexyTo(24, 30, radius,  trackwidth); robot.drivexyTo(36, 10, radius,  trackwidth); robot.drivexyTo(48, 5, radius,  trackwidth);</span></p><p>drive the robot through the specified points. The same points and lines are drawn in a Ch plot.<br/><span><IMG width="624" height="643" src="chlinkbot/Image_1214.png"/></span></p><p class="s25">/* File: obstaclecourse.ch</p><p class="s25">Note:   This program uses  drivexyTo()   to  move a Linkbot-I   to</p><p class="s25">multiple points in  an obstacle course marked by  point(),   text(), and  line().</p><p class="s25">Set the initial position (x, y) in RoboSim GUI to  (0,  0) for the robot.   */</p><p class="s27">#include &lt;chplot.h&gt;    <span style=" color: #009800;">/* for CPlot */</span></p><p class="s27">#include &lt;linkbot.h&gt;   <span style=" color: #009800;">/* for CLinkbotI */</span></p><p class="s16">CPlot <span style=" color: #000;">plot; </span>CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;         </span><span style=" color: #009800;">//  radius of 1.75 inches</span></p><p class="s33">double <span style=" color: #000;">trackwidth  =  3.69;      </span><span style=" color: #009800;">// the track width,   the distance  between two wheels</span></p><p class="s33">double  <span style=" color: #000;">speed  = 7;             </span><span style=" color: #009800;">// the speed of the robot in  inches per second</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s25">/* mark points  on the floor */</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s49">robot.point(0,</p></td><td><p class="s49">0,</p></td><td><p class="s49">0,</p></td><td><p class="s49">5,</p></td><td><p class="s50">&quot;red&quot;<span style=" color: #000;">);</span></p></td></tr><tr><td><p class="s49">robot.point(12,</p></td><td><p class="s49">5.5,</p></td><td><p class="s49">0,</p></td><td><p class="s49">5,</p></td><td><p class="s50">&quot;green&quot;<span style=" color: #000;">);</span></p></td></tr><tr><td><p class="s49">robot.point(24,</p></td><td><p class="s49">30,</p></td><td><p class="s49">0,</p></td><td><p class="s49">5,</p></td><td><p class="s50">&quot;blue&quot;<span style=" color: #000;">);</span></p></td></tr><tr><td><p class="s49">robot.point(36,</p></td><td><p class="s49">10,</p></td><td><p class="s49">0,</p></td><td><p class="s49">5,</p></td><td><p class="s50">&quot;purple&quot;<span style=" color: #000;">);</span></p></td></tr><tr><td><p class="s49">robot.point(48,</p></td><td><p class="s49">5,</p></td><td><p class="s49">0,</p></td><td><p class="s49">5,</p></td><td><p class="s50">&quot;aqua&quot;<span style=" color: #000;">);</span></p></td></tr></table><p class="s25">/* label the points */</p><p class="s17">robot.text(12, 5.5, 0.5, <span style=" color: #7F007F;">&quot;(12,5.5)&quot;</span>);</p><p class="s17">robot.text(24, 30, 0.5, <span style=" color: #7F007F;">&quot;(24,30)&quot;</span>);</p><p class="s17">robot.text(36, 10, 0.5, <span style=" color: #7F007F;">&quot;(36,10)&quot;</span>);</p><p class="s17">robot.text(48, 5, 0.5, <span style=" color: #7F007F;">&quot;(48,5)&quot;</span>);</p><p class="s25">/* make  obstacle  course */</p><p class="s17">robot.line(-7.2, 0, 0, 9.777, 7.781, 0, 2, <span style=" color: #7F007F;">&quot;blue&quot;</span>);</p><p class="s17">robot.line(9.777, 7.781, 0, 23.733, 36.275, 0, 2, <span style=" color: #7F007F;">&quot;blue&quot;</span>);</p><p class="s17">robot.line(23.733, 36.275, 0, 37.75, 12.9, 0, 2, <span style=" color: #7F007F;">&quot;blue&quot;</span>);</p><p class="s17">robot.line(37.75, 12.90, 0, 48, 8.63, 0, 2, <span style=" color: #7F007F;">&quot;blue&quot;</span>);</p><p class="s17">robot.line(7.2, 0, 0, 14.223, 3.219, 0, 2, <span style=" color: #7F007F;">&quot;blue&quot;</span>);</p><p class="s17">robot.line(14.223, 3.219, 0, 24.267, 23.728, 0, 2, <span style=" color: #7F007F;">&quot;blue&quot;</span>);</p><p class="s17">robot.line(24.267, 23.728, 0, 34.25, 7.10, 0, 2, <span style=" color: #7F007F;">&quot;blue&quot;</span>);</p><p class="s17">robot.line(34.25, 7.10, 0, 48, 1.37, 0, 2, <span style=" color: #7F007F;">&quot;blue&quot;</span>);</p><p class="s25">/* move  to the zero position  */</p><p class="s17">robot.resetToZero();</p><p class="s25">/* set the speed for  a two-wheel robot  */</p><p class="s17">robot.setSpeed(speed, radius);</p><p>294<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/><span><IMG width="624" height="468" src="chlinkbot/Image_1215.png"/></span><br/>B.5.  Create an Obstacle Course with Points, Lines, and Text on a RoboSim Scene</p><p class="s25">/* move  the robot to specified  points */ <span style=" color: #000;">robot.drivexyTo(12, 5.5, radius, trackwidth); robot.drivexyTo(24, 30, radius,  trackwidth); robot.drivexyTo(36, 10, radius,  trackwidth); robot.drivexyTo(48, 5, radius,  trackwidth);</span></p><p class="s25">/* plot the points and obstacle  course */</p><p class="s17">plot.mathCoord();</p><p class="s17">plot.title(<span style=" color: #7F007F;">&quot;&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_X, <span style=" color: #7F007F;">&quot;x (in)&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;y (in)&quot;</span>);</p><p class="s25">/* mark poitns  */</p><p class="s17">plot.point(0, 0);</p><p class="s17">plot.point(12, 5.5);</p><p class="s17">plot.point(24, 30);</p><p class="s17">plot.point(36, 10);</p><p class="s17">plot.point(48, 5);</p><p class="s25">/* make  obstacle  course */ <span style=" color: #000;">plot.line(-7.2, 0, 9.77, 7.78); plot.line(9.77, 7.78, 23.73, 36.28); plot.line(23.73,  36.28, 36+1.75, 12.9); plot.line(37.75, 12.9, 48, 8.63); plot.line(7.2, 0, 14.22, 3.22); plot.line(14.22,  3.22, 24.27, 23.73); plot.line(24.27,  23.73, 36-1.75, 7.1); plot.line(36-1.75, 7.1, 48, 1.37);</span></p><p class="s17">plot.axisRange(PLOT_AXIS_X, -10, 50); <span style=" color: #009800;">// set the x-axis range </span>plot.axisRange(PLOT_AXIS_Y, 0, 60);    <span style=" color: #009800;">// set the y-axis range </span>plot.sizeRatio(1);</p><p class="s17">plot.plotting();</p><p>Program B.9: Moving a Linkbot-I through an obstacle course using drivexyTo().<br/>295<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.5.  Create an Obstacle Course with Points, Lines, and Text on a RoboSim Scene<br/><span><IMG width="480" height="380" src="chlinkbot/Image_1216.jpg"/></span><br/>Figure B.21: The RoboSim scene with the obstacle course from Program B.9.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_1217.jpg"/></span><br/>Do Exercises 3 and 4 on 297.</p><p class="s3">B.5.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1218.png"/></span><br/>1. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.point(x, y, z,  pointsize, &quot;red&quot;);</p><p>to plot a point on the RoboSim scene.<br/>2. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">plot.line(x1, y1, z1, x2, y2, z2, linewidth, &quot;red&quot;);</p><p>to plot a straight line between the two points (<span class="s5">x</span><span class="s45">1</span>, <span class="s5">y</span><span class="s45">1</span>, <span class="s5">z</span><span class="s45">1</span>) and (<span class="s5">x</span><span class="s45">2</span>, <span class="s5">y</span><span class="s45">2</span>, <span class="s5">z</span><span class="s45">2</span>) on the RoboSim scene.<br/>3. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">plot.text(x, y, z, &quot;text&quot;);</p><p>to plot a text centered at (x, y, z) on the RoboSim scene.</p><p class="s3">B.5.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1219.png"/></span><br/>robot.point(), robot.line(), robot.text().<br/>296<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.5.  Create an Obstacle Course with Points, Lines, and Text on a RoboSim Scene</p><p class="s3">B.5.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1220.png"/></span><br/>1. Write a program <span class="s23">pointlinetext2.ch</span>, based on Program B.8, draw an obstacle course as shown in Figure B.22. The size for points in the obstacle course is 2. The line widths for the red, green, blue, and purple color are 1, 2, 3, and 4, respectively.<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1221.jpg"/></span><br/>Figure B.22: The RoboSim scene with an obstacle course by the program <span class="s23">pointlinetext2.ch</span><br/>2. Write a program <span class="s23">pointlinetext3.ch </span>draw an obstacle course as shown in Figure B.23. The size for points in the obstacle course is 2. The line width for all lines is 2.<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1222.jpg"/></span><br/>Figure B.23: The RoboSim scene with an obstacle course by the program <span class="s23">pointlinetext3.ch</span><br/>297<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.6.  Move Multiple Linkbot-Is in a Coordinate System<br/>3. Write a program <span class="s23">obstaclecourse2.ch </span>to drive a robot following the obstacle course as shown in Figure B.22.<br/>4. Write a program <span class="s23">obstaclecourse3.ch </span>to drive a robot following the obstacle course as shown in Figure B.23.</p><p class="s21">B.6    Move Multiple Linkbot-Is in a Coordinate Sys-</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1223.png"/></span></p><p class="s21">tem</p><p>In Section B.1, we learned how to drive a single virtual Linkbot-I in an x and y coordinate system. In this section, we will learn how to drive multiple virtual Linkbot-Is in an x and y coordinate system. To do this, the <span style=" color: #FF1CCE;">CLinkbotI </span>member function drivexyToNB() will be used. The general syntax of drivexyToNB() is</p><p class="s23">robot.drivexyToNB(x, y, radius, trackwidth);</p><p>Like the member function drivexyTo(), the arguments <span class="s23">x </span>and <span class="s23">y </span>specify the coordinates to drive the Linkbot-I to. The arguments <span class="s23">radius </span>and <span class="s23">trackwidth </span>specify the radius of and distance between the Linkbot-I’s wheels, respectively.  The member function drivexyToNB()  is the non-blocking version of the member function drivexyTo().  It can be used to drive multiple Linkbot-Is to different locations at the same time. This is demonstrated in Program B.10. Before running Program B.10, set the initial position of robot 1 to (<span class="s5">−6</span>, 0) and the initial position of robot 2 to (6, 0) in the RoboSim GUI.<br/><span><IMG width="624" height="380" src="chlinkbot/Image_1224.png"/></span></p><p class="s25">/* File: drivexytonb.ch</p><p class="s25">Note:   This program uses  drivexyToNB()   available in RoboSim  only</p><p class="s25">to  move one Linkbot-I   from (-6, 0) to (-10, 5)</p><p class="s25">and another  Linkbot-I   from (6,  0) to (10, 5) simultaneously.</p><p class="s25">Then,   to (-12,  10)  and (12,  10) at the same  time.</p><p class="s25">Set the initial position (x, y) in RoboSim GUI to  (-6, 0) for robot1.</p><p class="s25">Set the initial position (x, y) in RoboSim GUI to  (6, 0) for robot2.   */</p><p class="s27">#include &lt;linkbot.h&gt;   <span style=" color: #009800;">/* for CLinkbotI */</span></p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2;</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;         </span><span style=" color: #009800;">//  radius of 1.75 inches</span></p><p class="s33">double <span style=" color: #000;">trackwidth  =  3.69;      </span><span style=" color: #009800;">// the track width,   the distance  between two wheels</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot1.connect();</p><p class="s17">robot2.connect();</p><p class="s17">robot1.resetToZeroNB();</p><p class="s17">robot2.resetToZero();</p><p class="s17">robot1.drivexyToNB(-10, 5, radius, trackwidth); robot2.drivexyTo(10, 5, radius, trackwidth); robot1.drivexyWait();</p><p class="s17">robot1.drivexyToNB(-12, 10, radius, trackwidth); robot2.drivexyTo(12, 10, radius, trackwidth); robot1.drivexyWait();</p><p>Program B.10: Moving two Linkbot-Is at the same time using drivexyTo() and drivexyToNB().<br/>298<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.6.  Move Multiple Linkbot-Is in a Coordinate System<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1225.jpg"/></span><br/>Figure B.24: The RoboSim scene with two robot trajectories from Program B.10.<br/>Program B.10 is similar to Program B.1 from Section B.1. The difference is that in Program B.10, two<br/>Linkbot-Is are drived along two different straight lines. The statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1226.png"/></span></p><p class="s17">robot1.drivexyToNB(-10, 5, radius, trackwidth);</p><p>drives <span class="s23">robot1 </span>from (<span class="s5">−6</span>, 0) to (<span class="s5">−10</span>, 5). Before this statement finishes execution, the next statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1227.png"/></span></p><p class="s17">robot2.drivexyTo(10, 5, radius, trackwidth);</p><p>drives <span class="s23">robot2 </span>from (6, 0) to (10, 5). Since a non-blocking function is used to drive <span class="s23">robot1</span>, both Linkbots execute their motions simultaneously. The final statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1228.png"/></span></p><p class="s17">robot1.drivexyWait();</p><p>ensures that <span class="s23">robot1 </span>will reach (<span class="s5">−10</span>, 5) before the program finishes executing. The syntax of this function is</p><p class="s23">robot.drivexyWait();</p><p>The function drivexyWait() has no argument. It pauses the program until the motion by the member function drivexyToNB()  is completed.  Since the motion for drivexyToNB()  involves both moving distance and turning, the member function drivexyWait(),  instead of moveWait(), is used for synchronization.<br/>Similarly, the statements below<br/><span><IMG width="624" height="44" src="chlinkbot/Image_1229.png"/></span></p><p class="s17">robot1.drivexyToNB(-12, 10, radius, trackwidth); robot2.drivexyTo(12, 10, radius, trackwidth); robot1.drivexyWait();</p><p>drive <span class="s23">robot1 </span>from (-10, 5) to (-12, 10) and <span class="s23">robot2 </span>from (10, 5) to (12, 10).<br/>Figure B.24 shows the trajectories and positions of two virtual Linkbot-Is when these two robots finish<br/><span><IMG width="23" height="16" src="chlinkbot/Image_1230.jpg"/></span><br/>the above motions.<br/>Do Exercises 1 and 2(a) on page 300.<br/>The member function drivexyNB() is the non-blocking version of the member function drivexy() to drive a robot relative its current position. The general syntax of drivexyNB() is<br/>299<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.6.  Move Multiple Linkbot-Is in a Coordinate System</p><p class="s23">robot.drivexyNB(x, y,  radius,  trackwidth);</p><p><span><IMG width="23" height="16" src="chlinkbot/Image_1231.jpg"/></span><br/>The program <span class="s23">drivexynb.ch</span>, distributed along with other sample programs, uses the member func- tion drivexyNB() to drive two robots in the same manner as they are controlled by Program B.10 using the member function drivexyToNB().<br/>Do Exercise 2(b) on page 301.</p><p class="s3">B.6.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1232.png"/></span><br/>1. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.drivexyToNB(x, y, radius, trackwidth);</p><p>on multiple Linkbot-Is to drive them simultaneously from one point to another in an x and y coordinate system. This function works in RoboSim only.<br/>2. Call the non-blocking <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.drivexyNB(x, y,  radius,  trackwidth);</p><p>on multiple Linkbot-Is to drive them simultaneously from one point to another relative to its current position in an x and y coordinate system. This function works in RoboSim only.<br/>3. Call the <span style=" color: #FF1CCE;">CLinkbotI </span>member function</p><p class="s23">robot.drivexyWait();</p><p>to pause the program till the motion by a previous member function robot.drivexyToNB()  or<br/>robot.drivexyNB() is completed. This function works in RoboSim only.</p><p class="s3">B.6.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1233.png"/></span><br/>robot.drivexyToNB(), robot.drivexyNB(), robot.drivexyWait().</p><p class="s3">B.6.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1234.png"/></span><br/>1. Write a program <span class="s23">drivexytonb2.ch</span>,  based on Program B.10, to drive two virtual Linkbot-Is.<br/>Move the first Linkbot-I from (0, -6) to (5, -10) and the second Linkbot-I from (0, 6) to (5, 10).<br/>300<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.6.  Move Multiple Linkbot-Is in a Coordinate System<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1235.jpg"/></span><br/>Figure B.25: The RoboSim scene with the robot trajectories for program <span class="s23">drivexytonb2.ch</span><br/>2. Write a program <span class="s23">drivexytonb3.ch</span>,  based on Program B.10, to Move two virtual Linkbot-Is.<br/>Move the first Linkbot-I from (0, -6) to (10, -12) and the second Linkbot-I from (0, 6) to (10, 12)<br/>simultaneously. Then drive the first robot to (24, -5) and the second one to (24, 5) at the same time.<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1236.jpg"/></span><br/>Figure B.26: The RoboSim scene with the robot trajectories for programs <span class="s23">drivexytonb3.ch </span>and</p><p class="s23">drivexynb3.ch</p><p>(a) Write a program <span class="s23">drivexytonb3.ch </span>using the member functions drivexyTo() and drivexy- ToNB().<br/>(b) Write a program <span class="s23">drivexynb3.ch </span>using the member functions drivexy() and drivexyNB().<br/>301<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.7.  Trace and Record the Positions of Multiple Linkbot-Is<br/><span><IMG width="624" height="53" src="chlinkbot/Image_1237.png"/></span></p><p class="s21">B.7    Trace and Record the Positions of Multiple Linkbot-</p><p class="s21">Is</p><p>The trajectories for multiple robots can be traced simultaneously. Program B.11 demonstrates how to trace multiple trajectories for two Linkbot-Is, as shown in Figure B.27. Assume the <span class="s23">robot1 </span>is initially placed at (0, 0) and <span class="s23">robot2 </span>is at (6, 0) set in a RoboSim GUI. The following code segment in Program B.11.<br/><span><IMG width="624" height="73" src="chlinkbot/Image_1238.png"/></span></p><p class="s17">robot1.traceOn();</p><p class="s17">robot2.traceOn();</p><p class="s17">robot1.drivexyToNB(6, 5, radius, trackwidth); <span style=" color: #009800;">// line from (0, 0) to (6, 5)</span></p><p class="s17">robot2.drivexyTo(12, 5, radius, trackwidth);  <span style=" color: #009800;">// line from (6,  0) to (12, 5)</span></p><p class="s17">robot1.drivexyWait();</p><p>traces the line from (0, 0) to (6, 5) for <span class="s23">robot1 </span>and the line from (6, 0) to (12, 5) for <span class="s23">robot2 </span>simultaneously. For the next segment of the code,<br/><span><IMG width="624" height="73" src="chlinkbot/Image_1239.png"/></span></p><p class="s17">robot1.traceOff();</p><p class="s17">robot2.traceOff();</p><p class="s17">robot1.drivexyToNB(0, 10, radius, trackwidth); <span style=" color: #009800;">// line from (6,  5) to (0,  10)</span></p><p class="s17">robot2.drivexyTo(6, 10, radius,  trackwidth);    <span style=" color: #009800;">//  line  from (12,  5) to (6, 10)</span></p><p class="s17">robot1.drivexyWait();</p><p>before <span class="s23">robot1 </span>drives from (6, 5) to (0, 10) and <span class="s23">robot2 </span>drives from (12, 5) to (6, 10), the trace is turned off for both robots. Finally, the segment of the code,<br/><span><IMG width="624" height="73" src="chlinkbot/Image_1240.png"/></span></p><p class="s17">robot1.traceOn();</p><p class="s17">robot2.traceOn();</p><p class="s17">robot1.drivexyToNB(6, 15, radius, trackwidth); <span style=" color: #009800;">// line from (0,  10) to (6,  15)</span></p><p class="s17">robot2.drivexyTo(12, 15, radius, trackwidth); <span style=" color: #009800;">// line from (6,  10) to (12, 15)</span></p><p class="s17">robot1.drivexyWait();</p><p>traces the lines from (0, 10) to (6, 15) and from (6, 10) to (12, 15).<br/>302<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.7.  Trace and Record the Positions of Multiple Linkbot-Is<br/><span><IMG width="624" height="497" src="chlinkbot/Image_1241.png"/></span></p><p class="s25">/* File: traceon2.ch</p><p class="s25">Turn trakce  on  and  off with  two Linkbot-Is</p><p class="s25">Set the initial position (x, y) in RoboSim GUI to  (0, 0) for robot1.</p><p class="s25">Set the initial position (x, y) in RoboSim GUI to  (6, 0) for robot2.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2;</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;         </span><span style=" color: #009800;">//  radius of 1.75 inches</span></p><p class="s33">double <span style=" color: #000;">trackwidth  =  3.69;      </span><span style=" color: #009800;">// the track width,   the distance  between two wheels</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot1.connect();</p><p class="s17">robot2.connect();</p><p class="s17">robot1.resetToZeroNB();</p><p class="s17">robot2.resetToZero();</p><p class="s17">robot2.setLEDColor(<span style=" color: #7F007F;">&quot;red&quot;</span>);   <span style=" color: #009800;">// set  the robot2 LED color  to red</span></p><p class="s17">robot1.traceOn();</p><p class="s17">robot2.traceOn();</p><p class="s17">robot1.drivexyToNB(6, 5, radius, trackwidth); <span style=" color: #009800;">// line from (0, 0) to (6, 5)</span></p><p class="s17">robot2.drivexyTo(12, 5, radius, trackwidth);  <span style=" color: #009800;">// line from (6,  0) to (12, 5)</span></p><p class="s17">robot1.drivexyWait();</p><p class="s17">robot1.traceOff();</p><p class="s17">robot2.traceOff();</p><p class="s17">robot1.drivexyToNB(0, 10, radius, trackwidth); <span style=" color: #009800;">// line from (6,  5) to (0,  10)</span></p><p class="s17">robot2.drivexyTo(6, 10, radius,  trackwidth);    <span style=" color: #009800;">//  line  from (12,  5) to (6, 10)</span></p><p class="s17">robot1.drivexyWait();</p><p class="s17">robot1.traceOn();</p><p class="s17">robot2.traceOn();</p><p class="s17">robot1.drivexyToNB(6, 15, radius, trackwidth); <span style=" color: #009800;">// line from (0,  10) to (6,  15)</span></p><p class="s17">robot2.drivexyTo(12, 15, radius, trackwidth); <span style=" color: #009800;">// line from (6,  10) to (12, 15)</span></p><p class="s17">robot1.drivexyWait();</p><p>Program B.11: Tracing trajectories for two Linkbot-Is.<br/>303<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.7.  Trace and Record the Positions of Multiple Linkbot-Is<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1242.jpg"/></span><br/>Figure B.27: The RoboSim scene with the robot trajectories from Programs B.11 and B.12.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_1243.jpg"/></span><br/>Do Exercise 1, on 306.<br/>The positions for the traced trajectories for multiple Linkbot-Is can be recorded simultaneously and then plotted. Program B.12 demonstrates how to record and plot positions of the traced trajectories for two Linkbot-Is. Program B.12 will trace the trajectories shown in Figure B.27 and plot the acquired positions for the traced trajectories shown in Figure B.28. The tracing and motion statements for two Linkbots-Is in Program B.12 are the same as those in Program B.11.<br/>The statements<br/><span><IMG width="624" height="44" src="chlinkbot/Image_1244.png"/></span></p><p class="s25">/* begin recording  x and y positions  */ <span style=" color: #000;">robot1.recordxyBegin(xdata1, ydata1, timeInterval); robot2.recordxyBegin(xdata2, ydata2, timeInterval);</span></p><p>start recording the positions of traced trajectories for two Linkbot-Is.<br/>After two Linkbot-Is stop moving, the statements<br/><span><IMG width="624" height="44" src="chlinkbot/Image_1245.png"/></span></p><p class="s25">/* end recording  x and y positions  */ <span style=" color: #000;">robot1.recordxyEnd(numDataPoints1); robot2.recordxyEnd(numDataPoints2);</span></p><p>stop recording the positions for the traced trajectories.<br/>The statements below<br/><span><IMG width="624" height="117" src="chlinkbot/Image_1246.png"/></span></p><p class="s17">plot.data2DCurve(xdata1, ydata1, numDataPoints1); <span style=" color: #F00;">int   </span>datanum  =  0,  pointType =  7, pointSize =  1; plot.plotType(PLOT_PLOTTYPE_POINTS,  datanum); plot.pointType(datanum, pointType, pointSize, <span style=" color: #7F007F;">&quot;green&quot;</span>); plot.data2DCurve(xdata2,  ydata2,  numDataPoints2); datanum  =  datanum  +  1; plot.plotType(PLOT_PLOTTYPE_POINTS,  datanum); plot.pointType(datanum, pointType, pointSize, <span style=" color: #7F007F;">&quot;red&quot;</span>);</p><p>plot two sets of the data points. The first data set is plotted in the green color. and the second set in the red color.<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1247.png"/></span></p><p class="s25">/* File: recordxy2.ch</p><p>304<br/><span><IMG width="624" height="862" src="chlinkbot/Image_1248.png"/></span><br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.7.  Trace and Record the Positions of Multiple Linkbot-Is</p><p class="s25">Trace  and record  the  x and y positions for  two  Linkbot-Is, plot  the acquired data.</p><p class="s25">Set the initial position (x, y) in RoboSim GUI to  (0, 0) for robot1.</p><p class="s25">Set the initial position (x, y) in RoboSim GUI to  (6, 0) for robot2.   */</p><p class="s27">#include &lt;linkbot.h&gt;</p><p class="s27">#include &lt;chplot.h&gt;</p><p class="s16">CLinkbotI <span style=" color: #000;">robot1, robot2;</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;         </span><span style=" color: #009800;">//  radius of 1.75 inches</span></p><p class="s33">double <span style=" color: #000;">trackwidth  =  3.69;      </span><span style=" color: #009800;">// the track width,   the distance  between two wheels</span></p><p class="s33">double <span style=" color: #000;">timeInterval =  0.1; </span><span style=" color: #009800;">// time interval in 0.1 second</span></p><p class="s33">int <span style=" color: #000;">numDataPoints1;       </span><span style=" color: #009800;">// number  of data points recorded for  robot1</span></p><p class="s33">int <span style=" color: #000;">numDataPoints2;       </span><span style=" color: #009800;">// number  of data points recorded for  robot2</span></p><p class="s16">robotRecordData_t <span style=" color: #000;">xdata1,  ydata1; </span><span style=" color: #009800;">// recorded  x and y positions  for  robot1</span></p><p class="s16">robotRecordData_t <span style=" color: #000;">xdata2,  ydata2; </span><span style=" color: #009800;">// recorded  x and y positions  for  robot2</span></p><p class="s16">CPlot <span style=" color: #000;">plot;                       </span><span style=" color: #009800;">// plotting class</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot1.connect();</p><p class="s17">robot2.connect();</p><p class="s17">robot1.resetToZeroNB();</p><p class="s17">robot2.resetToZero();</p><p class="s17">robot2.setLEDColor(<span style=" color: #7F007F;">&quot;red&quot;</span>);   <span style=" color: #009800;">// set  the robot2 LED color  to red</span></p><p class="s25">/* begin recording  x and y positions  */ <span style=" color: #000;">robot1.recordxyBegin(xdata1, ydata1, timeInterval); robot2.recordxyBegin(xdata2, ydata2, timeInterval);</span></p><p class="s17">robot1.traceOn();</p><p class="s17">robot2.traceOn();</p><p class="s17">robot1.drivexyToNB(6, 5, radius, trackwidth); <span style=" color: #009800;">// line from (0, 0) to (6, 5)</span></p><p class="s17">robot2.drivexyTo(12, 5, radius, trackwidth);  <span style=" color: #009800;">// line from (6,  0) to (12, 5)</span></p><p class="s17">robot1.drivexyWait();</p><p class="s17">robot1.traceOff();</p><p class="s17">robot2.traceOff();</p><p class="s17">robot1.drivexyToNB(0, 10, radius, trackwidth); <span style=" color: #009800;">// line from (6,  5) to (0,  10)</span></p><p class="s17">robot2.drivexyTo(6, 10, radius,  trackwidth);    <span style=" color: #009800;">//  line  from (12,  5) to (6, 10)</span></p><p class="s17">robot1.drivexyWait();</p><p class="s17">robot1.traceOn();</p><p class="s17">robot2.traceOn();</p><p class="s17">robot1.drivexyToNB(6, 15, radius, trackwidth); <span style=" color: #009800;">// line from (0,  10) to (6,  15)</span></p><p class="s17">robot2.drivexyTo(12, 15, radius, trackwidth); <span style=" color: #009800;">// line from (6,  10) to (12, 15)</span></p><p class="s17">robot1.drivexyWait();</p><p class="s25">/* end recording  x and y positions  */ <span style=" color: #000;">robot1.recordxyEnd(numDataPoints1); robot2.recordxyEnd(numDataPoints2);</span></p><p class="s17"><span style=" color: #009800;">/* plot the data */ </span>plot.mathCoord(); plot.title(<span style=" color: #7F007F;">&quot;Position&quot;</span>); plot.label(PLOT_AXIS_X,  <span style=" color: #7F007F;">&quot;X (inches)&quot;</span>); plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;Y (inches)&quot;</span>); plot.axisRange(PLOT_AXIS_X, -5, 15); plot.axisRange(PLOT_AXIS_Y, 0, 20);</p><p class="s17">plot.data2DCurve(xdata1,  ydata1,  numDataPoints1);</p><p class="s33">int <span style=" color: #000;">datanum  =  0,  pointType =  7, pointSize =  1;</span></p><p>305<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.7.  Trace and Record the Positions of Multiple Linkbot-Is<br/><span><IMG width="624" height="117" src="chlinkbot/Image_1249.png"/></span></p><p class="s17">plot.plotType(PLOT_PLOTTYPE_POINTS,  datanum); plot.pointType(datanum, pointType, pointSize, <span style=" color: #7F007F;">&quot;green&quot;</span>); plot.data2DCurve(xdata2,  ydata2,  numDataPoints2); datanum  =  datanum  +  1; plot.plotType(PLOT_PLOTTYPE_POINTS,  datanum); plot.pointType(datanum, pointType, pointSize, <span style=" color: #7F007F;">&quot;red&quot;</span>); plot.sizeRatio(1);</p><p class="s17">plot.plotting();</p><p>Program B.12: Recording and plotting the positions of the traced trajectories for two Linkbot-Is.</p><p class="s44">Position</p><p><span><IMG width="212" height="214" src="chlinkbot/Image_1250.png"/></span></p><p class="s44">20</p><p class="s44">15</p><p class="s44">10</p><p class="s44">5</p><p class="s44">0</p><p class="s44">-5                 0                  5                 10                15</p><p class="s44">X (inches)</p><p>Figure B.28: The plot for the traced trajectories for two robots from Program B.12.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_1251.jpg"/></span><br/>Do Exercise 2, on 307.</p><p class="s3">B.7.1   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1252.png"/></span><br/>1. Write a program <span class="s23">traceon4.ch </span>to trace two letters ’A’ in RoboSim as shown in Figure B.29.  The horizontal line for the first letter ’A’ can be drawn from the point <span class="s5">(−2.5, 5) </span>to the point (2.5 5).  The horizontal line for the second letter ’A’ is from the point (7.5, 5) to the point (12.5, 5).<br/>306<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.8.  Move Multiple Linkbot-Is Along Different Trajectories<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1253.jpg"/></span><br/>Figure B.29: Moving two virtual Linkbot-Is to trace two letters of ’A’.<br/>2. Based on the program <span class="s23">traceon4.ch </span>developed in Exercise 2, write a program <span class="s23">recordxy4.ch </span>to record and plot the traced trajectories for two Linkbot-Is with two letters of ’A’ as shown in Figure B.30.</p><p class="s48">Position</p><p><span><IMG width="161" height="160" src="chlinkbot/Image_1254.png"/></span></p><p class="s48">20</p><p class="s48">15</p><p class="s48">10</p><p class="s48">5</p><p class="s48">0</p><p class="s48">-5                  0                   5                  10                 15</p><p class="s48">X (inches)</p><p>Figure B.30: A plot generated by the program <span class="s23">recordxy4.ch</span>.<br/><span><IMG width="624" height="53" src="chlinkbot/Image_1255.png"/></span></p><p class="s21">B.8    Move Multiple Linkbot-Is Along Different Tra-</p><p class="s21">jectories</p><p>In section B.2, we learned how to drive a single Linkbot-I along a trajectory specified by a function using the member function drivexyToFunc() or by an expression using the member function drivexyToExpr(). Since the Linkbot must travel to many more points, these functions are actually implemented using the member function drivexyTo() using a loop.<br/>307<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.8.  Move Multiple Linkbot-Is Along Different Trajectories<br/>The use of a <span style=" color: #F00;">for </span>loop together with a user-defined function is helpful for calculating the next point and then calling drivexyTo() multiple times in succession. Details for the <span style=" color: #F00;">for </span>are described in section A.3 in Appendix A.<br/><span><IMG width="624" height="658" src="chlinkbot/Image_1256.png"/></span></p><p class="s25">/* File: polynomial.ch</p><p class="s25">Note:   This program uses  drivexyTo()   available in RoboSim  only.</p><p class="s25">Set the initial position (x, y) in RoboSim GUI to  (-6, 5.5) for the robot.</p><p class="s25">A  robot  moves along a polynomial  curve  y =  0.5(x+5)(x-5)  for  x from -6 to 6. Plot  the polynomial y for  x from -6 to 6 with 500 points.</p><p class="s25">The range  of x-axis is from -12 to 12. The range  of y-axis is from -15 to 12. The tics range for  x and y axes is 1. */</p><p class="s27">#include &lt;chplot.h&gt;    <span style=" color: #009800;">/* for CPlot */</span></p><p class="s27">#include &lt;linkbot.h&gt;   <span style=" color: #009800;">/* for CLinkbotI */</span></p><p class="s33">double <span style=" color: #000;">func(</span>double <span style=" color: #000;">x)  {</span></p><p class="s33">return <span style=" color: #000;">0.5*(x+5)*(x-5);</span></p><p class="s17">}</p><p class="s16">CPlot <span style=" color: #000;">plot; </span>CLinkbotI <span style=" color: #000;">robot;</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;         </span><span style=" color: #009800;">//  radius of 1.75 inches</span></p><p class="s33">double <span style=" color: #000;">trackwidth  =  3.69;      </span><span style=" color: #009800;">// the track width,   the distance  between two wheels</span></p><p class="s33">double <span style=" color: #000;">x, y;                   </span><span style=" color: #009800;">// x and y coordinates</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot.connect();</p><p class="s17">robot.resetToZero();</p><p class="s17">robot.setSpeed(3, 1.75);</p><p class="s25">/* move  the robot along the polynomial curve */</p><p class="s33">for<span style=" color: #000;">(x=-6;  x&lt;=6.1; x=x+0.2) {</span></p><p class="s17">y  = func(x);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;drivexyTo(x, y) =  (%lf,   %lf)\n&quot;</span>,   x, y);</p><p class="s17">robot.drivexyTo(x, y,  radius, trackwidth);</p><p class="s17">}</p><p class="s25">/* plot  the polynomial curve */</p><p class="s17">plot.mathCoord();</p><p class="s17">plot.title(<span style=" color: #7F007F;">&quot;y =  0.5(x+5)(x-5)&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_X, <span style=" color: #7F007F;">&quot;x&quot;</span>);</p><p class="s17">plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;y&quot;</span>);</p><p class="s17">plot.axisRange(PLOT_AXIS_X, -12, 12);</p><p class="s17">plot.axisRange(PLOT_AXIS_Y, -15, 12);</p><p class="s17">plot.ticsRange(PLOT_AXIS_X, 1);</p><p class="s17">plot.ticsRange(PLOT_AXIS_Y, 1);</p><p class="s17">plot.func2D(-6, 6, 500, func);</p><p class="s17">plot.plotting();</p><p>Program B.13: Moving a Linkbot-I to follow a polynomial curve using drivexyTo() and a <span style=" color: #F00;">for </span>loop.<br/>Program B.13 shows how this can be done to drive a virtual Linkbot-I along the trajectory of a parabola. Before running Program B.13, set the initial position of the Linkbot-I in the RoboSim GUI to (<span class="s5">−6</span>, 5.5). In Program B.13 a function <span class="s23">func() </span>is used to define this quadratic equation, which calculates the <span class="s5">y</span>-coordinate for each point the virtual Linkbot-I travels to on the parabola. The function <span class="s23">func() </span>is defined as<br/>308<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.8.  Move Multiple Linkbot-Is Along Different Trajectories<br/><span><IMG width="624" height="59" src="chlinkbot/Image_1257.png"/></span></p><p class="s25">/* define the function func()   */</p><p class="s33">double <span style=" color: #000;">func(</span>double <span style=" color: #000;">x)  {</span></p><p class="s33">return <span style=" color: #000;">0.5*(x+5)*(x-5);</span></p><p class="s17">}</p><p>After the virtual Linkbot-I is connected and reset to the zero position, the lines<br/><span><IMG width="624" height="73" src="chlinkbot/Image_1258.png"/></span></p><p class="s33">for<span style=" color: #000;">(x=-6; x&lt;=6.1; x=x+0.2) {</span></p><p class="s17">y  = func(x);</p><p class="s17"><span style=" color: #FF1CCE;">printf</span>(<span style=" color: #7F007F;">&quot;drivexyTo(x, y) =  (%lf,   %lf)\n&quot;</span>,   x, y);</p><p class="s17">robot.drivexyTo(x, y,   radius, trackwidth);</p><p class="s17">}</p><p>use a <span style=" color: #F00;">for </span>loop to repeat the program statements that drive the virtual Linkbot-I to each point along its trajec- tory. Each time the loop repeats, the value of the <span class="s5">x</span>-coordinate is incremented by 0.2, and the corresponding <span class="s5">y</span>-coordinate is calculated using <span class="s23">func()</span>. Then the x and y coordinates are printed to the input/output pane, and drivexyTo() is used to drive the Linkbot-I to these coordinates. Since the value of the <span class="s5">x</span>-coordinate is incremented by 0.2 each iteration, the <span style=" color: #F00;">for </span>loop repeats a total of 60 times, and the virtual Linkbot-I is drived a total of 60 points along the trajectory of the parabola.  Although drivexyTo()  drives the Linkbot-I in a straight line between the points, the points are close enough together that these lines appear as a smooth curve in the RoboSim GUI.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_1259.jpg"/></span><br/>The output from Program B.13 is the same as that from Programs B.5 and B.4, as shown in Figures B.13 and B.14.<br/>Do Exercise 1 on page 312.<br/>Just as it is possible to drive two virtual Linkbot-Is along two separate straight-lines simultaneously as shown in Program B.10, it is also possible to simultaneously drive two virtual Linkbot-Is along two separate polynomial curves.  Program B.14 demonstrates how to do this using drivexyToNB().   Before running Program B.14, set the initial positions of robot 1 and robot 2 to (<span class="s5">−6</span>, 5.5) and (6, 5.5) in the RoboSim GUI.<br/>309<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.8.  Move Multiple Linkbot-Is Along Different Trajectories</p><p class="s25">/* File: polynomial2.ch</p><p class="s25">Note:   This program uses  drivexyToNB()   and  drivexyWait()   available in RoboSim  only.</p><p class="s25">Set the initial position (x, y) in RoboSim GUI to  (-6, 5.5) for robot1.</p><p class="s25">Set the initial position (x, y) in RoboSim GUI to  (6, 5.5) for robot2.</p><p class="s25">robot1  moves along a polynomial  curve  y =  0.5(x+5)(x-5)  for  x from -6 to 6. robot2  moves along a polynomial  curve  y =  0.5(x-7)(x-17) for x from 6 to 18. Plot  the polynomial y for  x from -6 to 6 with 500 points.</p><p class="s25">The range  of x-axis is from -12 to 24. The range  of y-axis is from -15 to 12. The tics range for  x and y axes is 1. */</p><p class="s27">#include &lt;chplot.h&gt;    <span style=" color: #009800;">/* for CPlot */</span></p><p class="s27">#include &lt;linkbot.h&gt;   <span style=" color: #009800;">/* for CLinkbotI */</span></p><p class="s33">double <span style=" color: #000;">func(</span>double <span style=" color: #000;">x)  {</span></p><p class="s33">return <span style=" color: #000;">0.5*(x+5)*(x-5);</span></p><p class="s17">}</p><p class="s33">double <span style=" color: #000;">func2(</span>double <span style=" color: #000;">x)  {</span></p><p class="s33">return <span style=" color: #000;">0.5*(x-7)*(x-17);</span></p><p class="s17">}</p><p class="s16">CPlot <span style=" color: #000;">plot; </span>CLinkbotI <span style=" color: #000;">robot1; </span>CLinkbotI <span style=" color: #000;">robot2;</span></p><p class="s33">double <span style=" color: #000;">radius  =  1.75;         </span><span style=" color: #009800;">//  radius of 1.75 inches</span></p><p class="s33">double <span style=" color: #000;">trackwidth  =  3.69;      </span><span style=" color: #009800;">// the track width,   the distance  between two wheels</span></p><p class="s33">double <span style=" color: #000;">x, y1, y2;             </span><span style=" color: #009800;">// x and y coordinates</span></p><p class="s25">/* connect to the paired  robot and  move to the zero position  */</p><p class="s17">robot1.connect();</p><p class="s17">robot1.resetToZeroNB();</p><p class="s17">robot2.connect();</p><p class="s17">robot2.resetToZero();</p><p class="s25">/* change the default  green color  to red for  robot 1 */</p><p class="s17">robot1.setLEDColor(<span style=" color: #7F007F;">&quot;red&quot;</span>);</p><p class="s25">/* move  the robot along the polynomial curve */</p><p class="s33">for<span style=" color: #000;">(x=-6;  x&lt;=6; x=x+0.2) {</span></p><p class="s17">y1  = func(x);</p><p class="s17">y2  = func2(x+12);</p><p class="s17">robot1.drivexyToNB(x, y1, radius, trackwidth);</p><p class="s17">robot2.drivexyTo(x+12, y2, radius, trackwidth);</p><p class="s17">robot1.drivexyWait();</p><p class="s17">}</p><p><span><IMG width="624" height="892" src="chlinkbot/Image_1260.png"/></span></p><p class="s17"><span style=" color: #009800;">/* plot  the polynomial curve */ </span>plot.mathCoord(); plot.title(<span style=" color: #7F007F;">&quot;&quot;</span>); plot.label(PLOT_AXIS_X, <span style=" color: #7F007F;">&quot;x&quot;</span>); plot.label(PLOT_AXIS_Y, <span style=" color: #7F007F;">&quot;y&quot;</span>);</p><p class="s17">plot.axisRange(PLOT_AXIS_X, -12, 24); plot.axisRange(PLOT_AXIS_Y, -15, 12); plot.ticsRange(PLOT_AXIS_X, 1); plot.ticsRange(PLOT_AXIS_Y, 1); plot.func2D(-6, 6, 500,   func); plot.legend(<span style=" color: #7F007F;">&quot;y =  0.5(x+5)(x-5)&quot;</span>,   0); plot.func2D(6, 18, 500, func2); plot.legend(<span style=" color: #7F007F;">&quot;y   =  0.5(x-7)(x-15)&quot;</span>,   1); plot.plotting();</p><p>310<br/>Program B.14: Moving two Linkbot-Is to follow polynomial curves using drivexyTo() and drivexyToNB().<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.8.  Move Multiple Linkbot-Is Along Different Trajectories<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1261.jpg"/></span><br/>Figure B.31: The RoboSim scene with the robot trajectories of two polynomials from Program B.14.<br/>Program B.13 demonstrated how to drive a single virtual Linkbot-I along the trajectory of a parabola. Program B.14 is very similar to Program B.13, except that two virtual Linkbot-Is are drived along different parabolic trajectories at the same time. The red color for the trajectory of the first robot is set by the member function call<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1262.png"/></span></p><p class="s17">robot1.setLEDColor(<span style=" color: #7F007F;">&quot;red&quot;</span>);</p><p>by default, the color for the trajectory of the second robot is the green.<br/>As in Program B.13, the user-defined function <span class="s23">func() </span>is used to calculate the <span class="s5">y</span>-coordinates of the points on the first parabola. For the second parabola, the new user-defined function <span class="s23">func2()</span>, is defined by the following program statements.<br/><span><IMG width="624" height="44" src="chlinkbot/Image_1263.png"/></span></p><p class="s33">double <span style=" color: #000;">func2(</span>double <span style=" color: #000;">x)  {</span></p><p class="s33">return <span style=" color: #000;">0.5*(x-7)*(x-17);</span></p><p class="s17">}</p><p>This function takes in an argument <span class="s23">x </span>of type <span style=" color: #F00;">double</span>, which specifies the <span class="s5">x</span>-coordinate of the next point. It returns a value of type <span style=" color: #F00;">double</span>,  which is the corresponding <span class="s5">y</span>-coordinate.  <span class="s23">func2() </span>calculates these <span class="s5">y</span>-coordinates using the following quadratic equation.</p><p class="s5">y  =  0.5(x −  7)(x  −  17) = 0.5x<span class="s45">2   </span>−  12x + 59.5</p><p>The two virtual Linkbot-Is are drived along their parabolic trajectories using the following <span style=" color: #F00;">for </span>loop<br/><span><IMG width="624" height="103" src="chlinkbot/Image_1264.png"/></span></p><p class="s33">for<span style=" color: #000;">(x=-6; x&lt;=6; x=x+0.2)  {</span></p><p class="s17">y1  = func(x);</p><p class="s17">y2  = func2(x+12);</p><p class="s17">robot1.drivexyToNB(x, y1, radius, trackwidth);</p><p class="s17">robot2.drivexyTo(x+12, y2, radius, trackwidth);</p><p class="s17">robot1.drivexyWait();</p><p class="s17">}</p><p>The <span style=" color: #F00;">for </span>loop in Program B.14 is similar to the <span style=" color: #F00;">for </span>loop in Program B.13. The difference is that in Program<br/>B.14 the statements repeated in the <span style=" color: #F00;">for </span>loop calculate the <span class="s5">y</span>-coordinates of the next points for <span class="s23">robot1</span><br/>311<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.8.  Move Multiple Linkbot-Is Along Different Trajectories</p><p class="s44">12</p><p class="s44">11</p><p class="s44">10</p><p class="s44">9</p><p class="s44">8</p><p class="s44">7</p><p class="s44">6</p><p class="s44">5</p><p class="s44">4</p><p class="s44">3</p><p class="s44">2</p><p class="s44">1</p><p class="s44">0</p><p class="s44">-1</p><p class="s44">-2</p><p class="s44">-3</p><p class="s44">-4</p><p class="s44">-5</p><p class="s44">-6</p><p class="s44">-7</p><p class="s44">-8</p><p class="s44">-9</p><p class="s44">-10</p><p class="s44">-11</p><p class="s44">-12</p><p class="s44">-13</p><p class="s44">-14</p><p><span><IMG width="328" height="228" src="chlinkbot/Image_1265.png"/></span></p><p class="s44">-15</p><p class="s44">y = 0.5(x+5)(x-5)</p><p class="s44">y = 0.5(x-7)(x-15)            </p><p class="s44">-12-11-10-9 -8 -7 -6 -5 -4 -3 -2 -1 0 1 2 3 4 5 6 7 8 9 101112131415161718192021222324</p><p class="s44">x</p><p>Figure B.32: The plot for two polynomials traveled by two robot from Program B.14.<br/>and <span class="s23">robot2</span>, using <span class="s23">func() </span>and <span class="s23">func2()</span>, respectively. Then both <span class="s23">robot1 </span>and <span class="s23">robot2 </span>are drived to their new points simultaneously. Since the non-blocking member function drivexyToNB() is used to drive <span class="s23">robot1</span>, drivexyWait()  is called to ensure that <span class="s23">robot1 </span>will finish its motion before the next iteration of the <span style=" color: #F00;">for </span>loop. As in Program B.13, the <span style=" color: #F00;">for </span>loop will iterate a total of 60 times, so each Linkbot-I will drive through a total of 60 points. Both parabolas will look similar, except that the parabolic trajectory of <span class="s23">robot2 </span>will be from (6, 5.5) to (18, 5.5). Figure B.31 shows the parabolic trajectories of <span class="s23">robot1 </span>and <span class="s23">robot2</span>.<br/>The trajectories of the two virtual Linkbot-Is are plotted, in a manner similar to Program B.13. In Section<br/>11.6, it has been demonstrated that the motion of two Linkbot-Is can be plotted on the same graph. This is also done in Program B.14. To allow room for both parabolas, the line<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1266.png"/></span></p><p class="s17">plot.axisRange(PLOT_AXIS_X, -12, 24);</p><p>sets a larger range on the x-axis, from <span class="s5">−12 </span>to 24. The additional statement<br/><span><IMG width="624" height="15" src="chlinkbot/Image_1267.png"/></span></p><p class="s17">plot.func2D(6, 18, 500, func2);</p><p>plots the function <span class="s23">func2() </span>for <span class="s23">robot2 </span>in the range <span class="s23">[6, 18]</span>, using 500 points. Figure B.32 shows the generated plot.<br/><span><IMG width="23" height="16" src="chlinkbot/Image_1268.jpg"/></span><br/>Note that non-blocking member functions drivexyToFuncNB() and drivexyToExprNB() are not avail- able.<br/>Do Exercise 2 on page 313.</p><p class="s3">B.8.1   Summary</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1269.png"/></span><br/>1. Call the member functions drivexyTo(), drivexyToNB(), and drivexyWait()  in a loop to drive multi- ple Linkbot-Is simultaneously along different trajectories.</p><p class="s3">B.8.2   Terminology</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1270.png"/></span></p><p class="s3">B.8.3   Exercises</p><p><span><IMG width="624" height="23" src="chlinkbot/Image_1271.png"/></span><br/>1. Write a program <span class="s23">polynomial3.ch</span>, using the member function drivexyTo() and a <span style=" color: #F00;">for </span>loop, based on Program B.13, that drives a virtual Linkbot-I along the trajectory of a parabola from (-6, -5.5) to<br/>312<br/>Appendix B. Moving Robots in a Coordinate System in RoboSim<br/>B.8.  Move Multiple Linkbot-Is Along Different Trajectories<br/>(6, -5.5), as shown in Figure B.15 on page 285.<br/>2. Write a program <span class="s23">polynomial4.ch</span>,  based on Program B.14, that drives two virtual Linkbot-Is along the trajectory of two parabolas, from (-6, -5.5) to (6, -5.5) for <span class="s23">robot1 </span>and from (6, -5.5) to (18, -5.5) for <span class="s23">robot2</span>. These parabolas will open downward, with the vertex of the first at (0, 12.5) and the vertex of the second at (12, 12.5). Use the <span style=" color: #FF1CCE;">CPlot </span>member functions axisRange(), ticsRange(), and func2D() to generate a plot of the trajectories of the two virtual Linkbot-Is.<br/><span><IMG width="382" height="302" src="chlinkbot/Image_1272.jpg"/></span><br/>Figure B.33: The RoboSim scene with the robot trajectories for program <span class="s23">polynomial4.ch</span><br/>313<br/><span><IMG width="627" height="8" src="chlinkbot/Image_1273.png"/></span><br/><span><IMG width="624" height="3" src="chlinkbot/Image_1274.png"/></span></p><p class="s1">APPENDIX C</p><p><span><IMG width="624" height="3" src="chlinkbot/Image_1275.png"/></span></p><p class="s6">Colors Available for Use with the Member Functions setLEDColor() and getLEDColor()</p><p>This appendix lists all the possible color names that can be used to set and get the LED color using member functions setLEDColor()  and getLEDColor().  Each name must be enclosed with quotation marks when used as the argument for setLEDColor().   The name of each color is listed along with its corresponding RGB values in Table C.1 below.<br/>Table C.1: The colors available for use with setLEDColor() and getLEDColor().</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">Color Name</p></td><td><p class="s7">Red</p></td><td><p class="s7">Green</p></td><td><p class="s7">Blue</p></td></tr><tr><td><p class="s7">aliceBlue</p></td><td><p class="s7">240</p></td><td><p class="s7">248</p></td><td><p class="s7">255</p></td></tr><tr><td><p class="s7">antiqueWhite</p></td><td><p class="s7">250</p></td><td><p class="s7">235</p></td><td><p class="s7">215</p></td></tr><tr><td><p class="s7">aqua</p></td><td><p class="s7">0</p></td><td><p class="s7">255</p></td><td><p class="s7">255</p></td></tr><tr><td><p class="s7">aquamarine</p></td><td><p class="s7">127</p></td><td><p class="s7">255</p></td><td><p class="s7">212</p></td></tr><tr><td><p class="s7">azure</p></td><td><p class="s7">240</p></td><td><p class="s7">255</p></td><td><p class="s7">255</p></td></tr><tr><td><p class="s7">beige</p></td><td><p class="s7">245</p></td><td><p class="s7">245</p></td><td><p class="s7">220</p></td></tr><tr><td><p class="s7">bisque</p></td><td><p class="s7">255</p></td><td><p class="s7">228</p></td><td><p class="s7">196</p></td></tr><tr><td><p class="s7">black</p></td><td><p class="s7">0</p></td><td><p class="s7">0</p></td><td><p class="s7">0</p></td></tr><tr><td><p class="s7">blanchedAlmond</p></td><td><p class="s7">255</p></td><td><p class="s7">235</p></td><td><p class="s7">205</p></td></tr><tr><td><p class="s7">blue</p></td><td><p class="s7">0</p></td><td><p class="s7">0</p></td><td><p class="s7">255</p></td></tr><tr><td><p class="s7">blueViolet</p></td><td><p class="s7">138</p></td><td><p class="s7">43</p></td><td><p class="s7">226</p></td></tr></table><p>(Continued)<br/>Appendix C. Colors Available for Use with the Member Functions setLEDColor() and getLEDColor()<br/>Table C.1: (Continued)</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">Color Name</p></td><td><p class="s7">Red</p></td><td><p class="s7">Green</p></td><td><p class="s7">Blue</p></td></tr><tr><td><p class="s7">brown</p></td><td><p class="s7">165</p></td><td><p class="s7">42</p></td><td><p class="s7">42</p></td></tr><tr><td><p class="s7">burlyWood</p></td><td><p class="s7">222</p></td><td><p class="s7">184</p></td><td><p class="s7">135</p></td></tr><tr><td><p class="s7">cadetBlue</p></td><td><p class="s7">95</p></td><td><p class="s7">158</p></td><td><p class="s7">160</p></td></tr><tr><td><p class="s7">chartreuse</p></td><td><p class="s7">127</p></td><td><p class="s7">255</p></td><td><p class="s7">0</p></td></tr><tr><td><p class="s7">chocolate</p></td><td><p class="s7">210</p></td><td><p class="s7">105</p></td><td><p class="s7">30</p></td></tr><tr><td><p class="s7">coral</p></td><td><p class="s7">255</p></td><td><p class="s7">127</p></td><td><p class="s7">80</p></td></tr><tr><td><p class="s7">cornflowerBlue</p></td><td><p class="s7">100</p></td><td><p class="s7">149</p></td><td><p class="s7">237</p></td></tr><tr><td><p class="s7">cornSilk</p></td><td><p class="s7">255</p></td><td><p class="s7">248</p></td><td><p class="s7">220</p></td></tr><tr><td><p class="s7">crimson</p></td><td><p class="s7">220</p></td><td><p class="s7">20</p></td><td><p class="s7">60</p></td></tr><tr><td><p class="s7">darkBlue</p></td><td><p class="s7">0</p></td><td><p class="s7">0</p></td><td><p class="s7">139</p></td></tr><tr><td><p class="s7">darkCyan</p></td><td><p class="s7">0</p></td><td><p class="s7">139</p></td><td><p class="s7">139</p></td></tr><tr><td><p class="s7">darkGoldenrod</p></td><td><p class="s7">184</p></td><td><p class="s7">134</p></td><td><p class="s7">11</p></td></tr><tr><td><p class="s7">darkGray</p></td><td><p class="s7">169</p></td><td><p class="s7">169</p></td><td><p class="s7">169</p></td></tr><tr><td><p class="s7">darkGreen</p></td><td><p class="s7">0</p></td><td><p class="s7">100</p></td><td><p class="s7">0</p></td></tr><tr><td><p class="s7">darkKhaki</p></td><td><p class="s7">189</p></td><td><p class="s7">183</p></td><td><p class="s7">107</p></td></tr><tr><td><p class="s7">darkMagenta</p></td><td><p class="s7">139</p></td><td><p class="s7">0</p></td><td><p class="s7">139</p></td></tr><tr><td><p class="s7">darkOliveGreen</p></td><td><p class="s7">85</p></td><td><p class="s7">107</p></td><td><p class="s7">47</p></td></tr><tr><td><p class="s7">darkOrange</p></td><td><p class="s7">255</p></td><td><p class="s7">140</p></td><td><p class="s7">0</p></td></tr><tr><td><p class="s7">darkOrchid</p></td><td><p class="s7">153</p></td><td><p class="s7">50</p></td><td><p class="s7">204</p></td></tr><tr><td><p class="s7">darkRed</p></td><td><p class="s7">139</p></td><td><p class="s7">0</p></td><td><p class="s7">0</p></td></tr><tr><td><p class="s7">darkSalmon</p></td><td><p class="s7">233</p></td><td><p class="s7">150</p></td><td><p class="s7">122</p></td></tr><tr><td><p class="s7">darkSeaGreen</p></td><td><p class="s7">143</p></td><td><p class="s7">188</p></td><td><p class="s7">143</p></td></tr><tr><td><p class="s7">darkSlateBlue</p></td><td><p class="s7">72</p></td><td><p class="s7">61</p></td><td><p class="s7">139</p></td></tr><tr><td><p class="s7">darkSlateGray</p></td><td><p class="s7">47</p></td><td><p class="s7">79</p></td><td><p class="s7">79</p></td></tr><tr><td><p class="s7">darkTurquoise</p></td><td><p class="s7">0</p></td><td><p class="s7">206</p></td><td><p class="s7">209</p></td></tr><tr><td><p class="s7">darkViolet</p></td><td><p class="s7">148</p></td><td><p class="s7">0</p></td><td><p class="s7">211</p></td></tr><tr><td><p class="s7">deepPink</p></td><td><p class="s7">255</p></td><td><p class="s7">20</p></td><td><p class="s7">147</p></td></tr><tr><td><p class="s7">deepSkyBlue</p></td><td><p class="s7">0</p></td><td><p class="s7">191</p></td><td><p class="s7">255</p></td></tr><tr><td><p class="s7">dimGray</p></td><td><p class="s7">105</p></td><td><p class="s7">105</p></td><td><p class="s7">105</p></td></tr><tr><td><p class="s7">dodgerBlue</p></td><td><p class="s7">30</p></td><td><p class="s7">144</p></td><td><p class="s7">255</p></td></tr><tr><td><p class="s7">fireBrick</p></td><td><p class="s7">178</p></td><td><p class="s7">34</p></td><td><p class="s7">34</p></td></tr><tr><td><p class="s7">floralWhite</p></td><td><p class="s7">255</p></td><td><p class="s7">250</p></td><td><p class="s7">240</p></td></tr><tr><td><p class="s7">forestGreen</p></td><td><p class="s7">34</p></td><td><p class="s7">139</p></td><td><p class="s7">34</p></td></tr><tr><td><p class="s7">fuchsia</p></td><td><p class="s7">255</p></td><td><p class="s7">0</p></td><td><p class="s7">255</p></td></tr><tr><td><p class="s7">gainsboro</p></td><td><p class="s7">220</p></td><td><p class="s7">220</p></td><td><p class="s7">220</p></td></tr><tr><td><p class="s7">ghostWhite</p></td><td><p class="s7">248</p></td><td><p class="s7">248</p></td><td><p class="s7">255</p></td></tr><tr><td><p class="s7">gold</p></td><td><p class="s7">255</p></td><td><p class="s7">215</p></td><td><p class="s7">0</p></td></tr><tr><td><p class="s7">goldenrod</p></td><td><p class="s7">218</p></td><td><p class="s7">165</p></td><td><p class="s7">32</p></td></tr><tr><td><p class="s7">gray</p></td><td><p class="s7">128</p></td><td><p class="s7">128</p></td><td><p class="s7">128</p></td></tr><tr><td><p class="s7">green</p></td><td><p class="s7">0</p></td><td><p class="s7">255</p></td><td><p class="s7">0</p></td></tr><tr><td><p class="s7">greenYellow</p></td><td><p class="s7">173</p></td><td><p class="s7">255</p></td><td><p class="s7">47</p></td></tr></table><p>(Continued)<br/>315<br/>Appendix C. Colors Available for Use with the Member Functions setLEDColor() and getLEDColor()<br/>Table C.1: (Continued)</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">Color Name</p></td><td><p class="s7">Red</p></td><td><p class="s7">Green</p></td><td><p class="s7">Blue</p></td></tr><tr><td><p class="s7">honeydew</p></td><td><p class="s7">240</p></td><td><p class="s7">255</p></td><td><p class="s7">240</p></td></tr><tr><td><p class="s7">hotPink</p></td><td><p class="s7">255</p></td><td><p class="s7">105</p></td><td><p class="s7">180</p></td></tr><tr><td><p class="s7">indigo</p></td><td><p class="s7">75</p></td><td><p class="s7">0</p></td><td><p class="s7">130</p></td></tr><tr><td><p class="s7">ivory</p></td><td><p class="s7">255</p></td><td><p class="s7">255</p></td><td><p class="s7">240</p></td></tr><tr><td><p class="s7">khaki</p></td><td><p class="s7">240</p></td><td><p class="s7">230</p></td><td><p class="s7">140</p></td></tr><tr><td><p class="s7">lavender</p></td><td><p class="s7">230</p></td><td><p class="s7">230</p></td><td><p class="s7">250</p></td></tr><tr><td><p class="s7">lavenderBlush</p></td><td><p class="s7">255</p></td><td><p class="s7">240</p></td><td><p class="s7">245</p></td></tr><tr><td><p class="s7">lawnGreen</p></td><td><p class="s7">124</p></td><td><p class="s7">252</p></td><td><p class="s7">0</p></td></tr><tr><td><p class="s7">lemonChiffon</p></td><td><p class="s7">255</p></td><td><p class="s7">250</p></td><td><p class="s7">205</p></td></tr><tr><td><p class="s7">lightBlue</p></td><td><p class="s7">173</p></td><td><p class="s7">216</p></td><td><p class="s7">230</p></td></tr><tr><td><p class="s7">lightCoral</p></td><td><p class="s7">240</p></td><td><p class="s7">128</p></td><td><p class="s7">128</p></td></tr><tr><td><p class="s7">lightCyan</p></td><td><p class="s7">224</p></td><td><p class="s7">255</p></td><td><p class="s7">255</p></td></tr><tr><td><p class="s7">lightGoldenrodYellow</p></td><td><p class="s7">250</p></td><td><p class="s7">250</p></td><td><p class="s7">210</p></td></tr><tr><td><p class="s7">lightGray</p></td><td><p class="s7">211</p></td><td><p class="s7">211</p></td><td><p class="s7">211</p></td></tr><tr><td><p class="s7">lightGreen</p></td><td><p class="s7">144</p></td><td><p class="s7">238</p></td><td><p class="s7">144</p></td></tr><tr><td><p class="s7">lightPink</p></td><td><p class="s7">255</p></td><td><p class="s7">182</p></td><td><p class="s7">193</p></td></tr><tr><td><p class="s7">lightSalmon</p></td><td><p class="s7">255</p></td><td><p class="s7">160</p></td><td><p class="s7">122</p></td></tr><tr><td><p class="s7">lightSeaGreen</p></td><td><p class="s7">32</p></td><td><p class="s7">178</p></td><td><p class="s7">170</p></td></tr><tr><td><p class="s7">lightSkyBlue</p></td><td><p class="s7">135</p></td><td><p class="s7">206</p></td><td><p class="s7">250</p></td></tr><tr><td><p class="s7">lightSlateGray</p></td><td><p class="s7">119</p></td><td><p class="s7">136</p></td><td><p class="s7">153</p></td></tr><tr><td><p class="s7">lightSteelBlue</p></td><td><p class="s7">176</p></td><td><p class="s7">196</p></td><td><p class="s7">222</p></td></tr><tr><td><p class="s7">lightYellow</p></td><td><p class="s7">255</p></td><td><p class="s7">255</p></td><td><p class="s7">224</p></td></tr><tr><td><p class="s7">limeGreen</p></td><td><p class="s7">50</p></td><td><p class="s7">205</p></td><td><p class="s7">50</p></td></tr><tr><td><p class="s7">linen</p></td><td><p class="s7">250</p></td><td><p class="s7">240</p></td><td><p class="s7">230</p></td></tr><tr><td><p class="s7">magenta</p></td><td><p class="s7">255</p></td><td><p class="s7">0</p></td><td><p class="s7">255</p></td></tr><tr><td><p class="s7">maroon</p></td><td><p class="s7">128</p></td><td><p class="s7">0</p></td><td><p class="s7">0</p></td></tr><tr><td><p class="s7">mediumAquamarine</p></td><td><p class="s7">102</p></td><td><p class="s7">205</p></td><td><p class="s7">170</p></td></tr><tr><td><p class="s7">mediumBlue</p></td><td><p class="s7">0</p></td><td><p class="s7">0</p></td><td><p class="s7">205</p></td></tr><tr><td><p class="s7">mediumOrchid</p></td><td><p class="s7">186</p></td><td><p class="s7">85</p></td><td><p class="s7">211</p></td></tr><tr><td><p class="s7">mediumPurple</p></td><td><p class="s7">147</p></td><td><p class="s7">112</p></td><td><p class="s7">219</p></td></tr><tr><td><p class="s7">mediumSeaGreen</p></td><td><p class="s7">60</p></td><td><p class="s7">179</p></td><td><p class="s7">113</p></td></tr><tr><td><p class="s7">mediumSlateBlue</p></td><td><p class="s7">123</p></td><td><p class="s7">104</p></td><td><p class="s7">238</p></td></tr><tr><td><p class="s7">mediumSpringGreen</p></td><td><p class="s7">0</p></td><td><p class="s7">250</p></td><td><p class="s7">154</p></td></tr><tr><td><p class="s7">mediumTurquoise</p></td><td><p class="s7">72</p></td><td><p class="s7">209</p></td><td><p class="s7">204</p></td></tr><tr><td><p class="s7">mediumVioletRed</p></td><td><p class="s7">199</p></td><td><p class="s7">21</p></td><td><p class="s7">133</p></td></tr><tr><td><p class="s7">midnightBlue</p></td><td><p class="s7">25</p></td><td><p class="s7">25</p></td><td><p class="s7">112</p></td></tr><tr><td><p class="s7">mintCream</p></td><td><p class="s7">245</p></td><td><p class="s7">255</p></td><td><p class="s7">250</p></td></tr><tr><td><p class="s7">mistyRose</p></td><td><p class="s7">255</p></td><td><p class="s7">228</p></td><td><p class="s7">225</p></td></tr><tr><td><p class="s7">moccasin</p></td><td><p class="s7">255</p></td><td><p class="s7">228</p></td><td><p class="s7">181</p></td></tr><tr><td><p class="s7">navajoWhite</p></td><td><p class="s7">255</p></td><td><p class="s7">222</p></td><td><p class="s7">173</p></td></tr><tr><td><p class="s7">navy</p></td><td><p class="s7">0</p></td><td><p class="s7">0</p></td><td><p class="s7">128</p></td></tr><tr><td><p class="s7">oldLace</p></td><td><p class="s7">253</p></td><td><p class="s7">245</p></td><td><p class="s7">230</p></td></tr><tr><td><p class="s7">olive</p></td><td><p class="s7">128</p></td><td><p class="s7">128</p></td><td><p class="s7">0</p></td></tr></table><p>316<br/>(Continued)<br/>Appendix C. Colors Available for Use with the Member Functions setLEDColor() and getLEDColor()<br/>Table C.1: (Continued)</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">Color Name</p></td><td><p class="s7">Red</p></td><td><p class="s7">Green</p></td><td><p class="s7">Blue</p></td></tr><tr><td><p class="s7">oliveDrab</p></td><td><p class="s7">107</p></td><td><p class="s7">142</p></td><td><p class="s7">35</p></td></tr><tr><td><p class="s7">orange</p></td><td><p class="s7">255</p></td><td><p class="s7">165</p></td><td><p class="s7">0</p></td></tr><tr><td><p class="s7">orangeRed</p></td><td><p class="s7">255</p></td><td><p class="s7">69</p></td><td><p class="s7">0</p></td></tr><tr><td><p class="s7">orchid</p></td><td><p class="s7">218</p></td><td><p class="s7">112</p></td><td><p class="s7">214</p></td></tr><tr><td><p class="s7">paleGoldenrod</p></td><td><p class="s7">238</p></td><td><p class="s7">232</p></td><td><p class="s7">170</p></td></tr><tr><td><p class="s7">paleGreen</p></td><td><p class="s7">152</p></td><td><p class="s7">251</p></td><td><p class="s7">152</p></td></tr><tr><td><p class="s7">paleTurquoise</p></td><td><p class="s7">175</p></td><td><p class="s7">238</p></td><td><p class="s7">238</p></td></tr><tr><td><p class="s7">paleVioletRed</p></td><td><p class="s7">219</p></td><td><p class="s7">112</p></td><td><p class="s7">147</p></td></tr><tr><td><p class="s7">papayaWhip</p></td><td><p class="s7">255</p></td><td><p class="s7">239</p></td><td><p class="s7">213</p></td></tr><tr><td><p class="s7">peachPuff</p></td><td><p class="s7">255</p></td><td><p class="s7">218</p></td><td><p class="s7">185</p></td></tr><tr><td><p class="s7">peru</p></td><td><p class="s7">205</p></td><td><p class="s7">133</p></td><td><p class="s7">63</p></td></tr><tr><td><p class="s7">pink</p></td><td><p class="s7">255</p></td><td><p class="s7">192</p></td><td><p class="s7">203</p></td></tr><tr><td><p class="s7">plum</p></td><td><p class="s7">221</p></td><td><p class="s7">160</p></td><td><p class="s7">221</p></td></tr><tr><td><p class="s7">powderBlue</p></td><td><p class="s7">176</p></td><td><p class="s7">224</p></td><td><p class="s7">230</p></td></tr><tr><td><p class="s7">purple</p></td><td><p class="s7">128</p></td><td><p class="s7">0</p></td><td><p class="s7">128</p></td></tr><tr><td><p class="s7">red</p></td><td><p class="s7">255</p></td><td><p class="s7">0</p></td><td><p class="s7">0</p></td></tr><tr><td><p class="s7">rosyBrown</p></td><td><p class="s7">188</p></td><td><p class="s7">143</p></td><td><p class="s7">143</p></td></tr><tr><td><p class="s7">royalBlue</p></td><td><p class="s7">65</p></td><td><p class="s7">105</p></td><td><p class="s7">225</p></td></tr><tr><td><p class="s7">saddleBrown</p></td><td><p class="s7">139</p></td><td><p class="s7">69</p></td><td><p class="s7">19</p></td></tr><tr><td><p class="s7">salmon</p></td><td><p class="s7">250</p></td><td><p class="s7">128</p></td><td><p class="s7">114</p></td></tr><tr><td><p class="s7">sandyBrown</p></td><td><p class="s7">244</p></td><td><p class="s7">164</p></td><td><p class="s7">96</p></td></tr><tr><td><p class="s7">seaGreen</p></td><td><p class="s7">46</p></td><td><p class="s7">139</p></td><td><p class="s7">87</p></td></tr><tr><td><p class="s7">seaShell</p></td><td><p class="s7">255</p></td><td><p class="s7">245</p></td><td><p class="s7">238</p></td></tr><tr><td><p class="s7">sienna</p></td><td><p class="s7">160</p></td><td><p class="s7">82</p></td><td><p class="s7">45</p></td></tr><tr><td><p class="s7">silver</p></td><td><p class="s7">192</p></td><td><p class="s7">192</p></td><td><p class="s7">192</p></td></tr><tr><td><p class="s7">skyBlue</p></td><td><p class="s7">135</p></td><td><p class="s7">206</p></td><td><p class="s7">235</p></td></tr><tr><td><p class="s7">slateBlue</p></td><td><p class="s7">106</p></td><td><p class="s7">90</p></td><td><p class="s7">205</p></td></tr><tr><td><p class="s7">slateGray</p></td><td><p class="s7">112</p></td><td><p class="s7">128</p></td><td><p class="s7">144</p></td></tr><tr><td><p class="s7">snow</p></td><td><p class="s7">255</p></td><td><p class="s7">250</p></td><td><p class="s7">250</p></td></tr><tr><td><p class="s7">springGreen</p></td><td><p class="s7">0</p></td><td><p class="s7">255</p></td><td><p class="s7">127</p></td></tr><tr><td><p class="s7">steelBlue</p></td><td><p class="s7">70</p></td><td><p class="s7">130</p></td><td><p class="s7">180</p></td></tr><tr><td><p class="s7">tan</p></td><td><p class="s7">210</p></td><td><p class="s7">180</p></td><td><p class="s7">140</p></td></tr><tr><td><p class="s7">teal</p></td><td><p class="s7">0</p></td><td><p class="s7">128</p></td><td><p class="s7">128</p></td></tr><tr><td><p class="s7">thistle</p></td><td><p class="s7">216</p></td><td><p class="s7">191</p></td><td><p class="s7">216</p></td></tr><tr><td><p class="s7">tomato</p></td><td><p class="s7">255</p></td><td><p class="s7">99</p></td><td><p class="s7">71</p></td></tr><tr><td><p class="s7">turquoise</p></td><td><p class="s7">64</p></td><td><p class="s7">224</p></td><td><p class="s7">208</p></td></tr><tr><td><p class="s7">violet</p></td><td><p class="s7">238</p></td><td><p class="s7">130</p></td><td><p class="s7">238</p></td></tr><tr><td><p class="s7">wheat</p></td><td><p class="s7">245</p></td><td><p class="s7">222</p></td><td><p class="s7">179</p></td></tr><tr><td><p class="s7">white</p></td><td><p class="s7">255</p></td><td><p class="s7">255</p></td><td><p class="s7">255</p></td></tr><tr><td><p class="s7">whiteSmoke</p></td><td><p class="s7">245</p></td><td><p class="s7">245</p></td><td><p class="s7">245</p></td></tr><tr><td><p class="s7">yellow</p></td><td><p class="s7">255</p></td><td><p class="s7">255</p></td><td><p class="s7">0</p></td></tr><tr><td><p class="s7">yellowgreen</p></td><td><p class="s7">154</p></td><td><p class="s7">205</p></td><td><p class="s7">50</p></td></tr></table><p>317<br/><span><IMG width="627" height="8" src="chlinkbot/Image_1276.png"/></span><br/><span><IMG width="624" height="3" src="chlinkbot/Image_1277.png"/></span></p><p class="s1">APPENDIX D</p><p><span><IMG width="624" height="3" src="chlinkbot/Image_1278.png"/></span></p><p class="s6">Quick References to Ch</p><p>This appendix summarizes Ch features used in this book.</p><p class="s21">D.1    Reserved Keywords and Names</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1279.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1280.png"/></span></p><p class="s11">CPlot    <span style=" color: #F00;">double    else   if    int    </span>printf     pow    <span style=" color: #F00;">return    </span>robotRecordData t    scanf    sqrt    <span style=" color: #F00;">while</span></p><p class="s21">D.2    Punctuators</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1281.png"/></span></p><p class="s23">+      -    *   /   (   )  . \   &quot;   #      &amp;     {   }</p><p class="s21">D.3    Comments</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1282.png"/></span></p><p class="s23">/* This is a  comment */</p><p class="s23">int i;        // this is also  a comment</p><p class="s21">D.4    Header  Files</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1283.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1284.png"/></span></p><p class="s28">#include <span class="s29">&lt;</span>math.h<span class="s29">&gt; </span><span style=" color: #000;">for the macro M PI for </span><span class="s5">π</span><span style=" color: #000;">.</span></p><p class="s28">#include <span class="s29">&lt;</span>chplot.h<span class="s29">&gt; </span><span style=" color: #000;">for the plotting class </span><span style=" color: #FF1CCE;">CPlot</span><span style=" color: #000;">.</span></p><p><span style=" color: #998342;">#include </span><span class="s29">&lt;</span><span style=" color: #998342;">linkbot.h</span><span class="s29">&gt; </span>for the robot classes <span style=" color: #FF1CCE;">CLinkbotI </span>and <span style=" color: #FF1CCE;">CLinkbotL</span>.<br/>D.5.  Declaration of Variables for Integers and Decimals<br/>Appendix D. Quick References to Ch<br/><span><IMG width="624" height="53" src="chlinkbot/Image_1285.png"/></span></p><p class="s21">D.5    Declaration of Variables  for Integers  and Deci-</p><p class="s21">mals</p><p class="s23">int i, n=10;            //  variables for integers double x, y=1.2;      // variables for decimals</p><p class="s21">D.6    Declaration of Functions</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1286.png"/></span></p><p class="s23">/* define a function func(x) for f(x)=2x-3 */</p><p class="s23">double func(double x)  {</p><p class="s23">return  2*x - 3;</p><p class="s23">}</p><p class="s21">D.7    The <span style=" color: #F00;">if</span>-<span style=" color: #F00;">else </span>Statement</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1287.png"/></span></p><p class="s23">if(x&lt;0) {</p><p class="s23">y  = 2*x;</p><p class="s23">}</p><p class="s23">else {</p><p class="s23">y  = 3*x;</p><p class="s23">}</p><p class="s21">D.8    The <span style=" color: #F00;">while </span>Loop</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1288.png"/></span></p><p class="s23">i=0;</p><p class="s23">while(i &lt;  num)  {</p><p class="s23">sum  =  sum  +  i;</p><p class="s23">i =  i +  1;</p><p class="s23">}</p><p class="s21">D.9    Input  Function  <span style=" color: #FF1CCE;">scanf</span>()  and  Output Function</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1289.png"/></span></p><p class="s34">printf<span style=" color: #000;">()</span></p><p class="s23">printf(&quot;i= %d, x  = %lf\n&quot;, i, x);   // print integer i and decimal x printf(&quot;%.2lf\n&quot;, x);     // print two  digits after the decimal point printf(&quot;%E\n&quot;, x);          // print x in scientific notation scanf(&quot;%d&quot;, &amp;i);             // get the user input for i</p><p class="s23">scanf(&quot;%d%lf&quot;, &amp;i,  &amp;x);  // get the user input for i and x</p><p>319<br/>D.10.  Math Operators<br/>Appendix D. Quick References to Ch<br/>Print special characters using <span class="s23">&quot;\n&quot; </span>for a newline character and <span class="s23">&quot;%%&quot; </span>for the percent symbol <span class="s23">%</span>.</p><p class="s23">printf(&quot;Hello, World\n&quot;);</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1290.png"/></span></p><p class="s23">printf(&quot;We sell Yogurt with 10%%  discount\n&quot;); // with  10% discount</p><p class="s21">D.10    Math Operators</p><table border="1" cellspacing="0" style="border-collapse:collapse"><tr><td><p class="s7">Description</p></td><td><p class="s7">Operator in math</p></td><td><p class="s7">Operator in Ch</p></td><td><p class="s7">Operation</p></td></tr><tr><td><p class="s7">addition</p><p class="s7">subtraction multiplication multiplication division</p></td><td><p class="s10">+</p><p class="s10">−</p><p class="s10">×</p><p class="s10">·</p><p class="s10">÷</p></td><td><p class="s30">+</p><p class="s30">-</p><p class="s30">*</p><p class="s30">*</p><p class="s30">/</p></td><td><p class="s10">x <span class="s30">+ </span>y</p><p class="s10">x <span class="s30">- </span>y</p><p class="s10">x <span class="s30">* </span>y x <span class="s30">* </span>y x <span class="s30">/ </span>y</p></td></tr></table><p><span><IMG width="35" height="1" src="chlinkbot/Image_1291.png"/></span><br/>Unless the result of a division operation is a whole number, to get the correct numerical result, one of the numbers must be inputted as a decimal number. For example, the math expression <span class="s45">2(3+4)  </span>can be inputted in<br/>Ch as <span class="s23">2.0*(3+4)/(5-6)</span>.</p><p class="s21">D.11    Relational  Operators</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1292.png"/></span></p><p class="s23">&lt;      &lt;=      ==      &gt;=      &gt;      !=</p><p class="s21">D.12    Math Functions  <span style=" color: #FF1CCE;">sqrt</span>(), <span style=" color: #FF1CCE;">pow</span>(), and <span style=" color: #FF1CCE;">abs</span>()</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1293.png"/></span><br/><span><IMG width="9" height="1" src="chlinkbot/Image_1294.png"/></span><br/>The square root function <span style=" color: #FF1CCE;">sqrt</span>(x)  is for <span class="s5">√x</span>.  The exponential function <span style=" color: #FF1CCE;">pow</span>(x, y) is for <span class="s5">x</span><span class="s45">y </span>.  The absolute function <span style=" color: #FF1CCE;">abs</span>(x) is for <span class="s5">|x|</span>.</p><p class="s23">y  = sqrt(x);</p><p class="s23">y  = pow(x,  3);</p><p class="s23">y  = abs(x);</p><p class="s21">D.13    Member Functions of the Plotting Class <span style=" color: #FF1CCE;">CPlot</span></p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1295.png"/></span><br/>This document uses several member functions of the plotting class <span style=" color: #FF1CCE;">CPlot </span>to create and manipulate plots. Detailed information for member functions of the class <span style=" color: #FF1CCE;">CPlot </span>can be found in the section for the header file <span style=" color: #998342;">chplot.h </span>in <span class="s5">Ch Reference Guide</span>,  which is available in a PDF file <span class="s23">chref.pdf </span>by clicking the command <span class="s23">Help-&gt;Help </span>in ChIDE. The usages of the member functions in this document are summarized in this appendix.<br/><span><IMG width="5" height="1" src="chlinkbot/Image_1296.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1297.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1298.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1299.png"/></span><br/>plot.arrow(x head, y head, x tail, y tail)<br/><span><IMG width="5" height="1" src="chlinkbot/Image_1300.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1301.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1302.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1303.png"/></span><br/>adds an arrow to a plot. The arrow points from (<span class="s5">x tail</span>, <span class="s5">y tail</span>) to (<span class="s5">x head</span>, <span class="s5">y head</span>). For example,</p><p class="s23">plot.arrow(x1, y1, x2, y2);</p><p>320<br/>D.13.  Member Functions of the Plotting Class <span style=" color: #FF1CCE;">CPlot</span><br/>Appendix D. Quick References to Ch<br/>This member function can be used to draw arrows in x and y axes.<br/>plot.axisRange(axis, minimum, maximum)<br/><span><IMG width="5" height="1" src="chlinkbot/Image_1304.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1305.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1306.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1307.png"/></span><br/>sets the minimum and maximum value for an axis. The first argument <span class="s23">axis </span>specifies which axis. The commonly used macros for the argument <span class="s23">axis </span>are PLOT  AXIS X and PLOT  AXIS Y for x-axis and y-axis, respectively. The second argument <span class="s23">minimum </span>is for the minimum value of the axis. The third argument <span class="s23">maximum </span>is for the maximum value of the axis. For example,</p><p class="s23">plot.axisRange(PLOT_AXIS_X, -10, 10);</p><p class="s23">plot.axisRange(PLOT_AXIS_Y, -10, 10);</p><p>plot.enhanceText()<br/>sets a plot to use the enhanced text for strings such as title, labels, and legends.  Special symbols for the enhanced text can be found in <span class="s5">Ch Reference Guide</span>, available in a PDF file <span class="s23">chref.pdf </span>by clicking the command <span class="s23">Help-&gt;Help </span>in ChIDE. For example,</p><p class="s23">plot.enhanceText();</p><p><span><IMG width="9" height="1" src="chlinkbot/Image_1308.png"/></span><br/>The strings <span class="s23">&quot;/Symbol \\243&quot; </span>and <span class="s23">&quot;/Symbol \\263&quot; </span>represent <span class="s5">≤ </span>and <span class="s5">≥</span>, respectively. The string <span class="s23">&quot;{/Symbol @{\\140}\\326}x&quot; </span>is used to print a square root function sign <span class="s5">√x</span>. To print<br/>a superscript on a plot, the symbol <span class="s23">ˆ </span>is used, such as <span class="s23">xˆ2 </span>for <span class="s5">x</span><span class="s45">2</span>.<br/>plot.func2D(x0, xf, num, func)<br/>plots a function defined as <span class="s23">func() </span>in the range <span class="s23">[x0, xf] </span>with the number of points specified by the argument <span class="s23">num</span>. For example,</p><p class="s23">plot.func2D(-10, 10, 500, func);</p><p>plot.label(axis, “string”)<br/>adds a label to an axis. For example,</p><p class="s23">plot.label(PLOT_AXIS_X, &quot;x&quot;);</p><p class="s23">plot.label(PLOT_AXIS_Y, &quot;y=2x+5&quot;);</p><p>plot.legend(“legend”, num)<br/>adds a legend to the plot.  The first argument is a string for the legend.  The second argument is the number of the data set associated with the legend. Numbering of data sets starts with zero. For example,</p><p class="s23">plot.legend(&quot;y=2x+5&quot;, 0);</p><p>plot.line(x1, y1, x2, y2)<br/>draws a straight line between the two end points <span class="s23">[x1, y1] </span>and <span class="s23">[x2, y2]</span>. For example,</p><p class="s23">plot.line(-10,  150, 10, 250);</p><p>321<br/>D.13.  Member Functions of the Plotting Class <span style=" color: #FF1CCE;">CPlot</span><br/>Appendix D. Quick References to Ch<br/>plot.lineType(num, lineType, lineWidth, “grey”)<br/>specifies a line type.  The first argument <span class="s23">num </span>specifies the data set, to which the line type, width, and color apply. The second argument <span class="s23">lineType </span>is an integer index representing the line type for drawing. Use the same value for different curves making each curve with the same style to have the same color by default. The third argument <span class="s23">lineWidth</span>, with an integer value, is a scaling factor for the line width. The actual line width in the plot is <span class="s23">lineWidth </span>multiplied by the default width. The fourth argument in the string specifies the color. For example,</p><p class="s23">plot.lineType(0, 1, 2, &quot;green&quot;);</p><p>plot.mathCoord()<br/>sets the attributes for a mathematical coordinate system. For example,</p><p class="s23">plot.mathCoord();</p><p>plot.plotting()<br/>generates a plot. For example,</p><p class="s23">plot.plotting();</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_1309.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1310.png"/></span><br/>plot.plotType(PLOT PLOTTYPE LINE, num)<br/>specifies the plot type as a line for the data set <span class="s23">num</span>. For example,</p><p class="s23">plot.plotType(PLOT_PLOTTYPE_LINE, 0);</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_1311.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1312.png"/></span><br/>plot.plotType(PLOT PLOTTYPE FILLEDCURVES, num, “y1=-20”, “color”)<br/>specifies the plot type for filling an area. The second argument <span class="s23">num </span>specifies the data set to which the filled curve applies. The third argument specifies an axis for filling the area. The fourth argument specifies the color to fill the area. The example below</p><p class="s23">plot.plotType(PLOT_PLOTTYPE_FILLEDCURVES, 0, &quot;y1=-20&quot;, &quot;yellow&quot;);</p><p>specifies that the plot fills the area with the color grey between the curve, created by the data points in the first data set, and the horizontal line <span class="s5">y = −20</span>.<br/>plot.point(x, y)<br/>draws a point at the coordinate <span class="s23">(x, y)</span>. For example,</p><p class="s23">plot.point(-10, 10);</p><p>plot.pointType(anum, pointType, pointSize, ”color”)<br/>specifies the point type, size, and color for point(s).</p><p class="s5">num <span class="p">The first argument specifies the data set to which the point type, size, and col or apply. The second argument pointType in integer represents the desired point type. The third argument is the point size multiplied by the default size. The last argument is color for the point. For example,</span></p><p class="s23">plot.pointType(num, 7, 2, &quot;green&quot;);</p><p>322<br/>D.13.  Member Functions of the Plotting Class <span style=" color: #FF1CCE;">CPlot</span><br/>Appendix D. Quick References to Ch<br/>plot.sizeRatio(ratio)<br/>sets the x and y aspect ratio for the plot. For example,</p><p class="s23">plot.sizeRatio(1);</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_1313.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1314.png"/></span><br/>plot.text(“string”, PLOT  TEXT CENTER, x, y)<br/>adds the text <span class="s23">&quot;string&quot; </span>at (x, y). For example,</p><p class="s23">plot.text(&quot;x&quot;, PLOT_TEXT_CENTER, x, y);</p><p>plot.ticsRange(axis, incr)<br/>specifies the incremental value for tick marks for an axis.</p><p class="s23">plot.ticsRange(PLOT_AXIS_X, 1);</p><p class="s23">plot.ticsRange(PLOT_AXIS_Y, 5);</p><p>plot.title(“plot  title”)<br/>adds a title, specified in a string, to the plot. For example,</p><p class="s23">plot.title(&quot;Ch  plot title&quot;);</p><p>323<br/><span><IMG width="627" height="8" src="chlinkbot/Image_1315.png"/></span><br/><span><IMG width="624" height="3" src="chlinkbot/Image_1316.png"/></span></p><p class="s1">APPENDIX E</p><p><span><IMG width="624" height="3" src="chlinkbot/Image_1317.png"/></span></p><p class="s6">Quick Reference  to Linkbot</p><p class="s6">Member Functions</p><p>Some data types and member functions of the classes <span style=" color: #FF1CCE;">LinkbotI</span>, <span style=" color: #FF1CCE;">LinkbotL</span>, <span style=" color: #FF1CCE;">CLinkbotIGroup</span>, and <span style=" color: #FF1CCE;">CLinkbotL- Group  </span>are defined in the header file <span style=" color: #998342;">linkbot.h</span>.  This appendix summarizes these data types and member functions used to control the Linkbots.</p><p class="s21">E.1    Data Types</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1318.png"/></span><br/>The data types defined in the header file <span style=" color: #998342;">linkbot.h </span>are described in this section. These data types are used by the Linkbot library to represent certain values, such as joint id’s and motor directions.<br/><span><IMG width="543" height="1" src="chlinkbot/Image_1319.png"/></span><br/>Data Type                        Description<br/><span><IMG width="543" height="1" src="chlinkbot/Image_1320.png"/></span><br/>An enumerated value that indicates a Linkbot joint.<br/><span><IMG width="5" height="1" src="chlinkbot/Image_1321.png"/></span></p><p class="s11">robotJointId t</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_1322.png"/></span></p><p class="s11">robotRecordData t</p><p>Recorded time, angle, distance, x or y coordinate.<br/><span><IMG width="543" height="1" src="chlinkbot/Image_1323.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1324.png"/></span><br/>The data type <span style=" color: #FF1CCE;">robotJointId t </span>is used to identify a joint on the Linkbot. Valid values for this type are listed in the table below:<br/><span><IMG width="524" height="1" src="chlinkbot/Image_1325.png"/></span><br/>Value                          Description<br/><span><IMG width="524" height="1" src="chlinkbot/Image_1326.png"/></span><br/>JOINT1                      Joint number 1 on the Linkbot. JOINT2                      Joint number 2 on the Linkbot. JOINT3                      Joint number 3 on the Linkbot.<br/><span><IMG width="524" height="1" src="chlinkbot/Image_1327.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1328.png"/></span><br/>The data type <span style=" color: #FF1CCE;">robotRecordData t </span>is used for the member functions recordDistanceBegin(),  recor- dAngleBegin(), and recordxyBegin().<br/>Appendix E. Quick Reference to Linkbot Member Functions<br/>E.2.  Member Functions Available in both Classes <span style=" color: #FF1CCE;">CLinkbotI </span>and <span style=" color: #FF1CCE;">CLinkbotL</span></p><p class="s21">E.2    Member Functions  Available  in both  Classes</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1329.png"/></span></p><p class="s34">CLinkbotI <span style=" color: #000;">and </span>CLinkbotL</p><p>Member functions available in both classes <span style=" color: #FF1CCE;">CLinkbotI </span>and <span style=" color: #FF1CCE;">CLinkbotL </span>are listed in this section. A page number following a member function indicates where the member function is introduced. If there is no page number following a member function, the function has not be presented in this book.<br/>robot.blinkLED(delay, numBlinks)<br/>blinks the on-board LED. The argument <span class="s23">delay </span>is the amount of time between blinks. The argument</p><p class="s23">numBlinks <span class="p">is the number of times to blink the LED. For example,</span></p><p class="s23">robot.blinkLED(0.1, 10);</p><p>robot.connect(), page 35<br/>connects a robot to be controlled. For example,</p><p class="s23">robot.connect();</p><p>robot.connectWithSerialID(”serialID”)<br/>connects a robot to be controlled using the serial ID. The program then does not depend on the con- figuration set up by BaroboLink. For example,</p><p class="s23">robot.connectWithSerialID(&quot;BNC2&quot;);</p><p>robot.closeGripper(), page 242<br/>closes a gripper. For example,</p><p class="s23">robot.closeGripper();</p><p>robot.delaySeconds(seconds), page 92<br/>makes a program pause for the number of seconds specified before moving to the next line of code. For example,</p><p class="s23">robot.delaySeconds(3);</p><p>robot.disconnect()<br/>disconnects from a remote Linkbot. For example,</p><p class="s23">robot.disconnect();</p><p>robot.enableRecordDataShift(), page 178<br/>enables the shifting of recorded data.  By default, the record functions only record data while the<br/>Linkbot is in motion (data shifted). For example,</p><p class="s23">robot.enableRecordDataShift();</p><p>robot.disableRecordDataShift(), page 178<br/>disables the shifting of recorded data.  By default, the record functions only record data while the<br/>Linkbot is in motion (data shifted). For example,</p><p class="s23">robot.disableRecordDataShift();</p><p>325<br/>Appendix E. Quick Reference to Linkbot Member Functions<br/>E.2.  Member Functions Available in both Classes <span style=" color: #FF1CCE;">CLinkbotI </span>and <span style=" color: #FF1CCE;">CLinkbotL</span><br/>robot.getAccelerometerData(x, y, z), page 156<br/>measures the magnitude of gravitational forces in the X, Y and Z directions and stores values in variables <span class="s23">x</span>, <span class="s23">y</span>, and <span class="s23">z</span>.</p><p class="s23">robot.getAccelerometer(x, y, z);</p><p>robot.getBatteryVoltage(voltage), page 158<br/>measures the battery voltage and stores value in variable <span class="s23">voltage</span>.</p><p class="s23">robot.getBatteryVoltage(voltage);</p><p>robot.getLEDColor(color), page 147<br/>passes the color of the robot’s LED to the variable <span class="s23">color</span>. For example,</p><p class="s23">string_t color;</p><p class="s23">robot.getLEDColor(color);</p><p>robot.getLEDColorRGB (r, g, b), page 148<br/>passes the color of the robot’s LED in RGB values to variables <span class="s23">r</span>, <span class="s23">g</span>, and <span class="s23">b</span>. For example,</p><p class="s23">robot.getLEDColorRGB (r, g, b);</p><p>robot.getJointAngle(id, angle), page 87<br/>gets the joint angle of a Linkbot 10 times and stores the average of the 10 joint angles (in degrees) in the variable <span class="s23">angle</span>. <span class="s23">id </span>is used to specify which joint to monitor and is written as JOINT1, JOINT2, or JOINT3 for the respective joints. For example,</p><p class="s23">robot.getJointAngle(JOINT1, angle);</p><p>robot.getJointAngles(angle1, angle2, angle3), Page 89<br/>is the same as getJointAngle(),  but it gets the average angle value for both movable joints of a robot. Values for the average angle of each joint will be stored in the respective variables <span class="s23">angle1</span>, <span class="s23">angle2</span>, and <span class="s23">angle3</span>. For example,</p><p class="s23">robot.getJointAngles(angle1, NaN, angle3);</p><p>robot.getJointAngleInstant(id, angle)<br/>gets a joint angle of a Linkbot (in degrees) in the variable <span class="s23">angle</span>.  <span class="s23">id </span>is used to specify which joint to monitor and is written as JOINT1, JOINT2, or JOINT3 for the respective joints. For example,</p><p class="s23">robot.getJointAngleInstant(JOINT1, angle);</p><p>robot.getJointAnglesInstant(angle1, angle2, angle3)<br/>is the same as getJointAngle(),  but it gets the angle values for both movable joints of a robot. Values for the angle of each joint will be stored in the respective variables <span class="s23">angle1</span>, <span class="s23">angle2</span>, and <span class="s23">angle3</span>. For example,</p><p class="s23">robot.getJointAnglesInstant(angle1, NaN, angle3);</p><p>robot.getJointSafetyAngle(angle)<br/>gets the current joint safety angle limit of a robot. The default joint safety angle is 10 degrees. For example,<br/>326<br/>Appendix E. Quick Reference to Linkbot Member Functions<br/>E.2.  Member Functions Available in both Classes <span style=" color: #FF1CCE;">CLinkbotI </span>and <span style=" color: #FF1CCE;">CLinkbotL</span></p><p class="s23">robot.getJointSafetyAngle(angle);</p><p>robot.getJointSafetyAngleTimeout(seconds)<br/>gets the current joint safety limit timeout of a robot.  The default joint safety limit timeout is 0.5 second. For example,</p><p class="s23">robot.getJointSafetyAngleTimeout(seconds);</p><p>robot.getJointSpeed(id, speed), page 94<br/>gets the speed (deg/sec) of a robot’s joint and stores the value in the variable <span class="s23">speed</span>.</p><p class="s23">robot.getJointSpeed(JOINT1, speed);</p><p>robot.getJointSpeedRatio(id, ratio), page 96<br/>gets the speed ratio of a robot’s joint and records value in the variable <span class="s23">ratio</span>.  Speed ratio is the current speed compared to the maximum speed (240 degrees per second). For example,</p><p class="s23">robot.getJointSpeedRatio(JOINT3, ratio);</p><p>robot.getJointSpeedRatios(ratio1, NaN, ratio3), page 97<br/>gets the speed ratios of moving joints of a robot and records values in the variables <span class="s23">ratio1 </span>and</p><p class="s23">ratio3<span class="p">. For example,</span></p><p class="s23">robot.getJointSpeedRatios(ratio1,  NaN, ratio3);</p><p>robot.getJointSpeeds(speed1, speed2, speed3), page 95<br/>gets the speed of both moving joints of a robot and stores value in the respective variable for that joint. For example,</p><p class="s23">robot.getJointSpeeds(speed1,  NaN, speed3);</p><p>robot.holdJoint(id), page 241<br/>holds a joint of the robot. For example,</p><p class="s23">robot.holdJoint(JOINT1);</p><p>robot.holdJoints(), page 189<br/>holds all the joints of the robot. For example,</p><p class="s23">robot.holdJoints();</p><p>robot.holdJointsAtExit(), page 114<br/>holds all the joints of the robot when the program finishes (exits). For example,</p><p class="s23">robot.holdJointsAtExit();</p><p>robot.isConnected()<br/>checks if currently connected to a remote robot. For example,</p><p class="s23">if(robot.isConnected()) {</p><p class="s23">printf(&quot;connecting  to the robot successful\n&quot;);</p><p class="s23">}</p><p>327<br/>Appendix E. Quick Reference to Linkbot Member Functions<br/>E.2.  Member Functions Available in both Classes <span style=" color: #FF1CCE;">CLinkbotI </span>and <span style=" color: #FF1CCE;">CLinkbotL</span><br/>robot.isMoving()<br/>checks if the robot is moving any of its joints. For example,</p><p class="s23">if(robot.isMoving()) {</p><p class="s23">printf(&quot;robot is moving\n&quot;);</p><p class="s23">}</p><p>robot.move(angle1, angle2, angle3), page 36<br/>moves a robot’s joints relative to their current positions by corresponding values of <span class="s23">angle1</span>, <span class="s23">angle2</span>, and <span class="s23">angle3</span>. For example,</p><p class="s23">linkboti.move(90,  NaN, -90);</p><p class="s23">linkbotl.move(NaN, 30, 90);</p><p>robot.moveForeverNB()<br/>moves  joints  forever,  while  allowing  the  next  lines  of  code  to  begin  before  the  function<br/>moveForeverNB() has finished executing. For example,</p><p class="s23">robot.moveForeverNB();</p><p>robot.moveJoint(id, angle), page 91<br/>is the same as the move() function but allows you to specify just one joint to move. For example,</p><p class="s23">robot.moveJoint(JOINT3, 90);</p><p>robot.moveJointNB(id, angle), page 164<br/>A non-blocking version of moveJoint().<br/>robot.moveJointByPowerNB(id, power), page 207<br/>moves a joint by setting the motor power of the joint. The specified power can be an integer from -100 to +100. For example,</p><p class="s23">robot.moveJointByPowerNB(JOINT1, 90);</p><p>robot.moveJointForeverNB(id), page 189<br/>moves  joints  forever,  while  allowing  the  next  lines  of  code  to  begin  before  the  function<br/>moveJointForeverNB() has finished executing. For example,</p><p class="s23">robot.moveJointForeverNB(JOIN1);</p><p>robot.moveJointTime(id, seconds), page 113<br/>move a joint for a specified time in seconds. For example,</p><p class="s23">robot.moveJointTime(JOINT1, 5);</p><p>robot.moveJointTimeNB(id, seconds), page 183<br/>A non-blocking version of moveJointTime().<br/>robot.moveJointTo(id, angle), page 90<br/>is the same as the moveTo() function but allows you to specify just one joint to move. For example,</p><p class="s23">robot.moveJointTo(JOINT2, 90);</p><p>328<br/>Appendix E. Quick Reference to Linkbot Member Functions<br/>E.2.  Member Functions Available in both Classes <span style=" color: #FF1CCE;">CLinkbotI </span>and <span style=" color: #FF1CCE;">CLinkbotL</span><br/>robot.moveJointToNB(id, angle), page 171<br/>A non-blocking version of moveJointTo().<br/>robot.moveJointToByTrackPos(id, angle)<br/>is the same as the moveToByTrackPos() function but allows you to specify just one joint to move. For example,</p><p class="s23">robot.moveJointToByTrackPos(JOINT2, 90);</p><p>robot.moveJointToByTrackPosNB(id, angle)<br/>A non-blocking version of moveJointToByTrackPos().<br/>robot.moveJointWait(id), page 165<br/>pauses the program until the movement of the specified joint, <span class="s23">id</span>, has stopped its current motion. For example,</p><p class="s23">robot.moveJointWait(JOINT1);</p><p>robot.moveNB(angle1, angle2, angle3), page 169<br/>A non-blocking version of move().<br/>robot.moveTime(seconds), page 112<br/>moves joints for a specified time in seconds. For example,</p><p class="s23">robot.moveTime(5);</p><p>robot.moveTimeNB(seconds)<br/>A non-blocking version of moveTime().<br/>robot.moveTo(angle1, angle2, angle3), page 86<br/>moves the respective joints of a robot to the absolute position of the specified angles. This is different from the move() function which moves the joints an angle relative to its current position. For example,</p><p class="s23">robot.moveTo(120,  NaN, -120);</p><p>robot.moveToNB(angle1, angle2, angle3), page 170<br/>A non-blocking version of moveTo().<br/>robot.moveToByTrackPos(angle1, angle2, angle3), page 205<br/>moves the respective joints of a robot to the absolute position of the specified angles by tracking the positions during the motion.  This is different from the moveTo() function which moves the joints based on the specified joint speed. For example,</p><p class="s23">robot.moveToByTrackPos(120,  NaN, -120);</p><p>robot.moveToByTrackPosNB(angle1, angle2, angle3), page 205<br/>A non-blocking version of moveToByTrackPos().<br/>robot.moveToZero()<br/>moves all joints of a robot to their zero position. Unlike resetToZero(), moveToZero() will rewind each joint to zero position even for multiple turns. For example,<br/>329<br/>Appendix E. Quick Reference to Linkbot Member Functions<br/>E.2.  Member Functions Available in both Classes <span style=" color: #FF1CCE;">CLinkbotI </span>and <span style=" color: #FF1CCE;">CLinkbotL</span></p><p class="s23">robot.moveToZero();</p><p>robot.moveToZeroNB()<br/>A non-blocking version of moveToZero().<br/>robot.moveWait(), page 166<br/>pauses the program until the movement of <span class="s5">all </span>the joints of a robot have finished moving.<br/>robot.openGripper(angle), page 242<br/>opens a gripper with a specified angle in degrees. For example,</p><p class="s23">robot.openGripper(90);</p><p>robot.recordAngleBegin(id, timedata,  angledata,  timeinterval), page 109<br/>begins recording data points of time and joint angle stored in the variables, <span class="s23">timedata </span>and <span class="s23">angledata</span>. <span class="s23">id </span>specifies which joint to record data for and <span class="s23">timeinterval </span>is used to tell how often the program should record data points (in seconds). For example,</p><p class="s23">robot.recordAngleBegin(JOINT1, timedata, angledata, 0.1);</p><p>robot.recordAngleEnd(id, numDataPoints), page 110<br/>ends the recording started by the member function recordAngleBegin() and passes the number of data points collected in the variable <span class="s23">numDataPoints</span>. For example,</p><p class="s23">robot.recordAngleEnd(JOINT1,  numDataPoints);</p><p>robot.relaxJoint(id)<br/>relaxes a joint of robot. For example,</p><p class="s23">robot.relaxJoint(JOINT1);</p><p>robot.relaxJoints(), page 207<br/>relaxes all joints of robot. For example,</p><p class="s23">robot.relaxJoints();</p><p>robot.resetToZero(), page 36<br/>resets the robot’s joints to their absolute zero positions.<br/>robot.resetToZeroNB(), page 168<br/>A non-blocking version of resetToZero().<br/>robot.setBuzzerFrequencyOff(), page 151<br/>turns off the robot buzzer. For example,</p><p class="s23">robot.setBuzzerFrequencyOff();</p><p>robot.setBuzzerFrequencyOn(frequency), page 151<br/>turns on the robot buzzer with a specified frequency (in Hz). For example,</p><p class="s23">robot.setBuzzerFrequencyOn(450);</p><p>330<br/>Appendix E. Quick Reference to Linkbot Member Functions<br/>E.2.  Member Functions Available in both Classes <span style=" color: #FF1CCE;">CLinkbotI </span>and <span style=" color: #FF1CCE;">CLinkbotL</span><br/>robot.setLEDColor(”color”), pages 42<br/>sets the robot LED to the specified color. For example,</p><p class="s23">robot.setLEDColor(&quot;blue&quot;);</p><p>robot.setLEDColorRGB(r, g, b), page 148<br/>sets the color of the robot’s LED in RGB values. For example,</p><p class="s23">robot.setLEDColorRGB(160, 32, 240);</p><p>robot.setJointSafetyAngle(angle), page 243<br/>sets the joint safety angle in degrees for a robot.  The default joint safety angle is 10 degrees.  For example,</p><p class="s23">robot.setJointSafetyAngle(50);</p><p>robot.setJointSafetyAngleTimeout(seconds)<br/>sets the joint safety angle limit timeout of a robot in seconds.  The default joint safety angle limit timeout is 0.5 seconds. For example,</p><p class="s23">robot.setJointSafetyAngleTimeout(1.5);</p><p>robot.setJointSpeed(id, speed), page 94<br/>sets the speed of a robot joint in degrees per second. For example,</p><p class="s23">robot.setJointSpeed(JOINT1, 90);</p><p>robot.setJointSpeedRatio(id, ratio), page 96<br/>sets the speed ratio of a robot joint. For example,</p><p class="s23">robot.setJointSpeedRatio(JOINT3, speedratio);</p><p>robot.setJointSpeedRatios(ratio1, NaN, ratio3), page 98<br/>sets the speed ratios of moving joints of a robot. For example,</p><p class="s23">robot.setJointSpeedRatios(ratio1,  NaN, ratio3);</p><p>robot.setJointSpeeds(speed1, speed2, speed3), page 95<br/>sets the speed of both moving joints of a robot in degrees per second. For example,</p><p class="s23">robot.setJointSpeeds(speed1,  NaN, speed3);</p><p>robot.systemTime(time), page 115<br/>records the time in seconds since the system last started (Windows) or since 00:00:00 January 1, 1970 (Mac OS X and Linux). For example,</p><p class="s23">robot.systemTime(time1);</p><p class="s23">... (Code to  be timed)  ...</p><p class="s23">robot.systemTime(time2);</p><p class="s23">elapsedtime = time2  - time1;</p><p>331<br/>Appendix E. Quick Reference to Linkbot Member Functions<br/>E.3.  Member Functions Available only in the Class <span style=" color: #FF1CCE;">CLinkbotI</span></p><p class="s21">E.3    Member Functions  Available only in the Class</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1330.png"/></span></p><p class="s34">CLinkbotI</p><p>Member functions available only in class <span style=" color: #FF1CCE;">CLinkbotI </span>for a two-wheel robot are listed in this section.<br/>robot.driveBackward(angle), page 38<br/>drives both joints of a Linkbot-I backward by the specified angle. For example,</p><p class="s23">robot.driveBackward(360);</p><p>robot.driveBackwardNB(angle), page 174<br/>A non-blocking version of driveBackward().<br/>robot.driveDistance(distance, radius), page 72<br/>drives a two wheel robot a specified distance given its wheel radius. For example,</p><p class="s23">robot.driveDistance(10, 1.75);</p><p>robot.driveDistanceNB(distance, radius), page 174<br/>A non-blocking version of driveDistance().<br/>robot.driveForeverNB(), page 188<br/>drives a Linkbot-I forever,  while allowing the next lines of code to begin before the function<br/>driveForeverNB() has finished executing. For example,</p><p class="s23">robot.driveForeverNB();</p><p>robot.driveForward(angle), page 38<br/>drives both joints of a Linkbot-I (a two wheel robot) forward by the specified angle. For example,</p><p class="s23">robot.driveForward(360);</p><p>robot.driveForwardNB(angle), page 174<br/>A non-blocking version of driveForward().<br/>robot.driveTime(seconds), page 136<br/>drives a Linkbot-I for a specified time in seconds. For example,</p><p class="s23">robot.driveTime(5);</p><p>robot.driveTimeNB(seconds), page 182<br/>A non-blocking version of driveTime().<br/>robot.getDistance(distance, radius), page 122<br/>records the distance that a Linkbot-I has moved using a specified wheel radius. For example,</p><p class="s23">robot.getDistance(distance, 1.75);</p><p>robot.recordDistanceBegin(id, time, distance, radius, timeInterval), page 126<br/><span><IMG width="5" height="1" src="chlinkbot/Image_1331.png"/></span><br/>begins recording the time and distance of a robot joint in variables <span class="s23">time </span>and <span class="s23">distance </span>(of type <span style=" color: #FF1CCE;">robotRecordData t</span>) given the specified wheel radius. <span class="s23">timeInterval </span>is the time interval between measurements. For example,<br/>332<br/>Appendix E. Quick Reference to Linkbot Member Functions<br/>E.4.  Member Functions Available in Both Classes <span style=" color: #FF1CCE;">CLinkbotIGroup </span>and <span style=" color: #FF1CCE;">CLinkbotLGroup</span></p><p class="s23">robot.recordDistanceBegin(JOINT1, timedata, distances, 1.75, 0.1);</p><p>robot.recordDistanceEnd(id, numDataPoints), page 126<br/>ends the recordDistanceBegin() function and passes the number of data points collected in the vari- able <span class="s23">numDataPoints</span>. For example,</p><p class="s23">robot.recordDistanceEnd(JOINT1,  numDataPoints);</p><p>robot.recordDistanceOffset(offset), page 129<br/>creates an offset so that when the recordDistanceBegin() function is called, each distance value will add an offset value. For example,</p><p class="s23">robot.recordDistanceOffset(2);</p><p>robot.setSpeed(speed, radius), page 119<br/>sets joints 1 and 3 of a Linkbot-I to the desired speed with the specified wheel radius. For example,</p><p class="s23">robot.setSpeed(4, 1.75);</p><p>robot.turnLeft(angle, radius, trackwidth), page 73<br/>turns a two wheel robot left by a specified angle, given the wheel radius and trackwidth (distance between the two wheels). For example,</p><p class="s23">robot.turnLeft(90, 1.75, 3.69);</p><p>robot.turnLeftNB(angle, radius, trackwidth), page 174<br/>A non-blocking version of turnLeft().<br/>robot.turnRight(angle, radius, trackwidth), page 73<br/>turns a two wheel robot left or right by a specified angle, given the wheel radius and trackwidth. For example,</p><p class="s23">robot.turnRight(90, 1.75, 3.69);</p><p>robot.turnRightNB(angle, radius, trackwidth), page 174<br/>A non-blocking version of turnRight().<br/><span><IMG width="624" height="53" src="chlinkbot/Image_1332.png"/></span></p><p class="s21">E.4    Member Functions  Available  in Both  Classes</p><p class="s34">CLinkbotIGroup <span style=" color: #000;">and </span>CLinkbotLGroup</p><p>Member functions available only in classes <span style=" color: #FF1CCE;">CLinkbotIGroup </span>and <span style=" color: #FF1CCE;">CLinkbotLGroup </span>are listed first in this section. Most member functions in classes <span style=" color: #FF1CCE;">CLinkbotI </span>and <span style=" color: #FF1CCE;">CLinkbotL </span>are available in classes <span style=" color: #FF1CCE;">CLinkbotI- Group </span>and <span style=" color: #FF1CCE;">CLinkbotLGroup</span>. They are listed in a table in this section.<br/>group.addRobot(name), page 77<br/>adds a robot using the robot’s declared name to the class <span style=" color: #FF1CCE;">CLinkbotIGroup </span>or <span style=" color: #FF1CCE;">CLinkbotLGroup</span>. For example,</p><p class="s23">group.addRobot(robot1);</p><p>333<br/>Appendix E. Quick Reference to Linkbot Member Functions<br/>E.4.  Member Functions Available in Both Classes <span style=" color: #FF1CCE;">CLinkbotIGroup </span>and <span style=" color: #FF1CCE;">CLinkbotLGroup</span><br/>group.addRobots(name), page 81<br/>adds an array of robots to a group using the robot array’s declared name. For example,</p><p class="s23">CLinkbotI robot[4];</p><p class="s23">group.addRobots(robot);</p><p>334<br/>Appendix E. Quick Reference to Linkbot Member Functions<br/>E.4.  Member Functions Available in Both Classes <span style=" color: #FF1CCE;">CLinkbotIGroup </span>and <span style=" color: #FF1CCE;">CLinkbotLGroup</span><br/><span><IMG width="594" height="1" src="chlinkbot/Image_1333.png"/></span><br/>Member Function Name             Description<br/><span><IMG width="594" height="1" src="chlinkbot/Image_1334.png"/></span><br/>addRobot()                                  Add a Linkbot as a member of the Linkbot group. addRobots()                                Add Linkbots to the Linkbot group. closeGripper()                          Close the gripper.<br/>driveDistance()                           Drive each Linkbot-I in the group a certain distance. driveDistanceNB()                      Identical to driveDistance() but non-blocking. driveBackward()                      Drive each Linkbot-I backward. driveBackwardNB()                 Identical to driveBackward() but non-blocking. driveForeverNB()                     Drive each Linkbot-I forever until stopped. driveForward()                        Drive each Linkbot-I forward.<br/>driveForwardNB()                    Identical to driveForward() but non-blocking. driveTime()                                 Drive each Linkbot-I for a specified time. driveTimeNB()                           Identical to driveTime() but non-blocking. holdJoint()                                   Hold a joint for all Linkbots in the group. holdJoints()                                 Hold all the joints for all Linkbots in the group.<br/>holdJointsAtExit()                    Hold all the joints at exit for all Linkbots in the group. isConnected()                              Check if a robot is connected to a program. isMoving()                                   Check if any joint of a robot is moving.<br/>move()                                         Move two joints of each Linkbot by specified angles.<br/>moveForeverNB()                       Move joints forever till stopped.<br/>moveNB()                                   Identical to move() but non-blocking.<br/>moveJoint()                                 Move a joint from its current position by an angle. moveJointNB()                           Identical to moveJoint() but non-blocking. moveJointByPowerNB()           Move a joint by setting the power of the joint motor. moveJointForeverNB()             Move a joint forever. A joint will move until stopped. moveJointTime()                         Move a joint for a specified time. moveJointTimeNB()                 Identical to moveJointTime()  but non-blocking. moveJointTo()                             Set the desired joint position for a joint. moveJointToNB()                       Identical to moveJointTo()  but non-blocking.<br/>moveJointToByTrackPos()       Move a joint to the specified position by tracking its position. moveJointToByTrackPosNB()  Identical to moveJointToByTrackPos(), but non-blocking. moveJointWait()                       Wait until the specified motor has stopped moving. moveTime()                                Move joints for a specified time.<br/>moveTimeNB()                           Identical to moveJointTime()  but non-blocking.<br/>moveTo()                                     Move two joints of each Linkbot to specified absolute angles.<br/>moveToNB()                               Identical to moveTo() but non-blocking.<br/>moveToByTrackPos()                Move two joints to the specified positions by tracking positions. moveToByTrackPosNB()          Identical to moveToByTrackPos(), but non-blocking. moveToZero()                             Instructs all motors to go to their zero positions. moveToZeroNB()                        Identical to moveToZero() but non-blocking.<br/>moveWait()                                 Wait until all motors have stopped moving.<br/>openGripper()                          Open the gripper. relaxJoint()                                 Relax a joint of the Linkbot. relaxJoints()                                Relax all the joints of the Linkbot.<br/><span><IMG width="594" height="1" src="chlinkbot/Image_1335.png"/></span><br/>335<br/>Appendix E. Quick Reference to Linkbot Member Functions<br/>E.5.  Member Functions Available only in RoboSim<br/><span><IMG width="594" height="1" src="chlinkbot/Image_1336.png"/></span><br/>Member Function Name             Description<br/><span><IMG width="594" height="1" src="chlinkbot/Image_1337.png"/></span><br/>setJointSpeed()                           Set a motor’s speed in degrees per second. setJointSpeeds()                        Set all motor speeds in degrees per second. setJointSpeedRatio()                Set a joint speed to a fraction of its maximum speed. setJointSpeedRatios()               Set joint speeds to a fraction of their maximum speeds. setSpeed()                                   Move the Linkbots at a constant velocity.<br/>turnLeft()                                 Rotate the Linkbot-Is counter clockwise. turnLeftNB()                            Identical to turnLeft() but non-blocking. turnRight()                              Rotate the Linkbot-Is clockwise. turnRightNB()                          Identical to turnRight() but non-blocking.<br/><span><IMG width="624" height="53" src="chlinkbot/Image_1338.png"/></span><br/><span><IMG width="594" height="1" src="chlinkbot/Image_1339.png"/></span></p><p class="s21">E.5    Member Functions  Available only in RoboSim</p><p>Member functions for a single Linkbot available only in RoboSim are listed in this section.<br/>robot.drivexy(x, y, radius, trackwidth), page 275<br/>drives a Linkbot-I by x and y relative to its current position in the x-y coordinate system given the radius and track width of the Linkbot-I. For example,</p><p class="s23">robot.drivexy(3, 4, 1.75, 3.69);</p><p>robot.drivexyNB(x, y, radius, trackwidth), page 300<br/>A non-blocking version of drivexy().<br/>robot.drivexyTo(x, y, radius, trackwidth), page 266<br/>drives a Linkbot-I to the location of (x,y) in the x-y coordinate system given the radius and trackwidth. For example,</p><p class="s23">robot.drivexyTo(3, 4, 1.75, 3.69);</p><p>robot.drivexyToExpr(x0, xf, num, expr, radius, trackwidth), page 283<br/>drives a Linkbot-I based on an expression with the variable x, for x from <span class="s23">x0 </span>to <span class="s23">xf </span>with <span class="s23">num </span>number of points. The expression <span class="s23">t expr </span>should be a valid Ch expression in terms of the variable <span class="s23">x</span>.  The radius and track width of the robot are specified by the last two arguments. For example,</p><p class="s23">robot.drivexyToExpr(0, 5,  100, &quot;2+3*x&quot;,   1.75, 3.69);</p><p>robot.drivexyToFunc(x0, xf, num, func, radius, trackwidth), page 279<br/>drives a Linkbot-I based on a function <span class="s23">func()</span>, for x from <span class="s23">x0 </span>to <span class="s23">xf </span>with <span class="s23">num </span>number of points. The radius and track width of the Linkbot-I are specified by the last two arguments. For example,</p><p class="s23">double func(double x)  {</p><p class="s23">return 2+3*x;</p><p class="s23">}</p><p class="s23">robot.drivexyToFunc(0, 5, 100, func, 1.75, 3.69);</p><p>robot.drivexyNB(x, y, radius, trackwidth), page 298<br/>A non-blocking version of drivexyTo().<br/>336<br/>Appendix E. Quick Reference to Linkbot Member Functions<br/>E.6.  Member Functions Not Presented in This Book<br/>robot.drivexyWait(), page 299<br/>pauses the program until the movement of a Linkbot-I by the function drivexyNB() or drivexyToNB()<br/>is finished moving. For example,</p><p class="s23">robot.drivexyWait();</p><p>robot.getxy(x, y), page 267<br/>gets the position of a Linkbot-I in the x-y coordinate system and stores the coordinates in variables <span class="s23">x</span><br/>and <span class="s23">y</span>.<br/>robot.line(x1, y1, z1, x2, y2, z2, linewidth, ”color”), page 292<br/>creates a line in the RoboSim environment from (<span class="s23">x1</span>, <span class="s23">y1</span>, <span class="s23">z1</span>) to (<span class="s23">x2</span>, <span class="s23">y2</span>, <span class="s23">z2</span>). For example,</p><p class="s23">robot.line(9, 18, 0, 15, 18, 0, 4, &quot;purple&quot;);</p><p>robot.point(x, y, z, pointsize, ”color”), page 291<br/>creates a point in the RoboSim environment to be used as an obstacle or point of reference. Point size can be integers 1 through 5. For example,</p><p class="s23">robot.point(6, 6, 0, 1, &quot;red&quot;);</p><p>robot.recordxyBegin(xdata, ydata, timeInterval), page 288<br/><span><IMG width="5" height="1" src="chlinkbot/Image_1340.png"/></span><br/>begins recording the position (x, y) in the x-y coordinate system for a Linkbot-I variables <span class="s23">xdata </span>and <span class="s23">ydata </span>(of type <span style=" color: #FF1CCE;">robotRecordData t</span>).  <span class="s23">timeInterval </span>is the time interval between position readings. For example,</p><p class="s23">robot.recordxyBegin(xdata, ydata, 0.1);</p><p>robot.recordxyEnd(xdata, ydata, timeInterval), page 288<br/>ends the recordxyBegin() function and passes the number of data points collected in the variable</p><p class="s23">numDataPoints<span class="p">. For example,</span></p><p class="s23">robot.recordxyEnd(numDataPoints);</p><p>robot.text(x, y, z, ”text”), page 292<br/>creates text in the RoboSim environment centered at the point (<span class="s23">x</span>, <span class="s23">y</span>, <span class="s23">z</span>). For example,</p><p class="s23">robot.text(6, 6, 0, &quot;(6, 6)&quot;);</p><p class="s23">robot.text(12, 18, 0, &quot;This is  a wall.&quot;);</p><p>robot.traceOff(), page 285<br/>turns off tracing for a Linkbot.</p><p class="s23">robot.traceOff();</p><p>robot.traceOn(), page 285<br/>turns on tracing for a Linkbot.</p><p class="s23">robot.traceOn();</p><p class="s21">E.6    Member Functions  Not Presented in This Book</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1341.png"/></span><br/>blinkLED(),   connectWithAddress(),  disconnect(),  getJointAngleInstant(),  getJointAnglesInstant(), getJointSafetyAngle(),            getJointSafetyAngleTimeout(),            isConnected(),             isMoving(), moveJointToByTrackPos(),     moveJointToByTrackPosNB(),    moveTimeNB(),     moveForeverNB(), moveToZero(), moveToZeroNB(), relaxJoint(), setJointSafetyAngleTimeout().<br/>337<br/><span><IMG width="627" height="8" src="chlinkbot/Image_1342.png"/></span><br/><span><IMG width="624" height="3" src="chlinkbot/Image_1343.png"/></span></p><p class="s1">APPENDIX F</p><p><span><IMG width="624" height="3" src="chlinkbot/Image_1344.png"/></span></p><p class="s6">Common  Mistakes  in Writing Ch</p><p class="s6">Programs</p><p>This appendix summarizes common mistakes in writing programs in Ch.<br/>1. Divide two integers. Note that 3/2 is 1 and 3.0/2 is 1.5.<br/>2. Miss a semicolon ’;’ at the end of a programming statement. For example</p><p class="s23">int i, j i = 120</p><p>3. Miss a newline character ’<span class="s23">\n</span>’. For example,</p><p class="s23">printf(&quot;Hello, world&quot;);</p><p>4. Use ’<span class="s23">/n</span>’ for a newline character. For example,</p><p class="s23">printf(&quot;Hello, world/n&quot;);</p><p>5. Use ’<span class="s23">\n</span>’ in the function <span style=" color: #FF1CCE;">scanf</span>(). For example,</p><p class="s23">scanf(&quot;%d\n&quot;, &amp;n);</p><p>6. Miss the header file <span style=" color: #998342;">math.h</span></p><p class="s23">#include  &lt;math.h&gt;</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_1345.png"/></span><br/>for using M PI for <span class="s5">π</span>.<br/>7. Miss the header file <span style=" color: #998342;">chplot.h</span><br/>Appendix F. Common Mistakes in Writing Ch Programs</p><p class="s23">#include &lt;chplot.h&gt;</p><p>for using the plotting class <span style=" color: #FF1CCE;">CPlot</span>.<br/>8. Use variables without declaring them first. (a) Use a variable, <span class="s23">y1</span>, not defined.<br/>(b) Use a variable of capital letter. For example,</p><p class="s23">Printf(&quot;Hello,  world\n&quot;);</p><p class="s23">double subtotal;</p><p class="s23">Subtotal =  10;</p><p>9. Use the conversion specifier <span class="s23">&quot;%lf&quot;</span>, instead of <span class="s23">&quot;%d&quot;</span>, to output from or input into a variable <span style=" color: #F00;">int </span>type.<br/>For example,</p><p class="s23">int n;</p><p class="s23">printf(&quot;n =  %lf\n&quot;, n);</p><p class="s23">scanf(&quot;%lf&quot;,  &amp;n);</p><p>10. Use the conversion specifier <span class="s23">&quot;%d&quot;</span>, instead of <span class="s23">&quot;%lf&quot;</span>, to output from or input into a variable <span style=" color: #F00;">double</span><br/>type. For example,</p><p class="s23">double x;</p><p class="s23">printf(&quot;x =  %d\n&quot;, n);</p><p class="s23">scanf(&quot;%d&quot;, &amp;x);</p><p>11. Miss a moveWait() statement at the end of a program. For example,</p><p class="s23">robot1.driveForwardNB(360);</p><p class="s23">robot2.driveForward(180);</p><p class="s23">/* without the statement below,</p><p class="s23">robot1 will only drive  forward 180 degrees.  */</p><p class="s23">robot1.moveWait();</p><p>339<br/><span><IMG width="627" height="8" src="chlinkbot/Image_1346.png"/></span><br/><span><IMG width="624" height="3" src="chlinkbot/Image_1347.png"/></span></p><p class="s1">APPENDIX G</p><p><span><IMG width="624" height="3" src="chlinkbot/Image_1348.png"/></span></p><p class="s6">Porting  Code to the Latest Version</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1349.png"/></span></p><p class="s21">G.1    Port Code to BaroboLink v1.6.9, RoboSim v1.8,</p><p class="s21">Robotics Curriculum v1.8</p><p>The changes made in BaroboLink v1.6.9 and C-STEM Robotics Curriculum v1.8 on July 27, 2014 are listed in this section.<br/>1. Replace these member functions</p><p class="s23">jumpTo() jumpToNB() jumpJointTo() jumpJointToNB() setJointPower()</p><p>by the following new member functions for Linkbots.</p><p class="s23">moveToByTrackPos() moveToByTrackPosNB() moveJointToByTrackPos() moveJointToByTrackPosNB() moveJointByPowerNB()</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1350.png"/></span></p><p class="s21">G.2    Port Code to BaroboLink v1.6.8, RoboSim v1.7,</p><p class="s21">Robotics Curriculum v1.7, Math Curriculum v1.2</p><p>The changes made in BaroboLink v1.6.8, RoboSim v1.7, C-STEM Robotics Curriculum v1.7, and C-STEM Math Curriculum v1.2 on July 11, 2014 are listed in this section.<br/>Appendix G. Porting Code to the Latest Version<br/>G.2.  Port Code to BaroboLink v1.6.8, RoboSim v1.7, Robotics Curriculum v1.7, Math Curriculum v1.2<br/>1. Replace these member functions:</p><p class="s23">moveDistance() moveDistanceNB() moveForward() moveForwardNB() moveBackward() moveBackwardNB() moveTime() moveTimeNB() moveForeverNB() movexy() movexyNB() movexyTo() movexyToNB() movexyToExpr() movexyToFunc() movexyWait() setMotorPower()</p><p>by these new member functions for controlling two-wheel robots based on the speed of the first joint for Linkbot-I:</p><p class="s23">driveDistance() driveDistanceNB() driveForward() driveForwardNB() driveBackward() driveBackwardNB() driveTime() driveTimeNB() driveForeverNB() drivexy() drivexyNB() drivexyTo() drivexyToNB() drivexyToExpr() drivexyToFunc() drivexyWait() setJointPower()</p><p>2. Handling these member functions for controlling Linkbots based on the sign of the speeds for each joint.</p><p class="s23">moveTime() moveTimeNB() moveForeverNB()</p><p>3. Replace<br/>341<br/>Appendix G. Porting Code to the Latest Version<br/>G.3.  Port Code to BaroboLink v1.6.7, RoboSim v1.6, Robotics Curriculum v1.6, Math Curriculum v1.1</p><p class="s23">getJointAngleAverage() getJointAnglesAverage() getJointAngle() getJointAngles()</p><p>by</p><p class="s23">getJointAngle() getJointAngles() getJointAngleInstant() getJointAnglesInstant()</p><p>4. Replace</p><p class="s23">driveTo() driveToNB() driveJointTo() driveJointToNB()</p><p>by</p><p class="s23">jumpTo() jumpToNB() jumpJointTo() jumpJointToNB()</p><p><span><IMG width="624" height="53" src="chlinkbot/Image_1351.png"/></span></p><p class="s21">G.3    Port Code to BaroboLink v1.6.7, RoboSim v1.6,</p><p class="s21">Robotics Curriculum v1.6, Math Curriculum v1.1</p><p>1. Replace these member functions:</p><p class="s23">setMovementStateNB() setJointMovementStateNB() setMovementStateTime() setMovementStateTimeNB() setJointMovementStateTime() setJointMovementStateTimeNB() stopAllJoints()</p><p class="s23">setExitState() setTwoWheelRobotSpeed() getColor()</p><p class="s23">getColorRGB() setColor() setColorRGB()</p><p>by these new member functions:<br/>342<br/>Appendix G. Porting Code to the Latest Version<br/>G.3.  Port Code to BaroboLink v1.6.7, RoboSim v1.6, Robotics Curriculum v1.6, Math Curriculum v1.1</p><p class="s23">moveTime(time) moveJointTime(id, time) moveTimeNB(time) moveJointTimeNB(id, time) setSpeed(speed, radius) moveForeverNB() moveJointForeverNB(id) holdJoint(id)</p><p class="s23">holdJoints() holdJointsAtExit() relaxJoint(id) relaxJoints() getLEDColor() getLEDColorRGB() setLEDColor() setLEDColorRGB()</p><p>2. Replace these macros</p><p class="s23">ROBOT_JOINT1</p><p class="s23">ROBOT_JOINT2</p><p class="s23">ROBOT_JOINT3</p><p>by these new macros</p><p class="s23">JOINT1</p><p class="s23">JOINT2</p><p class="s23">JOINT3</p><p>3. Phased out these macros:</p><p class="s23">ROBOT_FORWARD ROBOT_BACKWARD ROBOT_HOLD ROBOT_NEUTRAL</p><p>4. Phased out this data type:</p><p class="s23">robotJointState_t</p><p>5. A joint speed can be negative value. When the speed is positive, a joint moves in count clockwise direction. When the speed is negative, a joint moves in clockwise direction.<br/>6. The speed for a two-wheel vehicle can be negative value. If the speed is positive, the robot will move forward. If the speed is negative, the robot will move backward.<br/>7. Replace setTwoWheelRobotSpeed() by setSpeed().<br/>8. Replace stopAllJoints() by relaxJoints().<br/>343<br/>Appendix G. Porting Code to the Latest Version<br/>G.3.  Port Code to BaroboLink v1.6.7, RoboSim v1.6, Robotics Curriculum v1.6, Math Curriculum v1.1<br/>9. Replace setExitState()  by holdJointsAtExit().<br/>10. Replace getColor(), getColorRGB()  setColor(), and setColorRGB()  by getLEDColor(), getLED- ColorRGB(), setLEDColor(),  and setLEDColorRGB(), respectively.<br/><span><IMG width="5" height="1" src="chlinkbot/Image_1352.png"/></span><br/>11. Replace ROBOT  JOINT1 by JOINT1.<br/>12. Replace</p><p class="s51">robot1.setJointMovementStateTimeNB(ROBOT_JOINT1, ROBOT_FORWARD,  time); robot2.setJointMovementStateTime(ROBOT_JOINT1, ROBOT_FORWARD,  time); robot3.setMovementStateTimeNB(ROBOT_FORWARD, NaN,  ROBOT_FORWARD,  time); robot4.setMovementStateTime(ROBOT_FORWARD, NaN, ROBOT_FORWARD,  time); robot5.setJointMovementStateNB(ROBOT_JOINT1,  ROBOT_FORWARD); robot6.setMovementStateNB(ROBOT_FORWARD,  NaN,  ROBOT_FORWARD);</p><p>by</p><p class="s23">robot1.moveJointTimeNB(JOINT1, time); robot2.moveJointTime(JOINT1, time); robot3.moveTimeNB(time); robot4.moveTime(time); robot5.moveJointForeverNB(JOINT1); robot6.moveForeverNB();</p><p>13. Replace</p><p class="s23">robot5.setJointMovementStateNB(ROBOT_JOINT1,  ROBOT_HOLD);</p><p class="s23">robot6.setMovementStateNB(ROBOT_HOLD,  NaN,  ROBOT_HOLD);</p><p>by</p><p class="s23">robot5.holdJoint(JOINT1);</p><p class="s23">robot6.holdJoints();</p><p>14. Replace</p><p class="s51">robot1.setSpeed(speed, radius); robot2.setSpeed(speed, radius); robot1.setMovementStateTimeNB(ROBOT_BACKWARD, NaN,  ROBOT_BACKWARD,  time); robot2.setMovementStateNB(ROBOT_BACKWARD,  NaN,  ROBOT_BACKWARD);</p><p>by</p><p class="s23">robot1.setSpeed(-speed, radius); robot2.setSpeed(-speed, radius); robot1.moveTimeNB(time); robot2.moveForeverNB();</p><p>344<br/><span><IMG width="624" height="3" src="chlinkbot/Image_1353.png"/></span></p><p class="s6">Index</p><p class="s52">#include <span class="s51">&lt;</span>chplot.h<span class="s51">&gt;</span>, 105</p><p class="s52">#include <span class="s51">&lt;</span>linkbot.h<span class="s51">&gt;</span>, 35, 43</p><p class="s52">abs(), 192, 248</p><p class="s52">address operator &amp;, 68 addRobot(), 77 addRobots(), 81 angle2distance(), 123 arrow(), 320 axisRange(), 131, 321</p><p class="s52">blinkLED(), 325 buffer, 31</p><p class="s52">bugs, 31</p><p class="s52">BumpConnect, 7</p><p class="s52">calling the function, 29</p><p class="s52">ChIDE, 27 chplot.h, 105 class, 35, 43</p><p class="s52">CLinkbotI, 35, 37 blinkLED(), 325 closeGripper(), 242, 325 connect(), 35, 325 connectWithSerialID(), 325 delaySeconds(), 92, 325</p><p class="s52">disableRecordDataShift(), 178, 325 disconnect(), 325</p><p class="s52">driveBackward(), 38, 332 driveBackwardNB(), 174, 332 driveDistance(), 72, 332 driveDistanceNB(), 174, 332 driveForeverNB(), 188, 332 driveForward(), 38, 332 driveForwardNB(), 174, 332 driveTime(), 136, 332 driveTimeNB(), 182, 332 drivexy(), 275, 336</p><p class="s52">drivexyNB(), 300, 336 drivexyTo(), 266, 336 drivexyToExpr(), 283, 336 drivexyToFunc(), 279, 336 drivexyToNB(), 298, 336 drivexyWait(), 299, 336 enableRecordDataShift(), 178, 325 getAccelerometerData(), 156, 326 getBatteryVoltage(), 158, 326 getDistance(), 122, 332 getJointAngle(), 87 getJointAngle(id, angle), 326 getJointAngleInstant(id, angle), 326 getJointAngles(), 89, 326 getJointAnglesInstant(), 326 getJointSafetyAngle(), 326 getJointSafetyAngleTimeout(), 327 getJointSpeed(), 94, 327 getJointSpeedRatio(), 96, 327 getJointSpeedRatios(), 97, 327 getJointSpeeds(), 95, 327 getLEDColor(), 147, 326 getLEDColorRGB(), 148, 326 getxy(), 267, 336</p><p class="s52">holdJoint(), 241, 327 holdJoints(), 189, 327 holdJointsAtExit(), 114, 327 isConnected(), 327 isMoving(), 327</p><p class="s52">line(), 292, 337 move(), 36, 328 moveForeverNB(), 328 moveJoint(), 91, 328</p><p class="s52">moveJointByPowerNB(), 207, 328 moveJointForeverNB(), 189, 328 moveJointNB(), 164, 328 moveJointTime(), 113, 328</p><p>Index                                                                                                                                                        Index</p><p class="s52">moveJointTimeNB(), 183, 328 moveJointTo(), 90, 328 moveJointToByTrackPos(), 329 moveJointToByTrackPosNB(), 329 moveJointToNB(), 171, 328 moveJointWait(), 165, 329 moveNB(), 169, 329</p><p class="s52">moveTime(), 112, 329 moveTimeNB(), 329 moveTo(), 86, 329</p><p class="s52">moveToByTrackPos(), 205, 329 moveToByTrackPosNB(), 205, 329 moveToNB(), 170, 329 moveToZero(), 329 moveToZeroNB(), 330</p><p class="s52">moveWait(), 166, 330 openGripper(), 242, 330 point(), 291, 337 recordAngleBegin(), 109, 330 recordAngleEnd(), 110, 330</p><p class="s52">recordDistanceBegin(), 126, 332 recordDistanceEnd(), 126, 333 recordDistanceOffset(), 129, 333 recordxyBegin(), 288, 337 recordxyEnd(), 288, 337 relaxJoint(), 330</p><p class="s52">relaxJoints(), 207, 330 resetToZero(), 36, 330 resetToZeroNB(), 168, 330 setBuzzerFrequencyOff(), 151, 330 setBuzzerFrequencyOn(), 151, 330 setJointSafetyAngle(), 243, 331 setJointSafetyAngleTimeout(), 331 setJointSpeed(), 94, 331 setJointSpeedRatio(), 96, 331 setJointSpeedRatios(), 98, 331 setJointSpeeds(), 95, 331 setLEDColor(), 42, 330 setLEDColorRGB(), 148, 331 setSpeed(), 119, 333</p><p class="s52">systemTime(), 115, 125, 331 text(), 292, 337</p><p class="s52">traceOff(), 285, 337 traceOn(), 285, 337 turnLeft(), 73, 333 turnLeftNB(), 174, 333 turnRight(), 73, 333 turnRightNB(), 174, 333</p><p class="s52">CLinkbotIGroup addRobot(), 77, 333 addRobots(), 81, 334</p><p class="s52">CLinkbotL, 43, 44 connect(), 43 move(), 44</p><p class="s52">resetToZero(), 44 closeGripper(), 242, 325 comment, 28</p><p class="s52">connect(), 35, 43, 325 connectWithSerialID(), 325 conversion specifier, 65 copy program, 30</p><p class="s52">CopyCat mode, 8</p><p class="s52">CPlot</p><p class="s52">arrow(), 320 axisRange(), 131, 321 enhanceText(), 321 func2D(), 321</p><p class="s52">label(), 321 legend(), 321 line(), 321 lineType(), 321 mathCoord(), 322 plotting(), 322</p><p class="s52">plotType(), 290, 322 point(), 322 pointType(), 290, 322 sizeRatio(), 323</p><p class="s52">text(), 323 ticsRange(), 131, 323 title(), 323</p><p class="s52">debug, 31</p><p class="s52">Debug Commands</p><p class="s52">Run, 29</p><p class="s52">Stop, 29 debugging, 31 declaration, 61 degree2radian(), 101 delaySeconds(), 92, 325 device driver, 13, 45</p><p class="s52">disableRecordDataShift(), 178, 325 disconnect(), 325</p><p class="s52">double, 61</p><p class="s52">driveBackward(), 38, 332, 341 driveBackwardNB(), 174, 332, 341 driveDisatnceNB(), 174 driveDistance(), 72, 332, 341 driveDistanceNB(), 332, 341 driveForeverNB(), 188, 332, 341 driveForward(), 38, 332, 341 driveForwardNB(), 174, 332, 341 driveTime(), 136, 332, 341 driveTimeNB(), 182, 332, 341 drivexy(), 275, 336, 341 drivexyNB(), 300, 336, 341 drivexyTo(), 266, 336, 341 drivexyToExpr(), 283, 336, 341 drivexyToFunc(), 279, 336, 341</p><p>346<br/>Index                                                                                                                                                        Index</p><p class="s52">drivexyToNB(), 298, 336, 341 drivexyWait(), 299, 336, 341</p><p class="s52">enableRecordDataShift(), 178, 325 enhanceText(), 321</p><p class="s52">error message, 27 exit code, 30</p><p class="s52">file extension, 29 for loop, 263 func2D(), 321 function, 29, 264</p><p class="s52">getAccelerometerData(), 156, 326 getBatteryVoltage(), 158, 326 getDistance(), 122, 332 getJointAngle(), 87, 326 getJointAngleInstant(), 326 getJointAngles(), 89, 326 getJointAnglesInstant(), 326 getJointSafetyAngle(), 326 getJointSafetyAngleTimeout(), 327 getJointSpeed(), 94, 327 getJointSpeedRatio(), 96, 327 getJointSpeedRatios(), 97, 327 getJointSpeeds(), 95, 327 getLEDColor(), 147, 326 getLEDColorRGB(), 148, 326 getxy(), 267, 336</p><p class="s52">group.addRobot(), 333 group.addRobots(), 334</p><p class="s52">header file, 35 holdJoint(), 241, 327 holdJoints(), 189, 327 holdJointsAtExit(), 114, 327</p><p class="s52">I/O, 65</p><p class="s52">IDE, 27 initialization, 61 initialize variables, 61 input, 65</p><p class="s52">input/output, 65 integer numbers, 62</p><p class="s52">Integrated Development Environment, 27 isConnected(), 327</p><p class="s52">isMoving(), 327</p><p class="s52">JOINT1, 324</p><p class="s52">JOINT2, 324</p><p class="s52">JOINT3, 324 jumpJointTo(), 340 jumpJointToNB(), 340 jumpTo(), 340 jumpToNB(), 340</p><p class="s52">label(), 321 ledColors, 314 legend(), 321</p><p class="s52">line(), 292, 321, 337 lineType(), 321</p><p class="s52">Linkbot, 1</p><p class="s52">Linkbot-I, 1</p><p class="s52">Linkbot-L, 1 linkbot.h, 35, 43</p><p class="s52">macro, 105, 131 mathCoord(), 322 member function, 35</p><p class="s52">Mobot, 1</p><p class="s52">move(), 36, 44, 328 moveBackward(), 341 moveBackwardNB(), 341 moveDistance(), 341 moveDistanceNB(), 341 moveForeverNB(), 328, 341 moveForward(), 341 moveForwardNB(), 341 moveJoint(), 91, 328</p><p class="s52">moveJointByPowerNB(), 207, 328, 340 moveJointForeverNB(), 189, 328 moveJointNB(), 164, 328 moveJointTime(), 113, 328 moveJointTimeNB(), 183, 328 moveJointTo(), 90, 328 moveJointToByTrackPos(), 329, 340 moveJointToByTrackPosNB(), 329, 340 moveJointToNB(), 171, 328 moveJointWait(), 165, 329</p><p class="s52">moveNB(), 169, 329 moveTime(), 112, 135, 329, 341 moveTimeNB(), 329, 341 moveTo(), 86, 329</p><p class="s52">moveToByTrackPos(), 205, 329, 340 moveToByTrackPosNB(), 205, 329, 340 moveToNB(), 170, 329</p><p class="s52">moveToZero(), 329 moveToZeroNB(), 330 moveWait(), 166, 330 movexy(), 341 movexyNB(), 341 movexyTo(), 341 movexyToExpr(), 341 movexyToFunc(), 341 movexyToNB(), 341 movexyWait(), 341</p><p class="s52">NaN, 36, 44</p><p class="s52">newline character, 30</p><p class="s52">Not-a-Number, 36</p><p>347<br/>Index                                                                                                                                                        Index</p><p class="s52">openGripper(), 242, 330 output, 65</p><p class="s52">Output Pane, 29, 30</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_1354.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1355.png"/></span></p><p class="s52">PLOT AXIS X, 105</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_1356.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1357.png"/></span></p><p class="s52">PLOT AXIS Y, 105</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_1358.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1359.png"/></span></p><p class="s52">PLOT PLOTTYPE POINTS, 290 plotting(), 322</p><p class="s52">plotType(), 290, 322 point(), 291, 322, 337 pointType(), 290, 322 pose teaching, 227</p><p class="s52">Pose Teaching Panel, 227</p><p class="s52">PoseTeaching mode, 8 precision, 66</p><p class="s52">printf(), 29, 65</p><p class="s52">radian2degree(), 100 recordAngleBegin(), 109, 330 recordAngleEnd(), 110, 330 recordDistanceBegin(), 126, 332 recordDistanceEnd(), 126, 333 recordDistanceOffset(), 129, 333 recordxyBegin(), 288, 337 recordxyEnd(), 288, 337 relaxJoint(), 330</p><p class="s52">relaxJoints(), 207, 330 resetToZero(), 36, 44, 330 resetToZeroNB(), 168, 330 right hand rule, 11</p><p class="s52">RoboPlay Challenge Competition, 3</p><p class="s52">RoboPlay Competition, 3</p><p class="s52">RoboPlay Video Competition, 3</p><p class="s52">RoboSim, xi, 47, 266</p><p class="s52">RoboSim GUI, 47</p><p class="s52">RoboSim scene, 53 robot, 1</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_1360.png"/></span></p><p class="s52">ROBOT BACKWARD, 343</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_1361.png"/></span></p><p class="s52">ROBOT FORWARD, 343</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_1362.png"/></span></p><p class="s52">ROBOT HOLD, 343</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_1363.png"/></span></p><p class="s52">ROBOT JOINT1, 343</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_1364.png"/></span></p><p class="s52">ROBOT JOINT2, 343</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_1365.png"/></span></p><p class="s52">ROBOT JOINT3, 343</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_1366.png"/></span></p><p class="s52">ROBOT NEUTRAL, 343 robotics, 1</p><p><span><IMG width="5" height="1" src="chlinkbot/Image_1367.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1368.png"/></span><br/><span><IMG width="5" height="1" src="chlinkbot/Image_1369.png"/></span></p><p class="s52">robotJointId t, 324 robotJointState t, 324 robotRecordData t, 324</p><p class="s52">Run, 29</p><p class="s52">scanf(), 68 setBuzzerFrequencyOff(), 151, 330 setBuzzerFrequencyOn(), 330 setBuzzerFrequencyOne(), 151 setExitState(), 342</p><p class="s52">setJointMovementStateNB(), 342 setJointMovementStateTime(), 342 setJointMovementStateTimeNB(), 342 setJointPower(), 340, 341 setJointSafetyAngle(), 243, 331 setJointSafetyAngleTimeout(), 331 setJointSpeed(), 94, 331 setJointSpeedRatio(), 96, 331 setJointSpeedRatios(), 98, 331 setJointSpeeds(), 95, 331 setLEDColor(), 42, 54, 330 setLEDColorRGB(), 148, 331 setMovementStateNB(), 342 setMovementStateTime(), 342 setMovementStateTimeNB(), 342 setSpeed(), 119, 333 setTwoWheelRobotSpeed(), 342 sizeRatio(), 323</p><p class="s52">source code, 28 speed ratio, 96</p><p class="s52">Stop, 29 stopAllJoints(), 342 systemTime(), 115, 125, 331</p><p class="s52">text(), 292, 323, 337 ticsRange(), 131, 323</p><p class="s52">TiltDrive mode, 8 title(), 323 traceOff(), 285, 337 traceOn(), 285, 337 track length, 73 turnLeft(), 73, 333</p><p class="s52">turnLeftNB(), 174, 333 turnRight(), 73, 333 turnRightNB(), 174, 333</p><p class="s52">Unpair the Connected Linkbots, 9 variable, 60</p><p class="s52">while loop, 248, 262</p><p>348</p></body></html>
