<!DOCTYPE html!>
<html>
<head>

    <script src="components/jquery/dist/jquery.js"></script>
    <script src="components/angular/angular.js"></script>
    <link rel="stylesheet" type="text/css" href="components/bootstrap/dist/css/bootstrap.css">

    <script src="js/jquery-svg-class.js"></script>
    <script src="components/linkbotjs/dist/linkbot.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/pianobot.js"></script>
    <link rel="stylesheet" type="text/css" href="main.css">
    <link rel="stylesheet" type="text/css" href="components/linkbotjs/dist/linkbot.css">

</head>
<body ng-app="Pianobot" ng-controller="PianobotCtrl">

    <h1>Pianobot</h1>
    <p>The Linkbot has a buzzer which can be used to play musical pitches. Try it
    out!</p>
    <!--
    <div id="robot-id-entry">
        Robot ID:
        <input type="text" ng-model="robotId" ng-change="checkRobotId()"
            maxlength="4"
            size="5" id="robot-id">
    </div>
    -->
    <p>Add a robot: <button ng-click="addRobot()">+</button></p>

    <div class="piano">
        <ng-include
            ng-mousedown="strikeKey($event)"
            ng-mouseup="muteKey($event)"
            ng-mouseover="swipeKey($event)"
            ng-mouseout="leaveKey($event)"
            data-octave="3" class="piano-keys" src="'images/PianoKeyboard.svg'"></ng-include>
        <ng-include
            ng-mousedown="strikeKey($event)"
            ng-mouseup="muteKey($event)"
            ng-mouseover="swipeKey($event)"
            ng-mouseout="leaveKey($event)"
            data-octave="4" class="piano-keys" src="'images/PianoKeyboard.svg'"></ng-include>
        <ng-include
            ng-mousedown="strikeKey($event)"
            ng-mouseup="muteKey($event)"
            ng-mouseover="swipeKey($event)"
            ng-mouseout="leaveKey($event)"
            data-octave="5" class="piano-keys" src="'images/PianoKeyboard.svg'"></ng-include>
    </div>

    <div class="code-snippet">
        <pre id="hidden-code" class="hidden">
#!/usr/bin/env python

import barobo
dongle = barobo.Dongle()
dongle.connect()
<span class="unknown-robot-id-comment"><br># Change the robot ID shown below to the ID of your Linkbot.</span>
robot = dongle.getLinkbot('<span class="robot-id">{{(robot._id | uppercase)|| "ABCD"}}</span>')
        </pre>

        <pre>
robot.setBuzzerFrequency({{oneDecimal(frequencyFromScientificPitch(note.scientificPitch))}})
sleep({{note.duration / 1000}})
robot.setBuzzerFrequency(0)
        </pre>

        <div class="hider-tab">
            <a class="expand-program" href="#" ng-click="expandProgram($event)">
                <img src="images/double-chevron-down.svg" alt="Show/hide unabridged code" title="Show/hide unabridged code">
            </a>
        </div>
    </div>
    <br>
    <button ng-click="playNote()" type="button" class="play">Play</button>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-22263798-3', 'auto');
      ga('send', 'pageview');

    </script>
</body>
</html>
