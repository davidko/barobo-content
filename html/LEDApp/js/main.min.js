/*! intro-to-python-chapter-2 26-02-2015 */

var chapter2=angular.module("chapter2",["ngRoute","ui.bootstrap","hljs","ngSanitize"]);chapter2.config(["$routeProvider",function(a){a.when("/",{controller:"lessonOneController",templateUrl:"views/lesson-one.html"}).when("/lesson-two",{controller:"lessonTwoController",templateUrl:"views/lesson-two.html"}).when("/lesson-three",{controller:"lessonThreeController",templateUrl:"views/lesson-three.html"}).when("/lesson-four",{controller:"lessonFourController",templateUrl:"views/lesson-four.html"}).when("/lesson-five",{controller:"lessonFiveController",templateUrl:"views/lesson-five.html"}).when("/lesson-six",{controller:"lessonSixController",templateUrl:"views/lesson-six.html"}).when("/lesson-seven-a",{controller:"lessonSevenAController",templateUrl:"views/lesson-seven-a.html"}).when("/lesson-seven-b",{controller:"lessonSevenBController",templateUrl:"views/lesson-seven-b.html"}).when("/lesson-seven-c",{controller:"lessonSevenCController",templateUrl:"views/lesson-seven-c.html"}).otherwise({redirectTo:"/"})}]),chapter2.controller("lessonOneController",["$scope","$timeout","$interval","robotFactory",function(a,b,c,d){function e(){c.cancel(g),g=null}function f(){console.log("attempting robot acquisition"),a.m.robot=d.getRobot1(),null!==a.m.robot&&(e(),a.m.robotId=a.m.robot.id)}var g=null;a.m={buzzerFrequency:1046.5,sleep1:1.5,sleep2:3,led1:255,led2:0,led3:0,robotId:"",displayAllCode:!1,robot:null,running:!1},a.change=function(b){console.log(b.target),console.log("Buzzer frequencey: "+a.m.buzzerFrequency)},a.toggle=function(){a.m.displayAllCode=!a.m.displayAllCode},a.run=function(){if(null!==a.m.robot){var c,d,e,f,g,h;c=parseFloat(a.m.buzzerFrequency),d=1e3*parseFloat(a.m.sleep1),e=1e3*parseFloat(a.m.sleep2),f=parseFloat(a.m.led1),g=parseFloat(a.m.led2),h=parseFloat(a.m.led3),a.m.running=!0,a.m.robot.buzzerFrequency(c),b(function(){a.m.robot.buzzerFrequency(0),b(function(){a.m.robot.color(f,g,h),a.m.running=!1},e)},d),console.log("Run Clicked")}},a.stopAcquisition=function(){e()},null===a.m.robot&&(g=c(f,1e3))}]).controller("lessonTwoController",["$scope","$timeout","$interval","robotFactory",function(a,b,c,d){function e(){c.cancel(h),h=null}function f(){console.log("attempting robot acquisition"),a.m.robot=d.getRobot1(),null!==a.m.robot&&(e(),a.m.robotId=a.m.robot.id)}function g(c,d,e,f,h){a.m.robot.color(c,d,e),b(function(){a.m.robot.color(0,0,0),b(function(){i--,i>1?g(c,d,e,f,h):a.m.running=!1},h)},f)}var h=null,i=0;a.m={sleep1:.25,sleep2:.25,led1:255,led2:0,led3:0,robotId:"",displayAllCode:!1,robot:null,running:!1},a.run=function(){if(null!==a.m.robot){i=10;var b,c,d,e,f;b=1e3*parseFloat(a.m.sleep1),c=1e3*parseFloat(a.m.sleep2),d=parseFloat(a.m.led1),e=parseFloat(a.m.led2),f=parseFloat(a.m.led3),a.m.running=!0,g(d,e,f,b,c)}},a.toggle=function(){a.m.displayAllCode=!a.m.displayAllCode},a.stopAcquisition=function(){e()},null===a.m.robot&&(h=c(f,1e3))}]).controller("lessonThreeController",["$scope","$timeout","$interval","robotFactory",function(a,b,c,d){function e(){c.cancel(h),h=null}function f(){console.log("attempting robot acquisition"),a.m.robot=d.getRobot1(),null!==a.m.robot&&(e(),a.m.robotId=a.m.robot.id)}function g(c,d,e){a.m.robot.color(255,0,0),b(function(){a.m.robot.color(0,0,0),b(function(){a.m.robot.color(0,0,255),b(function(){i--,i>1?g(c,d,e):a.m.running=!1},e)},d)},c)}var h=null,i=0;a.m={sleep1:3,sleep2:.5,sleep3:.5,sleep4:.5,robotId:"",displayAllCode:!1,robot:null,running:!1},a.run=function(){null!==a.m.robot&&(sleep1=1e3*parseFloat(a.m.sleep1),sleep2=1e3*parseFloat(a.m.sleep2),sleep3=1e3*parseFloat(a.m.sleep3),sleep4=1e3*parseFloat(a.m.sleep4),a.m.running=!0,a.m.robot.color(0,255,0),i=6,b(function(){g(sleep2,sleep3,sleep4)},sleep1))},a.toggle=function(){a.m.displayAllCode=!a.m.displayAllCode},a.stopAcquisition=function(){e()},null===a.m.robot&&(h=c(f,1e3))}]).controller("lessonFourController",["$scope","$timeout","$interval","robotFactory",function(a,b,c,d){function e(){c.cancel(g),g=null}function f(){console.log("attempting robot acquisition"),a.m.robot=d.getRobot1(),null!==a.m.robot&&(e(),a.m.robotId=a.m.robot.id)}var g=null;a.m={mph:30,robotId:"",yellow_time:0,displayAllCode:!1,robot:null,running:!1},a.mphChange=function(){a.m.yellow_time=1.467*a.m.mph/15+1.5},a.toggle=function(){a.m.displayAllCode=!a.m.displayAllCode},a.stopAcquisition=function(){e()},null===a.m.robot&&(g=c(f,1e3)),a.run=function(){if(null!==a.m.robot){a.m.running=!0;var c=1e3*(1.467*parseFloat(a.m.mph)/15+1.5);a.m.robot.color(0,255,0),b(function(){a.m.robot.color(255,255,0),b(function(){a.m.robot.color(255,0,0),a.m.running=!1},c)},3e3)}},a.mphChange()}]).controller("lessonFiveController",["$scope","$timeout","$interval","robotFactory",function(a,b,c,d){function e(){c.cancel(g),g=null,null!==a.m.robot&&a.m.robot.unregister(),a.m.running=!1}function f(){console.log("attempting robot acquisition"),a.m.robot=d.getRobot1(),null!==a.m.robot&&(e(),a.m.robotId=a.m.robot.id)}var g=null;a.m={led1:0,led2:255,led3:0,robotId:"",displayAllCode:!1,robot:null,running:!1},a.toggle=function(){a.m.displayAllCode=!a.m.displayAllCode},a.stopAcquisition=function(){e()},a.run=function(){if(null!==a.m.robot){a.m.running=!0,a.m.robot.color(255,0,0);var b={button:{}};b.button[a.m.robot.BUTTON_A]={callback:function(){var b=parseInt(a.m.led1),c=parseInt(a.m.led2),d=parseInt(a.m.led3);a.m.robot.color(b,c,d)}},a.m.robot.register(b)}},null===a.m.robot&&(g=c(f,1e3))}]).controller("lessonSixController",["$scope","$timeout","$interval","robotFactory",function(a,b,c,d){function e(){c.cancel(g),g=null,null!==a.m.robot&&a.m.robot.unregister(),a.m.running=!1}function f(){console.log("attempting robot acquisition"),a.m.robot=d.getRobot1(),null!==a.m.robot&&(e(),a.m.robotId=a.m.robot.id)}var g=null;a.m={robotId:"",displayAllCode:!1,robot:null,running:!1},a.toggle=function(){a.m.displayAllCode=!a.m.displayAllCode},a.stopAcquisition=function(){e()},a.run=function(){if(null!==a.m.robot){a.m.running=!0,a.m.robot.stop();var b={wheel:{0:{distance:1,callback:function(b,c,d){for(var e=d.position%360;0>e;)e=360+e;e=parseInt(e/360*255),a.m.robot.color(e,0,0)}}}};a.m.robot.register(b)}},null===a.m.robot&&(g=c(f,1e3))}]).controller("lessonSevenAController",["$scope","$timeout","$interval","robotFactory",function(a,b,c,d){function e(){c.cancel(h),h=null,a.m.running=!1}function f(){console.log("attempting robot acquisition"),null===a.m.robot1&&(a.m.robot1=d.getRobot1(),null!==a.m.robot1&&(a.m.robotId1=a.m.robot1.id)),null===a.m.robot1&&(a.m.robot1=d.getRobot2(),null!==a.m.robot2&&(a.m.robotId2=a.m.robot2.id)),null!==a.m.robot1&&null!==a.m.robot2&&e()}function g(c,d,e,f){a.m.robot1.color(c[0],c[1],c[2]),a.m.robot2.color(d[0],d[1],d[2]),b(function(){a.m.robot1.color(0,0,0),a.m.robot2.color(0,0,0),b(function(){a.m.robot1.color(e[0],e[1],e[2]),a.m.robot2.color(f[0],f[1],e[2]),b(function(){i--,i>1?g(c,d,e,f):a.m.running=!1},500)},500)},500)}var h=null,i=0;a.m={robotId1:"",robotId2:"",led1:[255,0,0],led2:[255,0,0],led3:[0,0,255],led4:[0,0,255],count:8,displayAllCode:!1,robot1:null,robot2:null,running:!1},a.toggle=function(){a.m.displayAllCode=!a.m.displayAllCode},a.stopAcquisition=function(){e()},a.run=function(){if(null!==a.m.robot1&&null!==a.m.robot2){a.m.running=!0;var b=a.m.led1.map(function(a){return Math.abs(parseInt(a,10))%256}),c=a.m.led2.map(function(a){return Math.abs(parseInt(a,10))%256}),d=a.m.led3.map(function(a){return Math.abs(parseInt(a,10))%256}),e=a.m.led4.map(function(a){return Math.abs(parseInt(a,10))%256});i=Math.abs(parseInt(a.m.count,10))%26,g(b,c,d,e)}},(null===a.m.robot1||null===a.m.robot2)&&(h=c(f,1e3))}]).controller("lessonSevenBController",["$scope","$timeout","$interval","robotFactory",function(a,b,c,d){function e(){c.cancel(h),h=null,a.m.running=!1}function f(){console.log("attempting robot acquisition"),null===a.m.robot1&&(a.m.robot1=d.getRobot1(),null!==a.m.robot1&&(a.m.robotId1=a.m.robot1.id)),null===a.m.robot1&&(a.m.robot1=d.getRobot2(),null!==a.m.robot2&&(a.m.robotId2=a.m.robot2.id)),null!==a.m.robot1&&null!==a.m.robot2&&e()}function g(c,d,e,f,h,j,k,l){a.m.robot1.color(c[0],c[1],c[2]),a.m.robot2.color(d[0],d[1],d[2]),b(function(){a.m.robot1.color(e[0],e[1],e[2]),a.m.robot2.color(f[0],f[1],e[2]),b(function(){i--,i>1?g(c,d,e,f,h,j):(a.m.robot1.color(h[0],h[1],h[2]),a.m.robot2.color(j[0],j[1],j[2]),a.m.running=!1)},k)},l)}var h=null,i=0;a.m={robotId1:"",robotId2:"",led1:[255,0,0],led2:[0,0,0],led3:[0,0,0],led4:[255,0,0],led5:[0,0,255],led6:[0,0,255],sleep1:.5,sleep2:.5,count:8,displayAllCode:!1,robot1:null,robot2:null,running:!1},a.toggle=function(){a.m.displayAllCode=!a.m.displayAllCode},a.stopAcquisition=function(){e()},a.run=function(){if(null!==a.m.robot1&&null!==a.m.robot2){a.m.running=!0;var b=a.m.led1.map(function(a){return Math.abs(parseInt(a,10))%256}),c=a.m.led2.map(function(a){return Math.abs(parseInt(a,10))%256}),d=a.m.led3.map(function(a){return Math.abs(parseInt(a,10))%256}),e=a.m.led4.map(function(a){return Math.abs(parseInt(a,10))%256}),f=a.m.led4.map(function(a){return Math.abs(parseInt(a,10))%256}),h=a.m.led4.map(function(a){return Math.abs(parseInt(a,10))%256}),j=1e3*parseInt(a.m.sleep1,10),k=1e3*parseInt(a.m.sleep2,10);i=Math.abs(parseInt(a.m.count,10))%36,g(b,c,d,e,f,h,j,k)}},(null===a.m.robot1||null===a.m.robot2)&&(h=c(f,1e3))}]).controller("lessonSevenCController",["$scope","$timeout","$interval","robotFactory",function(){}]),chapter2.directive("contenteditable",["$sce",function(a){return{restrict:"A",require:"?ngModel",link:function(b,c,d,e){function f(){var a=c.html();d.stripBr&&"<br>"==a&&(a=""),isNaN(a)?(a=parseFloat(a.replace(/[^0-9\.]+/g,"")),isNan(a)&&(a=0),e.$setViewValue(a),c.html(a)):e.$setViewValue(a)}e&&(e.$render=function(){c.html(a.getTrustedHtml(e.$viewValue||""))},c.on("blur change",function(){b.$evalAsync(f)}),f())}}}]),chapter2.factory("robotFactory",[function(){var a=null,b=null,c={};return c.getRobot1=function(){if(null===a){var b=Linkbots.acquire(1);1===b.robots.length&&(a=b.robots[0])}return a},c.getRobot2=function(){if(null===b){var a=Linkbots.acquire(1);1===a.robots.length&&(b=a.robots[0])}return b},c}]);
//# sourceMappingURL=main.min.js.map